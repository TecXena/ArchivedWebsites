function uiUploader(e){"use strict";function t(e){for(var t=0;t<e.length;t++)l.files.push(e[t])}function i(){return l.files}function n(e){l.options=e;for(var t=0;t<l.files.length&&l.activeUploads!=l.options.concurrency;t++)l.files[t].active||o(l.files[t],l.options.url)}function s(e){l.files.splice(l.files.indexOf(e),1)}function a(){l.files.splice(0,l.files.length)}function r(e){var t=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],i=+Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,i)).toFixed(i?1:0)+" "+t[isNaN(e)?0:i+1]}function o(e,t){var i,s,a,o="",c="file";if(l.activeUploads+=1,e.active=!0,i=new window.XMLHttpRequest,s=new window.FormData,i.open("POST",t),i.upload.onloadstart=function(){},i.upload.onprogress=function(t){t.lengthComputable&&(e.loaded=t.loaded,e.humanSize=r(t.loaded),l.options.onProgress(e))},i.onload=function(){l.activeUploads-=1,n(l.options),l.options.onCompleted(e)},i.onerror=function(){},o)for(a in o)o.hasOwnProperty(a)&&s.append(a,o[a]);return s.append(c,e,e.name),i.send(s),i}var l=this;return l.files=[],l.options={},l.activeUploads=0,e.info("uiUploader loaded"),{addFiles:t,getFiles:i,files:l.files,startUpload:n,removeFile:s,removeAll:a}}!function(e,t,i){"use strict";function n(e,t){return t=t||Error,function(){var i,n,s=2,a=arguments,r=a[0],o="["+(e?e+":":"")+r+"] ",l=a[1];for(o+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),i=t+s;return i<a.length?_t(a[i]):e}),o+="\nhttp://errors.angularjs.org/1.4.8/"+(e?e+"/":"")+r,n=s,i="?";n<a.length;n++,i="&")o+=i+"p"+(n-s)+"="+encodeURIComponent(_t(a[n]));return new t(o)}}function s(e){if(null==e||A(e))return!1;if(zs(e)||k(e)||Ts&&e instanceof Ts)return!0;var t="length"in Object(e)&&e.length;return x(t)&&(t>=0&&t-1 in e||"function"==typeof e.item)}function a(e,t,i){var n,r;if(e)if(j(e))for(n in e)"prototype"==n||"length"==n||"name"==n||e.hasOwnProperty&&!e.hasOwnProperty(n)||t.call(i,e[n],n,e);else if(zs(e)||s(e)){var o="object"!=typeof e;for(n=0,r=e.length;r>n;n++)(o||n in e)&&t.call(i,e[n],n,e)}else if(e.forEach&&e.forEach!==a)e.forEach(t,i,e);else if($(e))for(n in e)t.call(i,e[n],n,e);else if("function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&t.call(i,e[n],n,e);else for(n in e)xs.call(e,n)&&t.call(i,e[n],n,e);return e}function r(e,t,i){for(var n=Object.keys(e).sort(),s=0;s<n.length;s++)t.call(i,e[n[s]],n[s]);return n}function o(e){return function(t,i){e(i,t)}}function l(){return++Ds}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function d(e,t,i){for(var n=e.$$hashKey,s=0,a=t.length;a>s;++s){var r=t[s];if(y(r)||j(r))for(var o=Object.keys(r),l=0,u=o.length;u>l;l++){var m=o[l],p=r[m];i&&y(p)?C(p)?e[m]=new Date(p.valueOf()):S(p)?e[m]=new RegExp(p):p.nodeName?e[m]=p.cloneNode(!0):I(p)?e[m]=p.clone():(y(e[m])||(e[m]=zs(p)?[]:{}),d(e[m],[p],!0)):e[m]=p}}return c(e,n),e}function u(e){return d(e,Us.call(arguments,1),!1)}function m(e){return d(e,Us.call(arguments,1),!0)}function p(e){return parseInt(e,10)}function g(e,t){return u(Object.create(e),t)}function f(){}function h(e){return e}function v(e){return function(){return e}}function b(e){return j(e.toString)&&e.toString!==Rs}function _(e){return"undefined"==typeof e}function w(e){return"undefined"!=typeof e}function y(e){return null!==e&&"object"==typeof e}function $(e){return null!==e&&"object"==typeof e&&!Is(e)}function k(e){return"string"==typeof e}function x(e){return"number"==typeof e}function C(e){return"[object Date]"===Rs.call(e)}function j(e){return"function"==typeof e}function S(e){return"[object RegExp]"===Rs.call(e)}function A(e){return e&&e.window===e}function T(e){return e&&e.$evalAsync&&e.$watch}function P(e){return"[object File]"===Rs.call(e)}function F(e){return"[object FormData]"===Rs.call(e)}function U(e){return"[object Blob]"===Rs.call(e)}function M(e){return"boolean"==typeof e}function E(e){return e&&j(e.then)}function R(e){return e&&x(e.length)&&Ns.test(Rs.call(e))}function I(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function O(e){var t,i={},n=e.split(",");for(t=0;t<n.length;t++)i[n[t]]=!0;return i}function L(e){return ks(e.nodeName||e[0]&&e[0].nodeName)}function D(e,t){var i=e.indexOf(t);return i>=0&&e.splice(i,1),i}function H(e,t){function i(e,t){var i,s=t.$$hashKey;if(zs(e))for(var a=0,r=e.length;r>a;a++)t.push(n(e[a]));else if($(e))for(i in e)t[i]=n(e[i]);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=n(e[i]));else for(i in e)xs.call(e,i)&&(t[i]=n(e[i]));return c(t,s),t}function n(e){if(!y(e))return e;var t=s.indexOf(e);if(-1!==t)return r[t];if(A(e)||T(e))throw Os("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var n,a=!1;return zs(e)?(n=[],a=!0):R(e)?n=new e.constructor(e):C(e)?n=new Date(e.getTime()):S(e)?(n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),n.lastIndex=e.lastIndex):j(e.cloneNode)?n=e.cloneNode(!0):(n=Object.create(Is(e)),a=!0),s.push(e),r.push(n),a?i(e,n):n}var s=[],r=[];if(t){if(R(t))throw Os("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw Os("cpi","Can't copy! Source and destination are identical.");return zs(t)?t.length=0:a(t,function(e,i){"$$hashKey"!==i&&delete t[i]}),s.push(e),r.push(t),i(e,t)}return n(e)}function z(e,t){if(zs(e)){t=t||[];for(var i=0,n=e.length;n>i;i++)t[i]=e[i]}else if(y(e)){t=t||{};for(var s in e)("$"!==s.charAt(0)||"$"!==s.charAt(1))&&(t[s]=e[s])}return t||e}function N(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var i,n,s,a=typeof e,r=typeof t;if(a==r&&"object"==a){if(!zs(e)){if(C(e))return C(t)?N(e.getTime(),t.getTime()):!1;if(S(e))return S(t)?e.toString()==t.toString():!1;if(T(e)||T(t)||A(e)||A(t)||zs(t)||C(t)||S(t))return!1;s=ht();for(n in e)if("$"!==n.charAt(0)&&!j(e[n])){if(!N(e[n],t[n]))return!1;s[n]=!0}for(n in t)if(!(n in s)&&"$"!==n.charAt(0)&&w(t[n])&&!j(t[n]))return!1;return!0}if(!zs(t))return!1;if((i=e.length)==t.length){for(n=0;i>n;n++)if(!N(e[n],t[n]))return!1;return!0}}return!1}function q(e,t,i){return e.concat(Us.call(t,i))}function V(e,t){return Us.call(e,t||0)}function B(e,t){var i=arguments.length>2?V(arguments,2):[];return!j(t)||t instanceof RegExp?t:i.length?function(){return arguments.length?t.apply(e,q(i,arguments,0)):t.apply(e,i)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function W(e,n){var s=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?s=i:A(n)?s="$WINDOW":n&&t===n?s="$DOCUMENT":T(n)&&(s="$SCOPE"),s}function Y(e,t){return"undefined"==typeof e?i:(x(t)||(t=t?2:null),JSON.stringify(e,W,t))}function J(e){return k(e)?JSON.parse(e):e}function G(e,t){var i=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(i)?t:i}function Q(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function K(e,t,i){i=i?-1:1;var n=G(t,e.getTimezoneOffset());return Q(e,i*(n-e.getTimezoneOffset()))}function X(e){e=Ts(e).clone();try{e.empty()}catch(t){}var i=Ts("<div>").append(e).html();try{return e[0].nodeType===Xs?ks(i):i.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+ks(t)})}catch(t){return ks(i)}}function Z(e){try{return decodeURIComponent(e)}catch(t){}}function et(e){var t={};return a((e||"").split("&"),function(e){var i,n,s;e&&(n=e=e.replace(/\+/g,"%20"),i=e.indexOf("="),-1!==i&&(n=e.substring(0,i),s=e.substring(i+1)),n=Z(n),w(n)&&(s=w(s)?Z(s):!0,xs.call(t,n)?zs(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s))}),t}function tt(e){var t=[];return a(e,function(e,i){zs(e)?a(e,function(e){t.push(nt(i,!0)+(e===!0?"":"="+nt(e,!0)))}):t.push(nt(i,!0)+(e===!0?"":"="+nt(e,!0)))}),t.length?t.join("&"):""}function it(e){return nt(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function nt(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function st(e,t){var i,n,s=Ys.length;for(n=0;s>n;++n)if(i=Ys[n]+t,k(i=e.getAttribute(i)))return i;return null}function at(e,t){var i,n,s={};a(Ys,function(t){var s=t+"app";!i&&e.hasAttribute&&e.hasAttribute(s)&&(i=e,n=e.getAttribute(s))}),a(Ys,function(t){var s,a=t+"app";!i&&(s=e.querySelector("["+a.replace(":","\\:")+"]"))&&(i=s,n=s.getAttribute(a))}),i&&(s.strictDi=null!==st(i,"strict-di"),t(i,n?[n]:[],s))}function rt(i,n,s){y(s)||(s={});var r={strictDi:!1};s=u(r,s);var o=function(){if(i=Ts(i),i.injector()){var e=i[0]===t?"document":X(i);throw Os("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",i)}]),s.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var a=ei(n,s.strictDi);return a.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,i,n){e.$apply(function(){t.data("$injector",n),i(t)(e)})}]),a},l=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return e&&l.test(e.name)&&(s.debugInfoEnabled=!0,e.name=e.name.replace(l,"")),e&&!c.test(e.name)?o():(e.name=e.name.replace(c,""),Ls.resumeBootstrap=function(e){return a(e,function(e){n.push(e)}),o()},void(j(Ls.resumeDeferredBootstrap)&&Ls.resumeDeferredBootstrap()))}function ot(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function lt(e){var t=Ls.element(e).injector();if(!t)throw Os("test","no injector found for element argument to getTestability");return t.get("$$testability")}function ct(e,t){return t=t||"_",e.replace(Js,function(e,i){return(i?t:"")+e.toLowerCase()})}function dt(){var t;if(!Gs){var n=Ws();Ps=_(n)?e.jQuery:n?e[n]:i,Ps&&Ps.fn.on?(Ts=Ps,u(Ps.fn,{scope:va.scope,isolateScope:va.isolateScope,controller:va.controller,injector:va.injector,inheritedData:va.inheritedData}),t=Ps.cleanData,Ps.cleanData=function(e){var i;if(Hs)Hs=!1;else for(var n,s=0;null!=(n=e[s]);s++)i=Ps._data(n,"events"),i&&i.$destroy&&Ps(n).triggerHandler("$destroy");t(e)}):Ts=At,Ls.element=Ts,Gs=!0}}function ut(e,t,i){if(!e)throw Os("areq","Argument '{0}' is {1}",t||"?",i||"required");return e}function mt(e,t,i){return i&&zs(e)&&(e=e[e.length-1]),ut(j(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function pt(e,t){if("hasOwnProperty"===e)throw Os("badname","hasOwnProperty is not a valid {0} name",t)}function gt(e,t,i){if(!t)return e;for(var n,s=t.split("."),a=e,r=s.length,o=0;r>o;o++)n=s[o],e&&(e=(a=e)[n]);return!i&&j(e)?B(a,e):e}function ft(e){for(var t,i=e[0],n=e[e.length-1],s=1;i!==n&&(i=i.nextSibling);s++)(t||e[s]!==i)&&(t||(t=Ts(Us.call(e,0,s))),t.push(i));return t||e}function ht(){return Object.create(null)}function vt(e){function t(e,t,i){return e[t]||(e[t]=i())}var i=n("$injector"),s=n("ng"),a=t(e,"angular",Object);return a.$$minErr=a.$$minErr||n,t(a,"module",function(){var e={};return function(n,a,r){var o=function(e,t){if("hasOwnProperty"===e)throw s("badname","hasOwnProperty is not a valid {0} name",t)};return o(n,"module"),a&&e.hasOwnProperty(n)&&(e[n]=null),t(e,n,function(){function e(e,t,i,n){return n||(n=s),function(){return n[i||"push"]([e,t,arguments]),d}}function t(e,t){return function(i,a){return a&&j(a)&&(a.$$moduleName=n),s.push([e,t,arguments]),d}}if(!a)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",n);var s=[],o=[],l=[],c=e("$injector","invoke","push",o),d={_invokeQueue:s,_configBlocks:o,_runBlocks:l,requires:a,name:n,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:c,run:function(e){return l.push(e),this}};return r&&c(r),d})}})}function bt(e){var t=[];return JSON.stringify(e,function(e,i){if(i=W(e,i),y(i)){if(t.indexOf(i)>=0)return"...";t.push(i)}return i})}function _t(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):_(e)?"undefined":"string"!=typeof e?bt(e):e}function wt(t){u(t,{bootstrap:rt,copy:H,extend:u,merge:m,equals:N,element:Ts,forEach:a,injector:ei,noop:f,bind:B,toJson:Y,fromJson:J,identity:h,isUndefined:_,isDefined:w,isString:k,isFunction:j,isObject:y,isNumber:x,isElement:I,isArray:zs,version:ia,isDate:C,lowercase:ks,uppercase:Cs,callbacks:{counter:0},getTestability:lt,$$minErr:n,$$csp:Bs,reloadWithDebugInfo:ot}),(Fs=vt(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:_n}),e.provider("$compile",di).directive({a:vr,input:Er,textarea:Er,form:$r,script:So,select:Po,style:Uo,option:Fo,ngBind:Or,ngBindHtml:Dr,ngBindTemplate:Lr,ngClass:zr,ngClassEven:qr,ngClassOdd:Nr,ngCloak:Vr,ngController:Br,ngForm:kr,ngHide:yo,ngIf:Jr,ngInclude:Gr,ngInit:Kr,ngNonBindable:mo,ngPluralize:ho,ngRepeat:vo,ngShow:wo,ngStyle:$o,ngSwitch:ko,ngSwitchWhen:xo,ngSwitchDefault:Co,ngOptions:fo,ngTransclude:jo,ngModel:lo,ngList:Xr,ngChange:Hr,pattern:Eo,ngPattern:Eo,required:Mo,ngRequired:Mo,minlength:Io,ngMinlength:Io,maxlength:Ro,ngMaxlength:Ro,ngValue:Ir,ngModelOptions:uo}).directive({ngInclude:Qr}).directive(br).directive(Wr),e.provider({$anchorScroll:ti,$animate:Ua,$animateCss:Ma,$$animateQueue:Fa,$$AnimateRunner:Pa,$browser:oi,$cacheFactory:li,$controller:fi,$document:hi,$exceptionHandler:vi,$filter:Mn,$$forceReflow:La,$interpolate:Fi,$interval:Ui,$http:Si,$httpParamSerializer:_i,$httpParamSerializerJQLike:wi,$httpBackend:Ti,$xhrFactory:Ai,$location:Wi,$log:Yi,$parse:pn,$rootScope:bn,$q:gn,$$q:fn,$sce:kn,$sceDelegate:$n,$sniffer:xn,$templateCache:ci,$templateRequest:Cn,$$testability:jn,$timeout:Sn,$window:Pn,$$rAF:vn,$$jqLite:Gt,$$HashMap:ya,$$cookieReader:Un})}])}function yt(){return++sa}function $t(e){return e.replace(oa,function(e,t,i,n){return n?i.toUpperCase():i}).replace(la,"Moz$1")}function kt(e){return!ma.test(e)}function xt(e){var t=e.nodeType;return t===Qs||!t||t===ea}function Ct(e){for(var t in na[e.ng339])return!0;return!1}function jt(e,t){var i,n,s,r,o=t.createDocumentFragment(),l=[];if(kt(e))l.push(t.createTextNode(e));else{for(i=i||o.appendChild(t.createElement("div")),n=(pa.exec(e)||["",""])[1].toLowerCase(),s=fa[n]||fa._default,i.innerHTML=s[1]+e.replace(ga,"<$1></$2>")+s[2],r=s[0];r--;)i=i.lastChild;l=q(l,i.childNodes),i=o.firstChild,i.textContent=""}return o.textContent="",o.innerHTML="",a(l,function(e){o.appendChild(e)}),o}function St(e,i){i=i||t;var n;return(n=ua.exec(e))?[i.createElement(n[1])]:(n=jt(e,i))?n.childNodes:[]}function At(e){if(e instanceof At)return e;var t;if(k(e)&&(e=qs(e),t=!0),!(this instanceof At)){if(t&&"<"!=e.charAt(0))throw da("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new At(e)}t?Lt(this,St(e)):Lt(this,e)}function Tt(e){return e.cloneNode(!0)}function Pt(e,t){if(t||Ut(e),e.querySelectorAll)for(var i=e.querySelectorAll("*"),n=0,s=i.length;s>n;n++)Ut(i[n])}function Ft(e,t,i,n){if(w(n))throw da("offargs","jqLite#off() does not support the `selector` argument");var s=Mt(e),r=s&&s.events,o=s&&s.handle;if(o)if(t){var l=function(t){var n=r[t];w(i)&&D(n||[],i),w(i)&&n&&n.length>0||(ra(e,t,o),delete r[t])};a(t.split(" "),function(e){l(e),ca[e]&&l(ca[e])})}else for(t in r)"$destroy"!==t&&ra(e,t,o),delete r[t]}function Ut(e,t){var n=e.ng339,s=n&&na[n];if(s){if(t)return void delete s.data[t];s.handle&&(s.events.$destroy&&s.handle({},"$destroy"),Ft(e)),delete na[n],e.ng339=i}}function Mt(e,t){var n=e.ng339,s=n&&na[n];return t&&!s&&(e.ng339=n=yt(),s=na[n]={events:{},data:{},handle:i}),s}function Et(e,t,i){if(xt(e)){var n=w(i),s=!n&&t&&!y(t),a=!t,r=Mt(e,!s),o=r&&r.data;if(n)o[t]=i;else{if(a)return o;if(s)return o&&o[t];u(o,t)}}}function Rt(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function It(e,t){t&&e.setAttribute&&a(t.split(" "),function(t){e.setAttribute("class",qs((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+qs(t)+" "," ")))})}function Ot(e,t){if(t&&e.setAttribute){var i=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");a(t.split(" "),function(e){e=qs(e),-1===i.indexOf(" "+e+" ")&&(i+=e+" ")}),e.setAttribute("class",qs(i))}}function Lt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var i=t.length;if("number"==typeof i&&t.window!==t){if(i)for(var n=0;i>n;n++)e[e.length++]=t[n]}else e[e.length++]=t}}function Dt(e,t){return Ht(e,"$"+(t||"ngController")+"Controller")}function Ht(e,t,i){e.nodeType==ea&&(e=e.documentElement);for(var n=zs(t)?t:[t];e;){for(var s=0,a=n.length;a>s;s++)if(w(i=Ts.data(e,n[s])))return i;e=e.parentNode||e.nodeType===ta&&e.host}}function zt(e){for(Pt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Nt(e,t){t||Pt(e);var i=e.parentNode;i&&i.removeChild(e)}function qt(t,i){i=i||e,"complete"===i.document.readyState?i.setTimeout(t):Ts(i).on("load",t)}function Vt(e,t){var i=ba[t.toLowerCase()];return i&&_a[L(e)]&&i}function Bt(e){return wa[e]}function Wt(e,t){var i=function(i,n){i.isDefaultPrevented=function(){return i.defaultPrevented};var s=t[n||i.type],a=s?s.length:0;if(a){if(_(i.immediatePropagationStopped)){var r=i.stopImmediatePropagation;i.stopImmediatePropagation=function(){i.immediatePropagationStopped=!0,i.stopPropagation&&i.stopPropagation(),r&&r.call(i)}}i.isImmediatePropagationStopped=function(){return i.immediatePropagationStopped===!0};var o=s.specialHandlerWrapper||Yt;a>1&&(s=z(s));for(var l=0;a>l;l++)i.isImmediatePropagationStopped()||o(e,i,s[l])}};return i.elem=e,i}function Yt(e,t,i){i.call(e,t)}function Jt(e,t,i){var n=t.relatedTarget;(!n||n!==e&&!ha.call(e,n))&&i.call(e,t)}function Gt(){this.$get=function(){return u(At,{hasClass:function(e,t){return e.attr&&(e=e[0]),Rt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Ot(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),It(e,t)}})}}function Qt(e,t){var i=e&&e.$$hashKey;if(i)return"function"==typeof i&&(i=e.$$hashKey()),i;var n=typeof e;return i="function"==n||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||l)():n+":"+e}function Kt(e,t){if(t){var i=0;this.nextUid=function(){return++i}}a(e,this.put,this)}function Xt(e){var t=e.toString().replace(Ca,""),i=t.match($a);return i?"function("+(i[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Zt(e,t,i){var n,s,r,o;if("function"==typeof e){if(!(n=e.$inject)){if(n=[],e.length){if(t)throw k(i)&&i||(i=e.name||Xt(e)),ja("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",i);s=e.toString().replace(Ca,""),r=s.match($a),a(r[1].split(ka),function(e){e.replace(xa,function(e,t,i){n.push(i)})})}e.$inject=n}}else zs(e)?(o=e.length-1,mt(e[o],"fn"),n=e.slice(0,o)):mt(e,"fn",!0);return n}function ei(e,t){function n(e){return function(t,i){return y(t)?void a(t,o(e)):e(t,i)}}function s(e,t){if(pt(e,"service"),(j(t)||zs(t))&&(t=x.instantiate(t)),!t.$get)throw ja("pget","Provider '{0}' must define $get factory method.",e);return $[e+h]=t}function r(e,t){return function(){var i=S.invoke(t,this);if(_(i))throw ja("undef","Provider '{0}' must return a value from $get factory method.",e);return i}}function l(e,t,i){return s(e,{$get:i!==!1?r(e,t):t})}function c(e,t){return l(e,["$injector",function(e){return e.instantiate(t)}])}function d(e,t){return l(e,v(t),!1)}function u(e,t){pt(e,"constant"),$[e]=t,C[e]=t}function m(e,t){var i=x.get(e+h),n=i.$get;i.$get=function(){var e=S.invoke(n,i);return S.invoke(t,null,{$delegate:e})}}function p(e){ut(_(e)||zs(e),"modulesToLoad","not an array");var t,i=[];return a(e,function(e){function n(e){var t,i;for(t=0,i=e.length;i>t;t++){var n=e[t],s=x.get(n[0]);s[n[1]].apply(s,n[2])}}if(!w.get(e)){w.put(e,!0);try{k(e)?(t=Fs(e),i=i.concat(p(t.requires)).concat(t._runBlocks),n(t._invokeQueue),n(t._configBlocks)):j(e)?i.push(x.invoke(e)):zs(e)?i.push(x.invoke(e)):mt(e,"module")}catch(s){throw zs(e)&&(e=e[e.length-1]),s.message&&s.stack&&-1==s.stack.indexOf(s.message)&&(s=s.message+"\n"+s.stack),ja("modulerr","Failed to instantiate module {0} due to:\n{1}",e,s.stack||s.message||s)}}}),i}function g(e,i){function n(t,n){if(e.hasOwnProperty(t)){if(e[t]===f)throw ja("cdep","Circular dependency found: {0}",t+" <- "+b.join(" <- "));return e[t]}try{return b.unshift(t),e[t]=f,e[t]=i(t,n)}catch(s){throw e[t]===f&&delete e[t],s}finally{b.shift()}}function s(e,i,s,a){"string"==typeof s&&(a=s,s=null);var r,o,l,c=[],d=ei.$$annotate(e,t,a);for(o=0,r=d.length;r>o;o++){if(l=d[o],"string"!=typeof l)throw ja("itkn","Incorrect injection token! Expected service name as string, got {0}",l);c.push(s&&s.hasOwnProperty(l)?s[l]:n(l,a))}return zs(e)&&(e=e[r]),e.apply(i,c)}function a(e,t,i){var n=Object.create((zs(e)?e[e.length-1]:e).prototype||null),a=s(e,n,t,i);return y(a)||j(a)?a:n}return{invoke:s,instantiate:a,get:n,annotate:ei.$$annotate,has:function(t){return $.hasOwnProperty(t+h)||e.hasOwnProperty(t)}}}t=t===!0;var f={},h="Provider",b=[],w=new Kt([],!0),$={$provide:{provider:n(s),factory:n(l),service:n(c),value:n(d),constant:n(u),decorator:m}},x=$.$injector=g($,function(e,t){throw Ls.isString(t)&&b.push(t),ja("unpr","Unknown provider: {0}",b.join(" <- "))}),C={},S=C.$injector=g(C,function(e,t){var n=x.get(e+h,t);return S.invoke(n.$get,n,i,e)});return a(p(e),function(e){e&&S.invoke(e)}),S}function ti(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,i,n){function s(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===L(e)?(t=e,!0):void 0}),t}function a(){var e=o.yOffset;if(j(e))e=e();else if(I(e)){var i=e[0],n=t.getComputedStyle(i);e="fixed"!==n.position?0:i.getBoundingClientRect().bottom}else x(e)||(e=0);return e}function r(e){if(e){e.scrollIntoView();var i=a();if(i){var n=e.getBoundingClientRect().top;t.scrollBy(0,n-i)}}else t.scrollTo(0,0)}function o(e){e=k(e)?e:i.hash();var t;e?(t=l.getElementById(e))?r(t):(t=s(l.getElementsByName(e)))?r(t):"top"===e&&r(null):r(null)}var l=t.document;return e&&n.$watch(function(){return i.hash()},function(e,t){(e!==t||""!==e)&&qt(function(){n.$evalAsync(o)})}),o}]}function ii(e,t){return e||t?e?t?(zs(e)&&(e=e.join(" ")),zs(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function ni(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.nodeType===Aa)return i}}function si(e){k(e)&&(e=e.split(" "));var t=ht();return a(e,function(e){e.length&&(t[e]=!0)}),t}function ai(e){return y(e)?e:{}}function ri(e,t,i,n){function s(e){try{e.apply(null,V(arguments,1))}finally{if(b--,0===b)for(;w.length;)try{w.pop()()}catch(t){i.error(t)}}}function r(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function o(){C=null,c(),d()}function l(){try{return p.state}catch(e){}}function c(){y=l(),y=_(y)?null:y,N(y,A)&&(y=A),A=y}function d(){(k!==u.url()||$!==y)&&(k=u.url(),$=y,a(j,function(e){e(u.url(),y)}))}var u=this,m=(t[0],e.location),p=e.history,g=e.setTimeout,h=e.clearTimeout,v={};u.isMock=!1;var b=0,w=[];u.$$completeOutstandingRequest=s,u.$$incOutstandingRequestCount=function(){b++},u.notifyWhenNoOutstandingRequests=function(e){0===b?e():w.push(e)};var y,$,k=m.href,x=t.find("base"),C=null;c(),$=y,u.url=function(t,i,s){if(_(s)&&(s=null),m!==e.location&&(m=e.location),p!==e.history&&(p=e.history),t){var a=$===s;if(k===t&&(!n.history||a))return u;var o=k&&Oi(k)===Oi(t);return k=t,$=s,!n.history||o&&a?((!o||C)&&(C=t),i?m.replace(t):o?m.hash=r(t):m.href=t,m.href!==t&&(C=t)):(p[i?"replaceState":"pushState"](s,"",t),c(),$=y),u}return C||m.href.replace(/%27/g,"'")},u.state=function(){return y};var j=[],S=!1,A=null;u.onUrlChange=function(t){return S||(n.history&&Ts(e).on("popstate",o),Ts(e).on("hashchange",o),S=!0),j.push(t),t},u.$$applicationDestroyed=function(){Ts(e).off("hashchange popstate",o)},u.$$checkUrlChange=d,u.baseHref=function(){var e=x.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},u.defer=function(e,t){var i;return b++,i=g(function(){delete v[i],s(e)},t||0),v[i]=!0,i},u.defer.cancel=function(e){return v[e]?(delete v[e],h(e),s(f),!0):!1}}function oi(){this.$get=["$window","$log","$sniffer","$document",function(e,t,i,n){return new ri(e,n,t,i)}]}function li(){this.$get=function(){function e(e,i){function s(e){e!=m&&(p?p==e&&(p=e.n):p=e,a(e.n,e.p),a(e,m),m=e,m.n=null)}function a(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw n("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var r=0,o=u({},i,{id:e}),l=ht(),c=i&&i.capacity||Number.MAX_VALUE,d=ht(),m=null,p=null;return t[e]={put:function(e,t){if(!_(t)){if(c<Number.MAX_VALUE){var i=d[e]||(d[e]={key:e});s(i)}return e in l||r++,l[e]=t,r>c&&this.remove(p.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;s(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;t==m&&(m=t.p),t==p&&(p=t.n),a(t.n,t.p),delete d[e]}e in l&&(delete l[e],r--)},removeAll:function(){l=ht(),r=0,d=ht(),m=p=null},destroy:function(){l=null,o=null,d=null,delete t[e]},info:function(){return u({},o,{size:r})}}}var t={};return e.info=function(){var e={};return a(t,function(t,i){e[i]=t.info()}),e},e.get=function(e){return t[e]},e}}function ci(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function di(e,n){function s(e,t,i){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,s={};return a(e,function(e,a){var r=e.match(n);if(!r)throw Ea("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,a,e,i?"controller bindings definition":"isolate scope definition");s[a]={mode:r[1][0],collection:"*"===r[2],optional:"?"===r[3],attrName:r[4]||a}}),s}function r(e,t){var i={isolateScope:null,bindToController:null};if(y(e.scope)&&(e.bindToController===!0?(i.bindToController=s(e.scope,t,!0),i.isolateScope={}):i.isolateScope=s(e.scope,t,!1)),y(e.bindToController)&&(i.bindToController=s(e.bindToController,t,!0)),y(i.bindToController)){var n=e.controller,a=e.controllerAs;if(!n)throw Ea("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!gi(n,a))throw Ea("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return i}function l(e){var t=e.charAt(0);if(!t||t!==ks(t))throw Ea("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Ea("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}var c={},d="Directive",m=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,p=/(([\w\-]+)(?:\:([^;]+))?;?)/,b=O("ngSrc,ngSrcset,src,srcset"),$=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,x=/^(on[a-z]+|formaction)$/;this.directive=function S(t,i){return pt(t,"directive"),k(t)?(l(t),ut(i,"directiveFactory"),c.hasOwnProperty(t)||(c[t]=[],e.factory(t+d,["$injector","$exceptionHandler",function(e,i){var n=[];return a(c[t],function(s,a){try{var o=e.invoke(s);j(o)?o={compile:v(o)}:!o.compile&&o.link&&(o.compile=v(o.link)),o.priority=o.priority||0,o.index=a,o.name=o.name||t,o.require=o.require||o.controller&&o.name,o.restrict=o.restrict||"EA";var l=o.$$bindings=r(o,o.name);y(l.isolateScope)&&(o.$$isolateBindings=l.isolateScope),o.$$moduleName=s.$$moduleName,n.push(o)}catch(c){i(c)}}),n}])),c[t].push(i)):a(t,o(S)),this},this.aHrefSanitizationWhitelist=function(e){return w(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var C=!0;this.debugInfoEnabled=function(e){return w(e)?(C=e,this):C},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,n,s,r,o,l,v,w,S,A,P){function F(e,t){try{e.addClass(t)}catch(i){}}function U(e,t,i,n,s){e instanceof Ts||(e=Ts(e)),a(e,function(t,i){t.nodeType==Xs&&t.nodeValue.match(/\S+/)&&(e[i]=Ts(t).wrap("<span></span>").parent()[0])});var r=E(e,t,e,i,n,s);U.$$addScopeClass(e);var o=null;return function(t,i,n){ut(t,"scope"),s&&s.needsNewScope&&(t=t.$parent.$new()),n=n||{};var a=n.parentBoundTranscludeFn,l=n.transcludeControllers,c=n.futureParentElement;a&&a.$$boundTransclude&&(a=a.$$boundTransclude),o||(o=M(c));var d;if(d="html"!==o?Ts(Z(o,Ts("<div>").append(e).html())):i?va.clone.call(e):e,l)for(var u in l)d.data("$"+u+"Controller",l[u].instance);return U.$$addScopeInfo(d,t),i&&i(d,t),r&&r(t,d,d,a),d}}function M(e){var t=e&&e[0];return t&&"foreignobject"!==L(t)&&t.toString().match(/SVG/)?"svg":"html"}function E(e,t,n,s,a,r){function o(e,n,s,a){var r,o,l,c,d,u,m,p,h;if(g){var v=n.length;for(h=new Array(v),d=0;d<f.length;d+=3)m=f[d],h[m]=n[m]}else h=n;for(d=0,u=f.length;u>d;)l=h[f[d++]],r=f[d++],o=f[d++],r?(r.scope?(c=e.$new(),U.$$addScopeInfo(Ts(l),c)):c=e,p=r.transcludeOnThisElement?R(e,r.transclude,a):!r.templateOnThisElement&&a?a:!a&&t?R(e,t):null,r(o,c,l,s,p)):o&&o(e,l.childNodes,i,a)}for(var l,c,d,u,m,p,g,f=[],h=0;h<e.length;h++)l=new rt,c=I(e[h],[],l,0===h?s:i,a),d=c.length?z(c,e[h],l,t,n,null,[],[],r):null,d&&d.scope&&U.$$addScopeClass(l.$$element),m=d&&d.terminal||!(u=e[h].childNodes)||!u.length?null:E(u,d?(d.transcludeOnThisElement||!d.templateOnThisElement)&&d.transclude:t),(d||m)&&(f.push(h,d,m),p=!0,g=g||d),r=null;return p?o:null}function R(e,t,i){var n=function(n,s,a,r,o){return n||(n=e.$new(!1,o),n.$$transcluded=!0),t(n,s,{parentBoundTranscludeFn:i,transcludeControllers:a,futureParentElement:r})};return n}function I(e,t,i,n,s){var a,r,o=e.nodeType,l=i.$attr;switch(o){case Qs:B(t,ui(L(e)),"E",n,s);for(var c,d,u,g,f,h,v=e.attributes,b=0,_=v&&v.length;_>b;b++){var w=!1,$=!1;c=v[b],d=c.name,f=qs(c.value),g=ui(d),(h=mt.test(g))&&(d=d.replace(Ra,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var x=g.match(pt);x&&W(x[1])&&(w=d,$=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),u=ui(d.toLowerCase()),l[u]=d,(h||!i.hasOwnProperty(u))&&(i[u]=f,Vt(e,u)&&(i[u]=!0)),tt(e,t,f,u,h),B(t,u,"A",n,s,w,$)}if(r=e.className,y(r)&&(r=r.animVal),k(r)&&""!==r)for(;a=p.exec(r);)u=ui(a[2]),B(t,u,"C",n,s)&&(i[u]=qs(a[3])),r=r.substr(a.index+a[0].length);break;case Xs:if(11===As)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===Xs;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);K(t,e.nodeValue);break;case Zs:try{a=m.exec(e.nodeValue),a&&(u=ui(a[1]),B(t,u,"M",n,s)&&(i[u]=qs(a[2])))}catch(C){}}return t.sort(G),t}function O(e,t,i){var n=[],s=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Ea("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,i);e.nodeType==Qs&&(e.hasAttribute(t)&&s++,e.hasAttribute(i)&&s--),n.push(e),e=e.nextSibling}while(s>0)}else n.push(e);return Ts(n)}function H(e,t,i){return function(n,s,a,r,o){return s=O(s[0],t,i),e(n,s,a,r,o)}}function z(e,n,a,r,o,c,d,u,m){function p(e,t,i,n){e&&(i&&(e=H(e,i,n)),e.require=v.require,e.directiveName=b,(P===v||v.$$isolateScope)&&(e=nt(e,{isolateScope:!0})),d.push(e)),t&&(i&&(t=H(t,i,n)),t.require=v.require,t.directiveName=b,(P===v||v.$$isolateScope)&&(t=nt(t,{isolateScope:!0})),u.push(t))}function g(e,t,i,n){var s;if(k(t)){var a=t.match($),r=t.substring(a[0].length),o=a[1]||a[3],l="?"===a[2];if("^^"===o?i=i.parent():(s=n&&n[r],s=s&&s.instance),!s){var c="$"+r+"Controller";s=o?i.inheritedData(c):i.data(c)}if(!s&&!l)throw Ea("ctreq","Controller '{0}', required by directive '{1}', can't be found!",r,e)}else if(zs(t)){s=[];for(var d=0,u=t.length;u>d;d++)s[d]=g(e,t[d],i,n)}return s||null}function f(e,t,i,n,s,a){var r=ht();for(var o in n){var c=n[o],d={$scope:c===P||c.$$isolateScope?s:a,$element:e,$attrs:t,$transclude:i},u=c.controller;"@"==u&&(u=t[c.name]);var m=l(u,d,!0,c.controllerAs);r[c.name]=m,L||e.data("$"+c.name+"Controller",m.instance)}return r}function h(e,t,s,r,o){function l(e,t,n){var s;return T(e)||(n=t,t=e,e=i),L&&(s=h),n||(n=L?b.parent():b),o(e,t,s,n,M)}var c,m,p,h,v,b,_,w,y;n===s?(_=a,b=a.$$element):(b=Ts(s),_=new rt(b,a)),p=t,P?m=t.$new(!0):S&&(p=t.$parent),o&&(v=l,v.$$boundTransclude=o),A&&(h=f(b,_,v,A,m,t)),P&&(U.$$addScopeInfo(b,m,!0,!(F&&(F===P||F===P.$$originalDirective))),U.$$addScopeClass(b,!0),m.$$isolateBindings=P.$$isolateBindings,w=at(t,_,m,m.$$isolateBindings,P),w&&m.$on("$destroy",w));for(var $ in h){var k=A[$],x=h[$],C=k.$$bindings.bindToController;x.identifier&&C&&(y=at(p,_,x.instance,C,k));var j=x();j!==x.instance&&(x.instance=j,b.data("$"+k.name+"Controller",j),y&&y(),y=at(p,_,x.instance,C,k))}for(B=0,W=d.length;W>B;B++)c=d[B],st(c,c.isolateScope?m:t,b,_,c.require&&g(c.directiveName,c.require,b,h),v);var M=t;for(P&&(P.template||null===P.templateUrl)&&(M=m),e&&e(M,s.childNodes,i,o),B=u.length-1;B>=0;B--)c=u[B],st(c,c.isolateScope?m:t,b,_,c.require&&g(c.directiveName,c.require,b,h),v)
}m=m||{};for(var v,b,_,w,x,C=-Number.MAX_VALUE,S=m.newScopeDirective,A=m.controllerDirectives,P=m.newIsolateScopeDirective,F=m.templateDirective,M=m.nonTlbTranscludeDirective,E=!1,R=!1,L=m.hasElementTranscludeDirective,D=a.$$element=Ts(n),z=c,N=r,B=0,W=e.length;W>B;B++){v=e[B];var G=v.$$start,K=v.$$end;if(G&&(D=O(n,G,K)),_=i,C>v.priority)break;if((x=v.scope)&&(v.templateUrl||(y(x)?(Q("new/isolated scope",P||S,v,D),P=v):Q("new/isolated scope",P,v,D)),S=S||v),b=v.name,!v.templateUrl&&v.controller&&(x=v.controller,A=A||ht(),Q("'"+b+"' controller",A[b],v,D),A[b]=v),(x=v.transclude)&&(E=!0,v.$$tlb||(Q("transclusion",M,v,D),M=v),"element"==x?(L=!0,C=v.priority,_=D,D=a.$$element=Ts(t.createComment(" "+b+": "+a[b]+" ")),n=D[0],it(o,V(_),n),N=U(_,r,C,z&&z.name,{nonTlbTranscludeDirective:M})):(_=Ts(Tt(n)).contents(),D.empty(),N=U(_,r,i,i,{needsNewScope:v.$$isolateScope||v.$$newScope}))),v.template)if(R=!0,Q("template",F,v,D),F=v,x=j(v.template)?v.template(D,a):v.template,x=dt(x),v.replace){if(z=v,_=kt(x)?[]:pi(Z(v.templateNamespace,qs(x))),n=_[0],1!=_.length||n.nodeType!==Qs)throw Ea("tplrt","Template for directive '{0}' must have exactly one root element. {1}",b,"");it(o,D,n);var et={$attr:{}},tt=I(n,[],et),ot=e.splice(B+1,e.length-(B+1));(P||S)&&q(tt,P,S),e=e.concat(tt).concat(ot),Y(a,et),W=e.length}else D.html(x);if(v.templateUrl)R=!0,Q("template",F,v,D),F=v,v.replace&&(z=v),h=J(e.splice(B,e.length-B),D,a,o,E&&N,d,u,{controllerDirectives:A,newScopeDirective:S!==v&&S,newIsolateScopeDirective:P,templateDirective:F,nonTlbTranscludeDirective:M}),W=e.length;else if(v.compile)try{w=v.compile(D,a,N),j(w)?p(null,w,G,K):w&&p(w.pre,w.post,G,K)}catch(lt){s(lt,X(D))}v.terminal&&(h.terminal=!0,C=Math.max(C,v.priority))}return h.scope=S&&S.scope===!0,h.transcludeOnThisElement=E,h.templateOnThisElement=R,h.transclude=N,m.hasElementTranscludeDirective=L,h}function q(e,t,i){for(var n=0,s=e.length;s>n;n++)e[n]=g(e[n],{$$isolateScope:t,$$newScope:i})}function B(t,i,n,a,r,o,l){if(i===r)return null;var u=null;if(c.hasOwnProperty(i))for(var m,p=e.get(i+d),f=0,h=p.length;h>f;f++)try{m=p[f],(_(a)||a>m.priority)&&-1!=m.restrict.indexOf(n)&&(o&&(m=g(m,{$$start:o,$$end:l})),t.push(m),u=m)}catch(v){s(v)}return u}function W(t){if(c.hasOwnProperty(t))for(var i,n=e.get(t+d),s=0,a=n.length;a>s;s++)if(i=n[s],i.multiElement)return!0;return!1}function Y(e,t){var i=t.$attr,n=e.$attr,s=e.$$element;a(e,function(n,s){"$"!=s.charAt(0)&&(t[s]&&t[s]!==n&&(n+=("style"===s?";":" ")+t[s]),e.$set(s,n,!0,i[s]))}),a(t,function(t,a){"class"==a?(F(s,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==a?(s.attr("style",s.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==a.charAt(0)||e.hasOwnProperty(a)||(e[a]=t,n[a]=i[a])})}function J(e,t,i,n,s,o,l,c){var d,u,m=[],p=t[0],f=e.shift(),h=g(f,{templateUrl:null,transclude:null,replace:null,$$originalDirective:f}),v=j(f.templateUrl)?f.templateUrl(t,i):f.templateUrl,b=f.templateNamespace;return t.empty(),r(v).then(function(r){var g,_,w,$;if(r=dt(r),f.replace){if(w=kt(r)?[]:pi(Z(b,qs(r))),g=w[0],1!=w.length||g.nodeType!==Qs)throw Ea("tplrt","Template for directive '{0}' must have exactly one root element. {1}",f.name,v);_={$attr:{}},it(n,t,g);var k=I(g,[],_);y(f.scope)&&q(k,!0),e=k.concat(e),Y(i,_)}else g=p,t.html(r);for(e.unshift(h),d=z(e,g,i,s,t,f,o,l,c),a(n,function(e,i){e==g&&(n[i]=t[0])}),u=E(t[0].childNodes,s);m.length;){var x=m.shift(),C=m.shift(),j=m.shift(),S=m.shift(),A=t[0];if(!x.$$destroyed){if(C!==p){var T=C.className;c.hasElementTranscludeDirective&&f.replace||(A=Tt(g)),it(j,Ts(C),A),F(Ts(A),T)}$=d.transcludeOnThisElement?R(x,d.transclude,S):S,d(u,x,A,n,$)}}m=null}),function(e,t,i,n,s){var a=s;t.$$destroyed||(m?m.push(t,i,n,a):(d.transcludeOnThisElement&&(a=R(t,d.transclude,s)),d(u,t,i,n,a)))}}function G(e,t){var i=t.priority-e.priority;return 0!==i?i:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function Q(e,t,i,n){function s(e){return e?" (module: "+e+")":""}if(t)throw Ea("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,s(t.$$moduleName),i.name,s(i.$$moduleName),e,X(n))}function K(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&U.$$addBindingClass(t),function(e,t){var s=t.parent();n||U.$$addBindingClass(s),U.$$addBindingInfo(s,i.expressions),e.$watch(i,function(e){t[0].nodeValue=e})}}})}function Z(e,i){switch(e=ks(e||"html")){case"svg":case"math":var n=t.createElement("div");return n.innerHTML="<"+e+">"+i+"</"+e+">",n.childNodes[0].childNodes;default:return i}}function et(e,t){if("srcdoc"==t)return S.HTML;var i=L(e);return"xlinkHref"==t||"form"==i&&"action"==t||"img"!=i&&("src"==t||"ngSrc"==t)?S.RESOURCE_URL:void 0}function tt(e,t,i,s,a){var r=et(e,s);a=b[s]||a;var o=n(i,!0,r,a);if(o){if("multiple"===s&&"select"===L(e))throw Ea("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",X(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var c=l.$$observers||(l.$$observers=ht());if(x.test(s))throw Ea("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var d=l[s];d!==i&&(o=d&&n(d,!0,r,a),i=d),o&&(l[s]=o(e),(c[s]||(c[s]=[])).$$inter=!0,(l.$$observers&&l.$$observers[s].$$scope||e).$watch(o,function(e,t){"class"===s&&e!=t?l.$updateClass(e,t):l.$set(s,e)}))}}}})}}function it(e,i,n){var s,a,r=i[0],o=i.length,l=r.parentNode;if(e)for(s=0,a=e.length;a>s;s++)if(e[s]==r){e[s++]=n;for(var c=s,d=c+o-1,u=e.length;u>c;c++,d++)u>d?e[c]=e[d]:delete e[c];e.length-=o-1,e.context===r&&(e.context=n);break}l&&l.replaceChild(n,r);var m=t.createDocumentFragment();m.appendChild(r),Ts.hasData(r)&&(Ts.data(n,Ts.data(r)),Ps?(Hs=!0,Ps.cleanData([r])):delete Ts.cache[r[Ts.expando]]);for(var p=1,g=i.length;g>p;p++){var f=i[p];Ts(f).remove(),m.appendChild(f),delete i[p]}i[0]=n,i.length=1}function nt(e,t){return u(function(){return e.apply(null,arguments)},e,t)}function st(e,t,i,n,a,r){try{e(t,i,n,a,r)}catch(o){s(o,X(i))}}function at(e,t,i,s,r){var l=[];return a(s,function(s,a){var c,d,u,m,p=s.attrName,g=s.optional,h=s.mode;switch(h){case"@":g||xs.call(t,p)||(i[a]=t[p]=void 0),t.$observe(p,function(e){k(e)&&(i[a]=e)}),t.$$observers[p].$$scope=e,k(t[p])&&(i[a]=n(t[p])(e));break;case"=":if(!xs.call(t,p)){if(g)break;t[p]=void 0}if(g&&!t[p])break;d=o(t[p]),m=d.literal?N:function(e,t){return e===t||e!==e&&t!==t},u=d.assign||function(){throw c=i[a]=d(e),Ea("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",t[p],r.name)},c=i[a]=d(e);var v=function(t){return m(t,i[a])||(m(t,c)?u(e,t=i[a]):i[a]=t),c=t};v.$stateful=!0;var b;b=s.collection?e.$watchCollection(t[p],v):e.$watch(o(t[p],v),null,d.literal),l.push(b);break;case"&":if(d=t.hasOwnProperty(p)?o(t[p]):f,d===f&&g)break;i[a]=function(t){return d(e,t)}}}),l.length&&function(){for(var e=0,t=l.length;t>e;++e)l[e]()}}var rt=function(e,t){if(t){var i,n,s,a=Object.keys(t);for(i=0,n=a.length;n>i;i++)s=a[i],this[s]=t[s]}else this.$attr={};this.$$element=e};rt.prototype={$normalize:ui,$addClass:function(e){e&&e.length>0&&A.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&A.removeClass(this.$$element,e)},$updateClass:function(e,t){var i=mi(e,t);i&&i.length&&A.addClass(this.$$element,i);var n=mi(t,e);n&&n.length&&A.removeClass(this.$$element,n)},$set:function(e,t,i,n){var r,o=this.$$element[0],l=Vt(o,e),c=Bt(e),d=e;if(l?(this.$$element.prop(e,t),n=l):c&&(this[c]=t,d=c),this[e]=t,n?this.$attr[e]=n:(n=this.$attr[e],n||(this.$attr[e]=n=ct(e,"-"))),r=L(this.$$element),"a"===r&&"href"===e||"img"===r&&"src"===e)this[e]=t=P(t,"src"===e);else if("img"===r&&"srcset"===e){for(var u="",m=qs(t),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,g=/\s/.test(m)?p:/(,)/,f=m.split(g),h=Math.floor(f.length/2),v=0;h>v;v++){var b=2*v;u+=P(qs(f[b]),!0),u+=" "+qs(f[b+1])}var w=qs(f[2*v]).split(/\s/);u+=P(qs(w[0]),!0),2===w.length&&(u+=" "+qs(w[1])),this[e]=t=u}i!==!1&&(null===t||_(t)?this.$$element.removeAttr(n):this.$$element.attr(n,t));var y=this.$$observers;y&&a(y[d],function(e){try{e(t)}catch(i){s(i)}})},$observe:function(e,t){var i=this,n=i.$$observers||(i.$$observers=ht()),s=n[e]||(n[e]=[]);return s.push(t),v.$evalAsync(function(){s.$$inter||!i.hasOwnProperty(e)||_(i[e])||t(i[e])}),function(){D(s,t)}}};var ot=n.startSymbol(),lt=n.endSymbol(),dt="{{"==ot||"}}"==lt?h:function(e){return e.replace(/\{\{/g,ot).replace(/}}/g,lt)},mt=/^ngAttr[A-Z]/,pt=/^(.+)Start$/;return U.$$addBindingInfo=C?function(e,t){var i=e.data("$binding")||[];zs(t)?i=i.concat(t):i.push(t),e.data("$binding",i)}:f,U.$$addBindingClass=C?function(e){F(e,"ng-binding")}:f,U.$$addScopeInfo=C?function(e,t,i,n){var s=i?n?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(s,t)}:f,U.$$addScopeClass=C?function(e,t){F(e,t?"ng-isolate-scope":"ng-scope")}:f,U}]}function ui(e){return $t(e.replace(Ra,""))}function mi(e,t){var i="",n=e.split(/\s+/),s=t.split(/\s+/);e:for(var a=0;a<n.length;a++){for(var r=n[a],o=0;o<s.length;o++)if(r==s[o])continue e;i+=(i.length>0?" ":"")+r}return i}function pi(e){e=Ts(e);var t=e.length;if(1>=t)return e;for(;t--;){var i=e[t];i.nodeType===Zs&&Ms.call(e,t,1)}return e}function gi(e,t){if(t&&k(t))return t;if(k(e)){var i=Oa.exec(e);if(i)return i[3]}}function fi(){var e={},t=!1;this.register=function(t,i){pt(t,"controller"),y(t)?u(e,t):e[t]=i},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(s,a){function r(e,t,i,s){if(!e||!y(e.$scope))throw n("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",s,t);e.$scope[t]=i}return function(n,o,l,c){var d,m,p,g;if(l=l===!0,c&&k(c)&&(g=c),k(n)){if(m=n.match(Oa),!m)throw Ia("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",n);p=m[1],g=g||m[3],n=e.hasOwnProperty(p)?e[p]:gt(o.$scope,p,!0)||(t?gt(a,p,!0):i),mt(n,p,!0)}if(l){var f=(zs(n)?n[n.length-1]:n).prototype;d=Object.create(f||null),g&&r(o,g,d,p||n.name);var h;return h=u(function(){var e=s.invoke(n,d,o,p);return e!==d&&(y(e)||j(e))&&(d=e,g&&r(o,g,d,p||n.name)),d},{instance:d,identifier:g})}return d=s.instantiate(n,o,p),g&&r(o,g,d,p||n.name),d}}]}function hi(){this.$get=["$window",function(e){return Ts(e.document)}]}function vi(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function bi(e){return y(e)?C(e)?e.toISOString():Y(e):e}function _i(){this.$get=function(){return function(e){if(!e)return"";var t=[];return r(e,function(e,i){null===e||_(e)||(zs(e)?a(e,function(e){t.push(nt(i)+"="+nt(bi(e)))}):t.push(nt(i)+"="+nt(bi(e))))}),t.join("&")}}}function wi(){this.$get=function(){return function(e){function t(e,n,s){null===e||_(e)||(zs(e)?a(e,function(e,i){t(e,n+"["+(y(e)?i:"")+"]")}):y(e)&&!C(e)?r(e,function(e,i){t(e,n+(s?"":"[")+i+(s?"":"]"))}):i.push(nt(n)+"="+nt(bi(e))))}if(!e)return"";var i=[];return t(e,"",!0),i.join("&")}}}function yi(e,t){if(k(e)){var i=e.replace(qa,"").trim();if(i){var n=t("Content-Type");(n&&0===n.indexOf(Da)||$i(i))&&(e=J(i))}}return e}function $i(e){var t=e.match(za);return t&&Na[t[0]].test(e)}function ki(e){function t(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}var i,n=ht();return k(e)?a(e.split("\n"),function(e){i=e.indexOf(":"),t(ks(qs(e.substr(0,i))),qs(e.substr(i+1)))}):y(e)&&a(e,function(e,i){t(ks(i),qs(e))}),n}function xi(e){var t;return function(i){if(t||(t=ki(e)),i){var n=t[ks(i)];return void 0===n&&(n=null),n}return t}}function Ci(e,t,i,n){return j(n)?n(e,t,i):(a(n,function(n){e=n(e,t,i)}),e)}function ji(e){return e>=200&&300>e}function Si(){var e=this.defaults={transformResponse:[yi],transformRequest:[function(e){return!y(e)||P(e)||U(e)||F(e)?e:Y(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:z(Ha),put:z(Ha),patch:z(Ha)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return w(e)?(t=!!e,this):t};var s=!0;this.useLegacyPromiseExtensions=function(e){return w(e)?(s=!!e,this):s};var r=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(o,l,c,d,m,p){function g(t){function r(e){var t=u({},e);return t.data=Ci(e.data,e.headers,e.status,c.transformResponse),ji(e.status)?t:m.reject(t)}function o(e,t){var i,n={};return a(e,function(e,s){j(e)?(i=e(t),null!=i&&(n[s]=i)):n[s]=e}),n}function l(t){var i,n,s,a=e.headers,r=u({},t.headers);a=u({},a.common,a[ks(t.method)]);e:for(i in a){n=ks(i);for(s in r)if(ks(s)===n)continue e;r[i]=a[i]}return o(r,z(t))}if(!Ls.isObject(t))throw n("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var c=u({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);c.headers=l(t),c.method=Cs(c.method),c.paramSerializer=k(c.paramSerializer)?p.get(c.paramSerializer):c.paramSerializer;var d=function(t){var n=t.headers,s=Ci(t.data,xi(n),i,t.transformRequest);return _(s)&&a(n,function(e,t){"content-type"===ks(t)&&delete n[t]}),_(t.withCredentials)&&!_(e.withCredentials)&&(t.withCredentials=e.withCredentials),v(t,s).then(r,r)},g=[d,i],f=m.when(c);for(a(x,function(e){(e.request||e.requestError)&&g.unshift(e.request,e.requestError),(e.response||e.responseError)&&g.push(e.response,e.responseError)});g.length;){var h=g.shift(),b=g.shift();f=f.then(h,b)}return s?(f.success=function(e){return mt(e,"fn"),f.then(function(t){e(t.data,t.status,t.headers,c)}),f},f.error=function(e){return mt(e,"fn"),f.then(null,function(t){e(t.data,t.status,t.headers,c)}),f}):(f.success=Ba("success"),f.error=Ba("error")),f}function f(){a(arguments,function(e){g[e]=function(t,i){return g(u({},i||{},{method:e,url:t}))}})}function h(){a(arguments,function(e){g[e]=function(t,i,n){return g(u({},n||{},{method:e,url:t,data:i}))}})}function v(n,s){function a(e,i,n,s){function a(){r(i,e,n,s)}p&&(ji(e)?p.put(x,[e,i,ki(n),s]):p.remove(x)),t?d.$applyAsync(a):(a(),d.$$phase||d.$apply())}function r(e,t,i,s){t=t>=-1?t:0,(ji(t)?h.resolve:h.reject)({data:e,status:t,headers:xi(i),config:n,statusText:s})}function c(e){r(e.data,e.status,z(e.headers()),e.statusText)}function u(){var e=g.pendingRequests.indexOf(n);-1!==e&&g.pendingRequests.splice(e,1)}var p,f,h=m.defer(),v=h.promise,k=n.headers,x=b(n.url,n.paramSerializer(n.params));if(g.pendingRequests.push(n),v.then(u,u),!n.cache&&!e.cache||n.cache===!1||"GET"!==n.method&&"JSONP"!==n.method||(p=y(n.cache)?n.cache:y(e.cache)?e.cache:$),p&&(f=p.get(x),w(f)?E(f)?f.then(c,c):zs(f)?r(f[1],f[0],z(f[2]),f[3]):r(f,200,{},"OK"):p.put(x,v)),_(f)){var C=Tn(n.url)?l()[n.xsrfCookieName||e.xsrfCookieName]:i;C&&(k[n.xsrfHeaderName||e.xsrfHeaderName]=C),o(n.method,x,s,a,k,n.timeout,n.withCredentials,n.responseType)}return v}function b(e,t){return t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var $=c("$http");e.paramSerializer=k(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var x=[];return a(r,function(e){x.unshift(k(e)?p.get(e):p.invoke(e))}),g.pendingRequests=[],f("get","delete","head","jsonp"),h("post","put","patch"),g.defaults=e,g}]}function Ai(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Ti(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,i,n){return Pi(e,n,e.defer,t.angular.callbacks,i[0])}]}function Pi(e,t,i,n,s){function r(e,t,i){var a=s.createElement("script"),r=null;return a.type="text/javascript",a.src=e,a.async=!0,r=function(e){ra(a,"load",r),ra(a,"error",r),s.body.removeChild(a),a=null;var o=-1,l="unknown";e&&("load"!==e.type||n[t].called||(e={type:"error"}),l=e.type,o="error"===e.type?404:200),i&&i(o,l)},aa(a,"load",r),aa(a,"error",r),s.body.appendChild(a),r}return function(s,o,l,c,d,u,m,p){function g(){b&&b(),y&&y.abort()}function h(t,n,s,a,r){w(x)&&i.cancel(x),b=y=null,t(n,s,a,r),e.$$completeOutstandingRequest(f)}if(e.$$incOutstandingRequestCount(),o=o||e.url(),"jsonp"==ks(s)){var v="_"+(n.counter++).toString(36);n[v]=function(e){n[v].data=e,n[v].called=!0};var b=r(o.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(e,t){h(c,e,n[v].data,"",t),n[v]=f})}else{var y=t(s,o);y.open(s,o,!0),a(d,function(e,t){w(e)&&y.setRequestHeader(t,e)}),y.onload=function(){var e=y.statusText||"",t="response"in y?y.response:y.responseText,i=1223===y.status?204:y.status;0===i&&(i=t?200:"file"==An(o).protocol?404:0),h(c,i,t,y.getAllResponseHeaders(),e)};var $=function(){h(c,-1,null,null,"")};if(y.onerror=$,y.onabort=$,m&&(y.withCredentials=!0),p)try{y.responseType=p}catch(k){if("json"!==p)throw k}y.send(_(l)?null:l)}if(u>0)var x=i(g,u);else E(u)&&u.then(g)}}function Fi(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(i,n,s){function a(e){return"\\\\\\"+e}function r(i){return i.replace(m,e).replace(p,t)}function o(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=Y(e)}return e}function l(a,l,m,p){function g(e){try{return e=A(e),p&&!w(e)?e:o(e)}catch(t){n(Wa.interr(a,t))}}p=!!p;for(var f,h,v,b=0,y=[],$=[],k=a.length,x=[],C=[];k>b;){if(-1==(f=a.indexOf(e,b))||-1==(h=a.indexOf(t,f+c))){b!==k&&x.push(r(a.substring(b)));break}b!==f&&x.push(r(a.substring(b,f))),v=a.substring(f+c,h),y.push(v),$.push(i(v,g)),b=h+d,C.push(x.length),x.push("")}if(m&&x.length>1&&Wa.throwNoconcat(a),!l||y.length){var S=function(e){for(var t=0,i=y.length;i>t;t++){if(p&&_(e[t]))return;x[C[t]]=e[t]}return x.join("")},A=function(e){return m?s.getTrusted(m,e):s.valueOf(e)};return u(function(e){var t=0,i=y.length,s=new Array(i);try{for(;i>t;t++)s[t]=$[t](e);return S(s)}catch(r){n(Wa.interr(a,r))}},{exp:a,expressions:y,$$watchDelegate:function(e,t){var i;return e.$watchGroup($,function(n,s){var a=S(n);j(t)&&t.call(this,a,n!==s?i:a,e),i=a})}})}}var c=e.length,d=t.length,m=new RegExp(e.replace(/./g,a),"g"),p=new RegExp(t.replace(/./g,a),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function Ui(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,i,n){function s(s,r,o,l){var c=arguments.length>4,d=c?V(arguments,4):[],u=t.setInterval,m=t.clearInterval,p=0,g=w(l)&&!l,f=(g?n:i).defer(),h=f.promise;return o=w(o)?o:0,h.then(null,null,c?function(){s.apply(null,d)}:s),h.$$intervalId=u(function(){f.notify(p++),o>0&&p>=o&&(f.resolve(p),m(h.$$intervalId),delete a[h.$$intervalId]),g||e.$apply()},r),a[h.$$intervalId]=f,h}var a={};return s.cancel=function(e){return e&&e.$$intervalId in a?(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0):!1},s}]}function Mi(e){for(var t=e.split("/"),i=t.length;i--;)t[i]=it(t[i]);return t.join("/")}function Ei(e,t){var i=An(e);t.$$protocol=i.protocol,t.$$host=i.hostname,t.$$port=p(i.port)||Ja[i.protocol]||null}function Ri(e,t){var i="/"!==e.charAt(0);i&&(e="/"+e);var n=An(e);t.$$path=decodeURIComponent(i&&"/"===n.pathname.charAt(0)?n.pathname.substring(1):n.pathname),t.$$search=et(n.search),t.$$hash=decodeURIComponent(n.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Ii(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function Oi(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Li(e){return e.replace(/(#.+)|#$/,"$1")}function Di(e){return e.substr(0,Oi(e).lastIndexOf("/")+1)}function Hi(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function zi(e,t,i){this.$$html5=!0,i=i||"",Ei(e,this),this.$$parse=function(e){var i=Ii(t,e);if(!k(i))throw Ga("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Ri(i,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=tt(this.$$search),i=this.$$hash?"#"+it(this.$$hash):"";this.$$url=Mi(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(n,s){if(s&&"#"===s[0])return this.hash(s.slice(1)),!0;var a,r,o;return w(a=Ii(e,n))?(r=a,o=w(a=Ii(i,a))?t+(Ii("/",a)||a):e+r):w(a=Ii(t,n))?o=t+a:t==n+"/"&&(o=t),o&&this.$$parse(o),!!o}}function Ni(e,t,i){Ei(e,this),this.$$parse=function(n){function s(e,t,i){var n,s=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(i)&&(t=t.replace(i,"")),s.exec(t)?e:(n=s.exec(e),n?n[1]:e)}var a,r=Ii(e,n)||Ii(t,n);_(r)||"#"!==r.charAt(0)?this.$$html5?a=r:(a="",_(r)&&(e=n,this.replace())):(a=Ii(i,r),_(a)&&(a=r)),Ri(a,this),this.$$path=s(this.$$path,a,e),this.$$compose()},this.$$compose=function(){var t=tt(this.$$search),n=this.$$hash?"#"+it(this.$$hash):"";this.$$url=Mi(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+(this.$$url?i+this.$$url:"")},this.$$parseLinkUrl=function(t){return Oi(e)==Oi(t)?(this.$$parse(t),!0):!1}}function qi(e,t,i){this.$$html5=!0,Ni.apply(this,arguments),this.$$parseLinkUrl=function(n,s){if(s&&"#"===s[0])return this.hash(s.slice(1)),!0;var a,r;return e==Oi(n)?a=n:(r=Ii(t,n))?a=e+i+r:t===n+"/"&&(a=t),a&&this.$$parse(a),!!a},this.$$compose=function(){var t=tt(this.$$search),n=this.$$hash?"#"+it(this.$$hash):"";this.$$url=Mi(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+i+this.$$url}}function Vi(e){return function(){return this[e]}}function Bi(e,t){return function(i){return _(i)?this[e]:(this[e]=t(i),this.$$compose(),this)}}function Wi(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return w(t)?(e=t,this):e},this.html5Mode=function(e){return M(e)?(t.enabled=e,this):y(e)?(M(e.enabled)&&(t.enabled=e.enabled),M(e.requireBase)&&(t.requireBase=e.requireBase),M(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,n,s,a,r){function o(e,t,i){var s=c.url(),a=c.$$state;try{n.url(e,t,i),c.$$state=n.state()}catch(r){throw c.url(s),c.$$state=a,r}}function l(e,t){i.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,d,u,m=n.baseHref(),p=n.url();if(t.enabled){if(!m&&t.requireBase)throw Ga("nobase","$location in HTML5 mode requires a <base> tag to be present!");u=Hi(p)+(m||"/"),d=s.history?zi:qi}else u=Oi(p),d=Ni;var g=Di(u);c=new d(u,g,"#"+e),c.$$parseLinkUrl(p,p),c.$$state=n.state();var f=/^\s*(javascript|mailto):/i;a.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var s=Ts(e.target);"a"!==L(s[0]);)if(s[0]===a[0]||!(s=s.parent())[0])return;var o=s.prop("href"),l=s.attr("href")||s.attr("xlink:href");y(o)&&"[object SVGAnimatedString]"===o.toString()&&(o=An(o.animVal).href),f.test(o)||!o||s.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(o,l)&&(e.preventDefault(),c.absUrl()!=n.url()&&(i.$apply(),r.angular["ff-684208-preventDefault"]=!0))}}),Li(c.absUrl())!=Li(p)&&n.url(c.absUrl(),!0);var h=!0;return n.onUrlChange(function(e,t){return _(Ii(g,e))?void(r.location.href=e):(i.$evalAsync(function(){var n,s=c.absUrl(),a=c.$$state;e=Li(e),c.$$parse(e),c.$$state=t,n=i.$broadcast("$locationChangeStart",e,s,t,a).defaultPrevented,c.absUrl()===e&&(n?(c.$$parse(s),c.$$state=a,o(s,!1,a)):(h=!1,l(s,a)))}),void(i.$$phase||i.$digest()))}),i.$watch(function(){var e=Li(n.url()),t=Li(c.absUrl()),a=n.state(),r=c.$$replace,d=e!==t||c.$$html5&&s.history&&a!==c.$$state;(h||d)&&(h=!1,i.$evalAsync(function(){var t=c.absUrl(),n=i.$broadcast("$locationChangeStart",t,e,c.$$state,a).defaultPrevented;c.absUrl()===t&&(n?(c.$$parse(e),c.$$state=a):(d&&o(t,r,a===c.$$state?null:c.$$state),l(e,a)))})),c.$$replace=!1}),c}]}function Yi(){var e=!0,t=this;this.debugEnabled=function(t){return w(t)?(e=t,this):e},this.$get=["$window",function(i){function n(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function s(e){var t=i.console||{},s=t[e]||t.log||f,r=!1;try{r=!!s.apply}catch(o){}return r?function(){var e=[];return a(arguments,function(t){e.push(n(t))}),s.apply(t,e)}:function(e,t){s(e,null==t?"":t)}}return{log:s("log"),info:s("info"),warn:s("warn"),error:s("error"),debug:function(){var i=s("debug");return function(){e&&i.apply(t,arguments)}}()}}]}function Ji(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Ka("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Gi(e,t){if(e+="",!k(e))throw Ka("iseccst","Cannot convert object to primitive value! Expression: {0}",t);return e}function Qi(e,t){if(e){if(e.constructor===e)throw Ka("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw Ka("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Ka("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw Ka("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Ki(e,t){if(e){if(e.constructor===e)throw Ka("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===Xa||e===Za||e===er)throw Ka("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Xi(e,t){if(e&&(e===0..constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw Ka("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function Zi(e,t){return"undefined"!=typeof e?e:t}function en(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function tn(e,t){var i=e(t);return!i.$stateful}function nn(e,t){var i,n;switch(e.type){case sr.Program:i=!0,a(e.body,function(e){nn(e.expression,t),i=i&&e.expression.constant}),e.constant=i;break;case sr.Literal:e.constant=!0,e.toWatch=[];break;case sr.UnaryExpression:nn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case sr.BinaryExpression:nn(e.left,t),nn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case sr.LogicalExpression:nn(e.left,t),nn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case sr.ConditionalExpression:nn(e.test,t),nn(e.alternate,t),nn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case sr.Identifier:e.constant=!1,e.toWatch=[e];break;case sr.MemberExpression:nn(e.object,t),e.computed&&nn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case sr.CallExpression:i=e.filter?tn(t,e.callee.name):!1,n=[],a(e.arguments,function(e){nn(e,t),i=i&&e.constant,e.constant||n.push.apply(n,e.toWatch)}),e.constant=i,e.toWatch=e.filter&&tn(t,e.callee.name)?n:[e];break;case sr.AssignmentExpression:nn(e.left,t),nn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case sr.ArrayExpression:i=!0,n=[],a(e.elements,function(e){nn(e,t),i=i&&e.constant,e.constant||n.push.apply(n,e.toWatch)}),e.constant=i,e.toWatch=n;break;case sr.ObjectExpression:i=!0,n=[],a(e.properties,function(e){nn(e.value,t),i=i&&e.value.constant,e.value.constant||n.push.apply(n,e.value.toWatch)}),e.constant=i,e.toWatch=n;break;case sr.ThisExpression:e.constant=!1,e.toWatch=[]}}function sn(e){if(1==e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:i}}function an(e){return e.type===sr.Identifier||e.type===sr.MemberExpression}function rn(e){return 1===e.body.length&&an(e.body[0].expression)?{type:sr.AssignmentExpression,left:e.body[0].expression,right:{type:sr.NGValueParameter},operator:"="}:void 0}function on(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===sr.Literal||e.body[0].expression.type===sr.ArrayExpression||e.body[0].expression.type===sr.ObjectExpression)}function ln(e){return e.constant}function cn(e,t){this.astBuilder=e,this.$filter=t}function dn(e,t){this.astBuilder=e,this.$filter=t}function un(e){return"constructor"==e}function mn(e){return j(e.valueOf)?e.valueOf():rr.call(e)}function pn(){var e=ht(),t=ht();this.$get=["$filter",function(n){function s(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=mn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function r(e,t,n,a,r){var o,l=a.inputs;if(1===l.length){var c=s;return l=l[0],e.$watch(function(e){var t=l(e);return s(t,c)||(o=a(e,i,i,[t]),c=t&&mn(t)),o},t,n,r)}for(var d=[],u=[],m=0,p=l.length;p>m;m++)d[m]=s,u[m]=null;return e.$watch(function(e){for(var t=!1,n=0,r=l.length;r>n;n++){var c=l[n](e);(t||(t=!s(c,d[n])))&&(u[n]=c,d[n]=c&&mn(c))}return t&&(o=a(e,i,i,u)),o},t,n,r)}function o(e,t,i,n){var s,a;return s=e.$watch(function(e){return n(e)},function(e,i,n){a=e,j(t)&&t.apply(this,arguments),w(e)&&n.$$postDigest(function(){w(a)&&s()})},i)}function l(e,t,i,n){function s(e){var t=!0;return a(e,function(e){w(e)||(t=!1)}),t}var r,o;return r=e.$watch(function(e){return n(e)},function(e,i,n){o=e,j(t)&&t.call(this,e,i,n),s(e)&&n.$$postDigest(function(){s(o)&&r()})},i)}function c(e,t,i,n){var s;return s=e.$watch(function(e){return n(e)},function(){j(t)&&t.apply(this,arguments),s()},i)}function d(e,t){if(!t)return e;var i=e.$$watchDelegate,n=!1,s=i!==l&&i!==o,a=s?function(i,s,a,r){var o=n&&r?r[0]:e(i,s,a,r);return t(o,i,s)}:function(i,n,s,a){var r=e(i,n,s,a),o=t(r,i,n);return w(r)?o:r};return e.$$watchDelegate&&e.$$watchDelegate!==r?a.$$watchDelegate=e.$$watchDelegate:t.$stateful||(a.$$watchDelegate=r,n=!e.inputs,a.inputs=e.inputs?e.inputs:[e]),a}var u=Bs().noUnsafeEval,m={csp:u,expensiveChecks:!1},p={csp:u,expensiveChecks:!0};return function(i,s,a){var u,g,h;switch(typeof i){case"string":i=i.trim(),h=i;var v=a?t:e;if(u=v[h],!u){":"===i.charAt(0)&&":"===i.charAt(1)&&(g=!0,i=i.substring(2));var b=a?p:m,_=new nr(b),w=new ar(_,n,b);u=w.parse(i),u.constant?u.$$watchDelegate=c:g?u.$$watchDelegate=u.literal?l:o:u.inputs&&(u.$$watchDelegate=r),v[h]=u}return d(u,s);case"function":return d(i,s);default:return f}}}]}function gn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return hn(function(t){e.$evalAsync(t)},t)}]}function fn(){this.$get=["$browser","$exceptionHandler",function(e,t){return hn(function(t){e.defer(t)},t)}]}function hn(e,t){function s(e,t,i){function n(t){return function(i){s||(s=!0,t.call(e,i))}}var s=!1;return[n(t),n(i)]}function r(){this.$$state={status:0}}function o(e,t){return function(i){t.call(e,i)}}function l(e){var n,s,a;a=e.pending,e.processScheduled=!1,e.pending=i;for(var r=0,o=a.length;o>r;++r){s=a[r][0],n=a[r][e.status];try{j(n)?s.resolve(n(e.value)):1===e.status?s.resolve(e.value):s.reject(e.value)}catch(l){s.reject(l),t(l)}}}function c(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){l(t)}))}function d(){this.promise=new r,this.resolve=o(this,this.resolve),this.reject=o(this,this.reject),this.notify=o(this,this.notify)}function m(e){var t=new d,i=0,n=zs(e)?[]:{};return a(e,function(e,s){i++,b(e).then(function(e){n.hasOwnProperty(s)||(n[s]=e,--i||t.resolve(n))},function(e){n.hasOwnProperty(s)||t.reject(e)})}),0===i&&t.resolve(n),t.promise}var p=n("$q",TypeError),g=function(){return new d};u(r.prototype,{then:function(e,t,i){if(_(e)&&_(t)&&_(i))return this;var n=new d;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([n,e,t,i]),this.$$state.status>0&&c(this.$$state),n.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return v(t,!0,e)},function(t){return v(t,!1,e)},t)}}),u(d.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(p("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var i,n;n=s(this,this.$$resolve,this.$$reject);try{(y(e)||j(e))&&(i=e&&e.then),j(i)?(this.promise.$$state.status=-1,i.call(e,n[0],n[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,c(this.promise.$$state))}catch(a){n[1](a),t(a)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(i){var n=this.promise.$$state.pending;this.promise.$$state.status<=0&&n&&n.length&&e(function(){for(var e,s,a=0,r=n.length;r>a;a++){s=n[a][0],e=n[a][3];try{s.notify(j(e)?e(i):i)}catch(o){t(o)}}})}});var f=function(e){var t=new d;return t.reject(e),t.promise},h=function(e,t){var i=new d;return t?i.resolve(e):i.reject(e),i.promise},v=function(e,t,i){var n=null;try{j(i)&&(n=i())}catch(s){return h(s,!1)}return E(n)?n.then(function(){return h(e,t)},function(e){return h(e,!1)}):h(e,t)},b=function(e,t,i,n){var s=new d;
return s.resolve(e),s.promise.then(t,i,n)},w=b,$=function k(e){function t(e){n.resolve(e)}function i(e){n.reject(e)}if(!j(e))throw p("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof k))return new k(e);var n=new d;return e(t,i),n.promise};return $.defer=g,$.reject=f,$.when=b,$.resolve=w,$.all=m,$}function vn(){this.$get=["$window","$timeout",function(e,t){var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame,n=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,s=!!i,a=s?function(e){var t=i(e);return function(){n(t)}}:function(e){var i=t(e,16.66,!1);return function(){t.cancel(i)}};return a.supported=s,a}]}function bn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,i=n("$rootScope"),r=null,o=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(n,c,d,u){function m(e){e.currentScope.$$destroyed=!0}function p(e){9===As&&(e.$$childHead&&p(e.$$childHead),e.$$nextSibling&&p(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function g(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function h(e){if(C.$$phase)throw i("inprog","{0} already in progress",C.$$phase);C.$$phase=e}function v(){C.$$phase=null}function b(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function w(e,t,i){do e.$$listenerCount[i]-=t,0===e.$$listenerCount[i]&&delete e.$$listenerCount[i];while(e=e.$parent)}function $(){}function k(){for(;T.length;)try{T.shift()()}catch(e){c(e)}o=null}function x(){null===o&&(o=u.defer(function(){C.$apply(k)}))}g.prototype={constructor:g,$new:function(t,i){var n;return i=i||this,t?(n=new g,n.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),n=new this.$$ChildScope),n.$parent=i,n.$$prevSibling=i.$$childTail,i.$$childHead?(i.$$childTail.$$nextSibling=n,i.$$childTail=n):i.$$childHead=i.$$childTail=n,(t||i!=this)&&n.$on("$destroy",m),n},$watch:function(e,t,i,n){var s=d(e);if(s.$$watchDelegate)return s.$$watchDelegate(this,t,i,s,e);var a=this,o=a.$$watchers,l={fn:t,last:$,get:s,exp:n||e,eq:!!i};return r=null,j(t)||(l.fn=f),o||(o=a.$$watchers=[]),o.unshift(l),b(this,1),function(){D(o,l)>=0&&b(a,-1),r=null}},$watchGroup:function(e,t){function i(){l=!1,c?(c=!1,t(s,s,o)):t(s,n,o)}var n=new Array(e.length),s=new Array(e.length),r=[],o=this,l=!1,c=!0;if(!e.length){var d=!0;return o.$evalAsync(function(){d&&t(s,s,o)}),function(){d=!1}}return 1===e.length?this.$watch(e[0],function(e,i,a){s[0]=e,n[0]=i,t(s,e===i?s:n,a)}):(a(e,function(e,t){var a=o.$watch(e,function(e,a){s[t]=e,n[t]=a,l||(l=!0,o.$evalAsync(i))});r.push(a)}),function(){for(;r.length;)r.shift()()})},$watchCollection:function(e,t){function i(e){a=e;var t,i,n,o,l;if(!_(a)){if(y(a))if(s(a)){r!==p&&(r=p,h=r.length=0,u++),t=a.length,h!==t&&(u++,r.length=h=t);for(var c=0;t>c;c++)l=r[c],o=a[c],n=l!==l&&o!==o,n||l===o||(u++,r[c]=o)}else{r!==g&&(r=g={},h=0,u++),t=0;for(i in a)xs.call(a,i)&&(t++,o=a[i],l=r[i],i in r?(n=l!==l&&o!==o,n||l===o||(u++,r[i]=o)):(h++,r[i]=o,u++));if(h>t){u++;for(i in r)xs.call(a,i)||(h--,delete r[i])}}else r!==a&&(r=a,u++);return u}}function n(){if(f?(f=!1,t(a,a,l)):t(a,o,l),c)if(y(a))if(s(a)){o=new Array(a.length);for(var e=0;e<a.length;e++)o[e]=a[e]}else{o={};for(var i in a)xs.call(a,i)&&(o[i]=a[i])}else o=a}i.$stateful=!0;var a,r,o,l=this,c=t.length>1,u=0,m=d(e,i),p=[],g={},f=!0,h=0;return this.$watch(m,n)},$digest:function(){var e,n,s,a,l,d,m,p,g,f,b=t,_=this,w=[];h("$digest"),u.$$checkUrlChange(),this===C&&null!==o&&(u.defer.cancel(o),k()),r=null;do{for(d=!1,p=_;S.length;){try{f=S.shift(),f.scope.$eval(f.expression,f.locals)}catch(y){c(y)}r=null}e:do{if(a=p.$$watchers)for(l=a.length;l--;)try{if(e=a[l])if((n=e.get(p))===(s=e.last)||(e.eq?N(n,s):"number"==typeof n&&"number"==typeof s&&isNaN(n)&&isNaN(s))){if(e===r){d=!1;break e}}else d=!0,r=e,e.last=e.eq?H(n,null):n,e.fn(n,s===$?n:s,p),5>b&&(g=4-b,w[g]||(w[g]=[]),w[g].push({msg:j(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:s}))}catch(y){c(y)}if(!(m=p.$$watchersCount&&p.$$childHead||p!==_&&p.$$nextSibling))for(;p!==_&&!(m=p.$$nextSibling);)p=p.$parent}while(p=m);if((d||S.length)&&!b--)throw v(),i("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,w)}while(d||S.length);for(v();A.length;)try{A.shift()()}catch(y){c(y)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===C&&u.$$applicationDestroyed(),b(this,-this.$$watchersCount);for(var t in this.$$listenerCount)w(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,p(this)}},$eval:function(e,t){return d(e)(this,t)},$evalAsync:function(e,t){C.$$phase||S.length||u.defer(function(){S.length&&C.$digest()}),S.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){A.push(e)},$apply:function(e){try{h("$apply");try{return this.$eval(e)}finally{v()}}catch(t){c(t)}finally{try{C.$digest()}catch(t){throw c(t),t}}},$applyAsync:function(e){function t(){i.$eval(e)}var i=this;e&&T.push(t),x()},$on:function(e,t){var i=this.$$listeners[e];i||(this.$$listeners[e]=i=[]),i.push(t);var n=this;do n.$$listenerCount[e]||(n.$$listenerCount[e]=0),n.$$listenerCount[e]++;while(n=n.$parent);var s=this;return function(){var n=i.indexOf(t);-1!==n&&(i[n]=null,w(s,1,e))}},$emit:function(e){var t,i,n,s=[],a=this,r=!1,o={name:e,targetScope:a,stopPropagation:function(){r=!0},preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1},l=q([o],arguments,1);do{for(t=a.$$listeners[e]||s,o.currentScope=a,i=0,n=t.length;n>i;i++)if(t[i])try{t[i].apply(null,l)}catch(d){c(d)}else t.splice(i,1),i--,n--;if(r)return o.currentScope=null,o;a=a.$parent}while(a);return o.currentScope=null,o},$broadcast:function(e){var t=this,i=t,n=t,s={name:e,targetScope:t,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1};if(!t.$$listenerCount[e])return s;for(var a,r,o,l=q([s],arguments,1);i=n;){for(s.currentScope=i,a=i.$$listeners[e]||[],r=0,o=a.length;o>r;r++)if(a[r])try{a[r].apply(null,l)}catch(d){c(d)}else a.splice(r,1),r--,o--;if(!(n=i.$$listenerCount[e]&&i.$$childHead||i!==t&&i.$$nextSibling))for(;i!==t&&!(n=i.$$nextSibling);)i=i.$parent}return s.currentScope=null,s}};var C=new g,S=C.$$asyncQueue=[],A=C.$$postDigestQueue=[],T=C.$$applyAsyncQueue=[];return C}]}function _n(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return w(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(t=e,this):t},this.$get=function(){return function(i,n){var s,a=n?t:e;return s=An(i).href,""===s||s.match(a)?i:"unsafe:"+s}}}function wn(e){if("self"===e)return e;if(k(e)){if(e.indexOf("***")>-1)throw or("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Vs(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(S(e))return new RegExp("^"+e.source+"$");throw or("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function yn(e){var t=[];return w(e)&&a(e,function(e){t.push(wn(e))}),t}function $n(){this.SCE_CONTEXTS=lr;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=yn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=yn(e)),t},this.$get=["$injector",function(i){function n(e,t){return"self"===e?Tn(t):!!e.exec(t.href)}function s(i){var s,a,r=An(i.toString()),o=!1;for(s=0,a=e.length;a>s;s++)if(n(e[s],r)){o=!0;break}if(o)for(s=0,a=t.length;a>s;s++)if(n(t[s],r)){o=!1;break}return o}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function r(e,t){var i=u.hasOwnProperty(e)?u[e]:null;if(!i)throw or("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||_(t)||""===t)return t;if("string"!=typeof t)throw or("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new i(t)}function o(e){return e instanceof d?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||_(t)||""===t)return t;var i=u.hasOwnProperty(e)?u[e]:null;if(i&&t instanceof i)return t.$$unwrapTrustedValue();if(e===lr.RESOURCE_URL){if(s(t))return t;throw or("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===lr.HTML)return c(t);throw or("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(){throw or("unsafe","Attempting to use an unsafe value in a safe context.")};i.has("$sanitize")&&(c=i.get("$sanitize"));var d=a(),u={};return u[lr.HTML]=a(d),u[lr.CSS]=a(d),u[lr.URL]=a(d),u[lr.JS]=a(d),u[lr.RESOURCE_URL]=a(u[lr.URL]),{trustAs:r,getTrusted:l,valueOf:o}}]}function kn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,i){if(e&&8>As)throw or("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var n=z(lr);n.isEnabled=function(){return e},n.trustAs=i.trustAs,n.getTrusted=i.getTrusted,n.valueOf=i.valueOf,e||(n.trustAs=n.getTrusted=function(e,t){return t},n.valueOf=h),n.parseAs=function(e,i){var s=t(i);return s.literal&&s.constant?s:t(i,function(t){return n.getTrusted(e,t)})};var s=n.parseAs,r=n.getTrusted,o=n.trustAs;return a(lr,function(e,t){var i=ks(t);n[$t("parse_as_"+i)]=function(t){return s(e,t)},n[$t("get_trusted_"+i)]=function(t){return r(e,t)},n[$t("trust_as_"+i)]=function(t){return o(e,t)}}),n}]}function xn(){this.$get=["$window","$document",function(e,t){var i,n,s={},a=p((/android (\d+)/.exec(ks((e.navigator||{}).userAgent))||[])[1]),r=/Boxee/i.test((e.navigator||{}).userAgent),o=t[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,c=o.body&&o.body.style,d=!1,u=!1;if(c){for(var m in c)if(n=l.exec(m)){i=n[0],i=i.substr(0,1).toUpperCase()+i.substr(1);break}i||(i="WebkitOpacity"in c&&"webkit"),d=!!("transition"in c||i+"Transition"in c),u=!!("animation"in c||i+"Animation"in c),!a||d&&u||(d=k(c.webkitTransition),u=k(c.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>a||r),hasEvent:function(e){if("input"===e&&11>=As)return!1;if(_(s[e])){var t=o.createElement("div");s[e]="on"+e in t}return s[e]},csp:Bs(),vendorPrefix:i,transitions:d,animations:u,android:a}}]}function Cn(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,i,n){function s(a,r){function o(e){if(!r)throw Ea("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText);return i.reject(e)}s.totalPendingRequests++,k(a)&&e.get(a)||(a=n.getTrustedResourceUrl(a));var l=t.defaults&&t.defaults.transformResponse;zs(l)?l=l.filter(function(e){return e!==yi}):l===yi&&(l=null);var c={cache:e,transformResponse:l};return t.get(a,c)["finally"](function(){s.totalPendingRequests--}).then(function(t){return e.put(a,t.data),t.data},o)}return s.totalPendingRequests=0,s}]}function jn(){this.$get=["$rootScope","$browser","$location",function(e,t,i){var n={};return n.findBindings=function(e,t,i){var n=e.getElementsByClassName("ng-binding"),s=[];return a(n,function(e){var n=Ls.element(e).data("$binding");n&&a(n,function(n){if(i){var a=new RegExp("(^|\\s)"+Vs(t)+"(\\s|\\||$)");a.test(n)&&s.push(e)}else-1!=n.indexOf(t)&&s.push(e)})}),s},n.findModels=function(e,t,i){for(var n=["ng-","data-ng-","ng\\:"],s=0;s<n.length;++s){var a=i?"=":"*=",r="["+n[s]+"model"+a+'"'+t+'"]',o=e.querySelectorAll(r);if(o.length)return o}},n.getLocation=function(){return i.url()},n.setLocation=function(t){t!==i.url()&&(i.url(t),e.$digest())},n.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},n}]}function Sn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,i,n,s){function a(a,o,l){j(a)||(l=o,o=a,a=f);var c,d=V(arguments,3),u=w(l)&&!l,m=(u?n:i).defer(),p=m.promise;return c=t.defer(function(){try{m.resolve(a.apply(null,d))}catch(t){m.reject(t),s(t)}finally{delete r[p.$$timeoutId]}u||e.$apply()},o),p.$$timeoutId=c,r[c]=m,p}var r={};return a.cancel=function(e){return e&&e.$$timeoutId in r?(r[e.$$timeoutId].reject("canceled"),delete r[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},a}]}function An(e){var t=e;return As&&(cr.setAttribute("href",t),t=cr.href),cr.setAttribute("href",t),{href:cr.href,protocol:cr.protocol?cr.protocol.replace(/:$/,""):"",host:cr.host,search:cr.search?cr.search.replace(/^\?/,""):"",hash:cr.hash?cr.hash.replace(/^#/,""):"",hostname:cr.hostname,port:cr.port,pathname:"/"===cr.pathname.charAt(0)?cr.pathname:"/"+cr.pathname}}function Tn(e){var t=k(e)?An(e):e;return t.protocol===dr.protocol&&t.host===dr.host}function Pn(){this.$get=v(e)}function Fn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var i=e[0]||{},n={},s="";return function(){var e,a,r,o,l,c=i.cookie||"";if(c!==s)for(s=c,e=s.split("; "),n={},r=0;r<e.length;r++)a=e[r],o=a.indexOf("="),o>0&&(l=t(a.substring(0,o)),_(n[l])&&(n[l]=t(a.substring(o+1))));return n}}function Un(){this.$get=Fn}function Mn(e){function t(n,s){if(y(n)){var r={};return a(n,function(e,i){r[i]=t(i,e)}),r}return e.factory(n+i,s)}var i="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+i)}}],t("currency",Ln),t("date",Kn),t("filter",En),t("json",Xn),t("limitTo",Zn),t("lowercase",fr),t("number",Dn),t("orderBy",es),t("uppercase",hr)}function En(){return function(e,t,i){if(!s(e)){if(null==e)return e;throw n("filter")("notarray","Expected array but received: {0}",e)}var a,r,o=On(t);switch(o){case"function":a=t;break;case"boolean":case"null":case"number":case"string":r=!0;case"object":a=Rn(t,i,r);break;default:return e}return Array.prototype.filter.call(e,a)}}function Rn(e,t,i){var n,s=y(e)&&"$"in e;return t===!0?t=N:j(t)||(t=function(e,t){return _(e)?!1:null===e||null===t?e===t:y(t)||y(e)&&!b(e)?!1:(e=ks(""+e),t=ks(""+t),-1!==e.indexOf(t))}),n=function(n){return s&&!y(n)?In(n,e.$,t,!1):In(n,e,t,i)}}function In(e,t,i,n,s){var a=On(e),r=On(t);if("string"===r&&"!"===t.charAt(0))return!In(e,t.substring(1),i,n);if(zs(e))return e.some(function(e){return In(e,t,i,n)});switch(a){case"object":var o;if(n){for(o in e)if("$"!==o.charAt(0)&&In(e[o],t,i,!0))return!0;return s?!1:In(e,t,i,!1)}if("object"===r){for(o in t){var l=t[o];if(!j(l)&&!_(l)){var c="$"===o,d=c?e:e[o];if(!In(d,l,i,c,c))return!1}}return!0}return i(e,t);case"function":return!1;default:return i(e,t)}}function On(e){return null===e?"null":typeof e}function Ln(e){var t=e.NUMBER_FORMATS;return function(e,i,n){return _(i)&&(i=t.CURRENCY_SYM),_(n)&&(n=t.PATTERNS[1].maxFrac),null==e?e:Hn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,n).replace(/\u00A4/g,i)}}function Dn(e){var t=e.NUMBER_FORMATS;return function(e,i){return null==e?e:Hn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,i)}}function Hn(e,t,i,n,s){if(y(e))return"";var a=0>e;e=Math.abs(e);var r=1/0===e;if(!r&&!isFinite(e))return"";var o=e+"",l="",c=!1,d=[];if(r&&(l="\u221e"),!r&&-1!==o.indexOf("e")){var u=o.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>s+1?e=0:(l=o,c=!0)}if(r||c)s>0&&1>e&&(l=e.toFixed(s),e=parseFloat(l),l=l.replace(ur,n));else{var m=(o.split(ur)[1]||"").length;_(s)&&(s=Math.min(Math.max(t.minFrac,m),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+s)).toString()+"e"+-s);var p=(""+e).split(ur),g=p[0];p=p[1]||"";var f,h=0,v=t.lgSize,b=t.gSize;if(g.length>=v+b)for(h=g.length-v,f=0;h>f;f++)(h-f)%b===0&&0!==f&&(l+=i),l+=g.charAt(f);for(f=h;f<g.length;f++)(g.length-f)%v===0&&0!==f&&(l+=i),l+=g.charAt(f);for(;p.length<s;)p+="0";s&&"0"!==s&&(l+=n+p.substr(0,s))}return 0===e&&(a=!1),d.push(a?t.negPre:t.posPre,l,a?t.negSuf:t.posSuf),d.join("")}function zn(e,t,i){var n="";for(0>e&&(n="-",e=-e),e=""+e;e.length<t;)e="0"+e;return i&&(e=e.substr(e.length-t)),n+e}function Nn(e,t,i,n){return i=i||0,function(s){var a=s["get"+e]();return(i>0||a>-i)&&(a+=i),0===a&&-12==i&&(a=12),zn(a,t,n)}}function qn(e,t){return function(i,n){var s=i["get"+e](),a=Cs(t?"SHORT"+e:e);return n[a][s]}}function Vn(e,t,i){var n=-1*i,s=n>=0?"+":"";return s+=zn(Math[n>0?"floor":"ceil"](n/60),2)+zn(Math.abs(n%60),2)}function Bn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Wn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function Yn(e){return function(t){var i=Bn(t.getFullYear()),n=Wn(t),s=+n-+i,a=1+Math.round(s/6048e5);return zn(a,e)}}function Jn(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Gn(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function Qn(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function Kn(e){function t(e){var t;if(t=e.match(i)){var n=new Date(0),s=0,a=0,r=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(s=p(t[9]+t[10]),a=p(t[9]+t[11])),r.call(n,p(t[1]),p(t[2])-1,p(t[3]));var l=p(t[4]||0)-s,c=p(t[5]||0)-a,d=p(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(n,l,c,d,u),n}return e}var i=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(i,n,s){var r,o,l="",c=[];if(n=n||"mediumDate",n=e.DATETIME_FORMATS[n]||n,k(i)&&(i=gr.test(i)?p(i):t(i)),x(i)&&(i=new Date(i)),!C(i)||!isFinite(i.getTime()))return i;for(;n;)o=pr.exec(n),o?(c=q(c,o,1),n=c.pop()):(c.push(n),n=null);var d=i.getTimezoneOffset();return s&&(d=G(s,i.getTimezoneOffset()),i=K(i,s,!0)),a(c,function(t){r=mr[t],l+=r?r(i,e.DATETIME_FORMATS,d):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Xn(){return function(e,t){return _(t)&&(t=2),Y(e,t)}}function Zn(){return function(e,t,i){return t=1/0===Math.abs(Number(t))?Number(t):p(t),isNaN(t)?e:(x(e)&&(e=e.toString()),zs(e)||k(e)?(i=!i||isNaN(i)?0:p(i),i=0>i?Math.max(0,e.length+i):i,t>=0?e.slice(i,i+t):0===i?e.slice(t,e.length):e.slice(Math.max(0,i+t),i)):e)}}function es(e){function t(t,i){return i=i?-1:1,t.map(function(t){var n=1,s=h;if(j(t))s=t;else if(k(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(s=e(t),s.constant))){var a=s();s=function(e){return e[a]}}return{get:s,descending:n*i}})}function i(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function n(e,t){return"function"==typeof e.valueOf&&(e=e.valueOf(),i(e))?e:b(e)&&(e=e.toString(),i(e))?e:t}function a(e,t){var i=typeof e;return null===e?(i="string",e="null"):"string"===i?e=e.toLowerCase():"object"===i&&(e=n(e,t)),{value:e,type:i}}function r(e,t){var i=0;return e.type===t.type?e.value!==t.value&&(i=e.value<t.value?-1:1):i=e.type<t.type?-1:1,i}return function(e,i,n){function o(e,t){return{value:e,predicateValues:c.map(function(i){return a(i.get(e),t)})}}function l(e,t){for(var i=0,n=0,s=c.length;s>n&&!(i=r(e.predicateValues[n],t.predicateValues[n])*c[n].descending);++n);return i}if(!s(e))return e;zs(i)||(i=[i]),0===i.length&&(i=["+"]);var c=t(i,n);c.push({get:function(){return{}},descending:n?-1:1});var d=Array.prototype.map.call(e,o);return d.sort(l),e=d.map(function(e){return e.value})}}function ts(e){return j(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function is(e,t){e.$name=t}function ns(e,t,n,s,r){var o=this,l=[];o.$error={},o.$$success={},o.$pending=i,o.$name=r(t.name||t.ngForm||"")(n),o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,o.$submitted=!1,o.$$parentForm=_r,o.$rollbackViewValue=function(){a(l,function(e){e.$rollbackViewValue()})},o.$commitViewValue=function(){a(l,function(e){e.$commitViewValue()})},o.$addControl=function(e){pt(e.$name,"input"),l.push(e),e.$name&&(o[e.$name]=e),e.$$parentForm=o},o.$$renameControl=function(e,t){var i=e.$name;o[i]===e&&delete o[i],o[t]=e,e.$name=t},o.$removeControl=function(e){e.$name&&o[e.$name]===e&&delete o[e.$name],a(o.$pending,function(t,i){o.$setValidity(i,null,e)}),a(o.$error,function(t,i){o.$setValidity(i,null,e)}),a(o.$$success,function(t,i){o.$setValidity(i,null,e)}),D(l,e),e.$$parentForm=_r},bs({ctrl:this,$element:e,set:function(e,t,i){var n=e[t];if(n){var s=n.indexOf(i);-1===s&&n.push(i)}else e[t]=[i]},unset:function(e,t,i){var n=e[t];n&&(D(n,i),0===n.length&&delete e[t])},$animate:s}),o.$setDirty=function(){s.removeClass(e,to),s.addClass(e,io),o.$dirty=!0,o.$pristine=!1,o.$$parentForm.$setDirty()},o.$setPristine=function(){s.setClass(e,to,io+" "+wr),o.$dirty=!1,o.$pristine=!0,o.$submitted=!1,a(l,function(e){e.$setPristine()})},o.$setUntouched=function(){a(l,function(e){e.$setUntouched()})},o.$setSubmitted=function(){s.addClass(e,wr),o.$submitted=!0,o.$$parentForm.$setSubmitted()}}function ss(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function as(e,t,i,n,s,a){rs(e,t,i,n,s,a),ss(n)}function rs(e,t,i,n,s,a){var r=ks(t[0].type);if(!s.android){var o=!1;t.on("compositionstart",function(){o=!0}),t.on("compositionend",function(){o=!1,l()})}var l=function(e){if(c&&(a.defer.cancel(c),c=null),!o){var s=t.val(),l=e&&e.type;"password"===r||i.ngTrim&&"false"===i.ngTrim||(s=qs(s)),(n.$viewValue!==s||""===s&&n.$$hasNativeValidators)&&n.$setViewValue(s,l)}};if(s.hasEvent("input"))t.on("input",l);else{var c,d=function(e,t,i){c||(c=a.defer(function(){c=null,t&&t.value===i||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||d(e,this,this.value)}),s.hasEvent("paste")&&t.on("paste cut",d)}t.on("change",l),n.$render=function(){var e=n.$isEmpty(n.$viewValue)?"":n.$viewValue;t.val()!==e&&t.val(e)}}function os(e,t){if(C(e))return e;if(k(e)){Pr.lastIndex=0;var i=Pr.exec(e);if(i){var n=+i[1],s=+i[2],a=0,r=0,o=0,l=0,c=Bn(n),d=7*(s-1);return t&&(a=t.getHours(),r=t.getMinutes(),o=t.getSeconds(),l=t.getMilliseconds()),new Date(n,0,c.getDate()+d,a,r,o,l)}}return 0/0}function ls(e,t){return function(i,n){var s,r;if(C(i))return i;if(k(i)){if('"'==i.charAt(0)&&'"'==i.charAt(i.length-1)&&(i=i.substring(1,i.length-1)),xr.test(i))return new Date(i);if(e.lastIndex=0,s=e.exec(i))return s.shift(),r=n?{yyyy:n.getFullYear(),MM:n.getMonth()+1,dd:n.getDate(),HH:n.getHours(),mm:n.getMinutes(),ss:n.getSeconds(),sss:n.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},a(s,function(e,i){i<t.length&&(r[t[i]]=+e)}),new Date(r.yyyy,r.MM-1,r.dd,r.HH,r.mm,r.ss||0,1e3*r.sss||0)}return 0/0}}function cs(e,t,n,s){return function(a,r,o,l,c,d,u){function m(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return w(e)&&!C(e)?n(e)||i:e}ds(a,r,o,l),rs(a,r,o,l,c,d);var g,f=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){if(l.$isEmpty(e))return null;if(t.test(e)){var s=n(e,g);return f&&(s=K(s,f)),s}return i}),l.$formatters.push(function(e){if(e&&!C(e))throw ro("datefmt","Expected `{0}` to be a date",e);return m(e)?(g=e,g&&f&&(g=K(g,f,!0)),u("date")(e,s,f)):(g=null,"")}),w(o.min)||o.ngMin){var h;l.$validators.min=function(e){return!m(e)||_(h)||n(e)>=h},o.$observe("min",function(e){h=p(e),l.$validate()})}if(w(o.max)||o.ngMax){var v;l.$validators.max=function(e){return!m(e)||_(v)||n(e)<=v},o.$observe("max",function(e){v=p(e),l.$validate()})}}}function ds(e,t,n,s){var a=t[0],r=s.$$hasNativeValidators=y(a.validity);r&&s.$parsers.push(function(e){var n=t.prop($s)||{};return n.badInput&&!n.typeMismatch?i:e})}function us(e,t,n,s,a,r){if(ds(e,t,n,s),rs(e,t,n,s,a,r),s.$$parserName="number",s.$parsers.push(function(e){return s.$isEmpty(e)?null:Sr.test(e)?parseFloat(e):i}),s.$formatters.push(function(e){if(!s.$isEmpty(e)){if(!x(e))throw ro("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),w(n.min)||n.ngMin){var o;s.$validators.min=function(e){return s.$isEmpty(e)||_(o)||e>=o},n.$observe("min",function(e){w(e)&&!x(e)&&(e=parseFloat(e,10)),o=x(e)&&!isNaN(e)?e:i,s.$validate()})}if(w(n.max)||n.ngMax){var l;s.$validators.max=function(e){return s.$isEmpty(e)||_(l)||l>=e},n.$observe("max",function(e){w(e)&&!x(e)&&(e=parseFloat(e,10)),l=x(e)&&!isNaN(e)?e:i,s.$validate()})}}function ms(e,t,i,n,s,a){rs(e,t,i,n,s,a),ss(n),n.$$parserName="url",n.$validators.url=function(e,t){var i=e||t;return n.$isEmpty(i)||Cr.test(i)}}function ps(e,t,i,n,s,a){rs(e,t,i,n,s,a),ss(n),n.$$parserName="email",n.$validators.email=function(e,t){var i=e||t;return n.$isEmpty(i)||jr.test(i)}}function gs(e,t,i,n){_(i.name)&&t.attr("name",l());var s=function(e){t[0].checked&&n.$setViewValue(i.value,e&&e.type)};t.on("click",s),n.$render=function(){var e=i.value;t[0].checked=e==n.$viewValue},i.$observe("value",n.$render)}function fs(e,t,i,n,s){var a;if(w(n)){if(a=e(n),!a.constant)throw ro("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",i,n);return a(t)}return s}function hs(e,t,i,n,s,a,r,o){var l=fs(o,e,"ngTrueValue",i.ngTrueValue,!0),c=fs(o,e,"ngFalseValue",i.ngFalseValue,!1),d=function(e){n.$setViewValue(t[0].checked,e&&e.type)};t.on("click",d),n.$render=function(){t[0].checked=n.$viewValue},n.$isEmpty=function(e){return e===!1},n.$formatters.push(function(e){return N(e,l)}),n.$parsers.push(function(e){return e?l:c})}function vs(e,t){return e="ngClass"+e,["$animate",function(i){function n(e,t){var i=[];e:for(var n=0;n<e.length;n++){for(var s=e[n],a=0;a<t.length;a++)if(s==t[a])continue e;i.push(s)}return i}function s(e){var t=[];return zs(e)?(a(e,function(e){t=t.concat(s(e))}),t):k(e)?e.split(" "):y(e)?(a(e,function(e,i){e&&(t=t.concat(i.split(" ")))}),t):e}return{restrict:"AC",link:function(r,o,l){function c(e){var t=u(e,1);l.$addClass(t)}function d(e){var t=u(e,-1);l.$removeClass(t)}function u(e,t){var i=o.data("$classCounts")||ht(),n=[];return a(e,function(e){(t>0||i[e])&&(i[e]=(i[e]||0)+t,i[e]===+(t>0)&&n.push(e))}),o.data("$classCounts",i),n.join(" ")}function m(e,t){var s=n(t,e),a=n(e,t);s=u(s,1),a=u(a,-1),s&&s.length&&i.addClass(o,s),a&&a.length&&i.removeClass(o,a)}function p(e){if(t===!0||r.$index%2===t){var i=s(e||[]);if(g){if(!N(e,g)){var n=s(g);m(n,i)}}else c(i)}g=z(e)}var g;r.$watch(l[e],p,!0),l.$observe("class",function(){p(r.$eval(l[e]))}),"ngClass"!==e&&r.$watch("$index",function(i,n){var a=1&i;if(a!==(1&n)){var o=s(r.$eval(l[e]));a===t?c(o):d(o)}})}}}]}function bs(e){function t(e,t,l){_(t)?n("$pending",e,l):s("$pending",e,l),M(t)?t?(u(o.$error,e,l),d(o.$$success,e,l)):(d(o.$error,e,l),u(o.$$success,e,l)):(u(o.$error,e,l),u(o.$$success,e,l)),o.$pending?(a(ao,!0),o.$valid=o.$invalid=i,r("",null)):(a(ao,!1),o.$valid=_s(o.$error),o.$invalid=!o.$valid,r("",o.$valid));var c;c=o.$pending&&o.$pending[e]?i:o.$error[e]?!1:o.$$success[e]?!0:null,r(e,c),o.$$parentForm.$setValidity(e,c,o)}function n(e,t,i){o[e]||(o[e]={}),d(o[e],t,i)}function s(e,t,n){o[e]&&u(o[e],t,n),_s(o[e])&&(o[e]=i)}function a(e,t){t&&!c[e]?(m.addClass(l,e),c[e]=!0):!t&&c[e]&&(m.removeClass(l,e),c[e]=!1)}function r(e,t){e=e?"-"+ct(e,"-"):"",a(Zr+e,t===!0),a(eo+e,t===!1)}var o=e.ctrl,l=e.$element,c={},d=e.set,u=e.unset,m=e.$animate;c[eo]=!(c[Zr]=l.hasClass(Zr)),o.$setValidity=t}function _s(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function ws(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var ys=/^\/(.+)\/([a-z]*)$/,$s="validity",ks=function(e){return k(e)?e.toLowerCase():e},xs=Object.prototype.hasOwnProperty,Cs=function(e){return k(e)?e.toUpperCase():e},js=function(e){return k(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Ss=function(e){return k(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(ks=js,Cs=Ss);var As,Ts,Ps,Fs,Us=[].slice,Ms=[].splice,Es=[].push,Rs=Object.prototype.toString,Is=Object.getPrototypeOf,Os=n("ng"),Ls=e.angular||(e.angular={}),Ds=0;As=t.documentMode,f.$inject=[],h.$inject=[];var Hs,zs=Array.isArray,Ns=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,qs=function(e){return k(e)?e.trim():e},Vs=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Bs=function(){function e(){try{return new Function(""),!1}catch(e){return!0}}if(!w(Bs.rules)){var i=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(i){var n=i.getAttribute("ng-csp")||i.getAttribute("data-ng-csp");Bs.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else Bs.rules={noUnsafeEval:e(),noInlineStyle:!1}}return Bs.rules},Ws=function(){if(w(Ws.name_))return Ws.name_;var e,i,n,s,a=Ys.length;for(i=0;a>i;++i)if(n=Ys[i],e=t.querySelector("["+n.replace(":","\\:")+"jq]")){s=e.getAttribute(n+"jq");break}return Ws.name_=s},Ys=["ng-","data-ng-","ng:","x-ng-"],Js=/[A-Z]/g,Gs=!1,Qs=1,Ks=2,Xs=3,Zs=8,ea=9,ta=11,ia={full:"1.4.8",major:1,minor:4,dot:8,codeName:"ice-manipulation"};At.expando="ng339";var na=At.cache={},sa=1,aa=function(e,t,i){e.addEventListener(t,i,!1)},ra=function(e,t,i){e.removeEventListener(t,i,!1)};At._data=function(e){return this.cache[e[this.expando]]||{}};var oa=/([\:\-\_]+(.))/g,la=/^moz([A-Z])/,ca={mouseleave:"mouseout",mouseenter:"mouseover"},da=n("jqLite"),ua=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ma=/<|&#?\w+;/,pa=/<([\w:-]+)/,ga=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,fa={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};fa.optgroup=fa.option,fa.tbody=fa.tfoot=fa.colgroup=fa.caption=fa.thead,fa.th=fa.td;var ha=Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},va=At.prototype={ready:function(i){function n(){s||(s=!0,i())}var s=!1;"complete"===t.readyState?setTimeout(n):(this.on("DOMContentLoaded",n),At(e).on("load",n))},toString:function(){var e=[];return a(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Ts(e>=0?this[e]:this[this.length+e])},length:0,push:Es,sort:[].sort,splice:[].splice},ba={};a("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){ba[ks(e)]=e});var _a={};a("input,select,option,textarea,button,form,details".split(","),function(e){_a[e]=!0});var wa={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};a({data:Et,removeData:Ut,hasData:Ct},function(e,t){At[t]=e}),a({data:Et,inheritedData:Ht,scope:function(e){return Ts.data(e,"$scope")||Ht(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Ts.data(e,"$isolateScope")||Ts.data(e,"$isolateScopeNoTemplate")},controller:Dt,injector:function(e){return Ht(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Rt,css:function(e,t,i){return t=$t(t),w(i)?void(e.style[t]=i):e.style[t]},attr:function(e,t,n){var s=e.nodeType;if(s!==Xs&&s!==Ks&&s!==Zs){var a=ks(t);if(ba[a]){if(!w(n))return e[t]||(e.attributes.getNamedItem(t)||f).specified?a:i;n?(e[t]=!0,e.setAttribute(t,a)):(e[t]=!1,e.removeAttribute(a))}else if(w(n))e.setAttribute(t,n);else if(e.getAttribute){var r=e.getAttribute(t,2);return null===r?i:r}}},prop:function(e,t,i){return w(i)?void(e[t]=i):e[t]},text:function(){function e(e,t){if(_(t)){var i=e.nodeType;return i===Qs||i===Xs?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(_(t)){if(e.multiple&&"select"===L(e)){var i=[];return a(e.options,function(e){e.selected&&i.push(e.value||e.text)}),0===i.length?null:i}return e.value}e.value=t},html:function(e,t){return _(t)?e.innerHTML:(Pt(e,!0),void(e.innerHTML=t))},empty:zt},function(e,t){At.prototype[t]=function(t,i){var n,s,a=this.length;if(e!==zt&&_(2==e.length&&e!==Rt&&e!==Dt?t:i)){if(y(t)){for(n=0;a>n;n++)if(e===Et)e(this[n],t);else for(s in t)e(this[n],s,t[s]);return this}for(var r=e.$dv,o=_(r)?Math.min(a,1):a,l=0;o>l;l++){var c=e(this[l],t,i);r=r?r+c:c}return r}for(n=0;a>n;n++)e(this[n],t,i);
return this}}),a({removeData:Ut,on:function(e,t,n,s){if(w(s))throw da("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(xt(e)){var a=Mt(e,!0),r=a.events,o=a.handle;o||(o=a.handle=Wt(e,r));for(var l=t.indexOf(" ")>=0?t.split(" "):[t],c=l.length,d=function(t,i,s){var a=r[t];a||(a=r[t]=[],a.specialHandlerWrapper=i,"$destroy"===t||s||aa(e,t,o)),a.push(n)};c--;)t=l[c],ca[t]?(d(ca[t],Jt),d(t,i,!0)):d(t)}},off:Ft,one:function(e,t,i){e=Ts(e),e.on(t,function n(){e.off(t,i),e.off(t,n)}),e.on(t,i)},replaceWith:function(e,t){var i,n=e.parentNode;Pt(e),a(new At(t),function(t){i?n.insertBefore(t,i.nextSibling):n.replaceChild(t,e),i=t})},children:function(e){var t=[];return a(e.childNodes,function(e){e.nodeType===Qs&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var i=e.nodeType;if(i===Qs||i===ta){t=new At(t);for(var n=0,s=t.length;s>n;n++){var a=t[n];e.appendChild(a)}}},prepend:function(e,t){if(e.nodeType===Qs){var i=e.firstChild;a(new At(t),function(t){e.insertBefore(t,i)})}},wrap:function(e,t){t=Ts(t).eq(0).clone()[0];var i=e.parentNode;i&&i.replaceChild(t,e),t.appendChild(e)},remove:Nt,detach:function(e){Nt(e,!0)},after:function(e,t){var i=e,n=e.parentNode;t=new At(t);for(var s=0,a=t.length;a>s;s++){var r=t[s];n.insertBefore(r,i.nextSibling),i=r}},addClass:Ot,removeClass:It,toggleClass:function(e,t,i){t&&a(t.split(" "),function(t){var n=i;_(n)&&(n=!Rt(e,t)),(n?Ot:It)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==ta?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Tt,triggerHandler:function(e,t,i){var n,s,r,o=t.type||t,l=Mt(e),c=l&&l.events,d=c&&c[o];d&&(n={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:f,type:o,target:e},t.type&&(n=u(n,t)),s=z(d),r=i?[n].concat(i):[n],a(s,function(t){n.isImmediatePropagationStopped()||t.apply(e,r)}))}},function(e,t){At.prototype[t]=function(t,i,n){for(var s,a=0,r=this.length;r>a;a++)_(s)?(s=e(this[a],t,i,n),w(s)&&(s=Ts(s))):Lt(s,e(this[a],t,i,n));return w(s)?s:this},At.prototype.bind=At.prototype.on,At.prototype.unbind=At.prototype.off}),Kt.prototype={put:function(e,t){this[Qt(e,this.nextUid)]=t},get:function(e){return this[Qt(e,this.nextUid)]},remove:function(e){var t=this[e=Qt(e,this.nextUid)];return delete this[e],t}};var ya=[function(){this.$get=[function(){return Kt}]}],$a=/^[^\(]*\(\s*([^\)]*)\)/m,ka=/,/,xa=/^\s*(_?)(\S+?)\1\s*$/,Ca=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ja=n("$injector");ei.$$annotate=Zt;var Sa=n("$animate"),Aa=1,Ta="ng-animate",Pa=function(){this.$get=["$q","$$rAF",function(e,t){function i(){}return i.all=f,i.chain=f,i.prototype={end:f,cancel:f,resume:f,pause:f,complete:f,then:function(i,n){return e(function(e){t(function(){e()})}).then(i,n)}},i}]},Fa=function(){var e=new Kt,t=[];this.$get=["$$AnimateRunner","$rootScope",function(i,n){function s(e,t,i){var n=!1;return t&&(t=k(t)?t.split(" "):zs(t)?t:[],a(t,function(t){t&&(n=!0,e[t]=i)})),n}function r(){a(t,function(t){var i=e.get(t);if(i){var n=si(t.attr("class")),s="",r="";a(i,function(e,t){var i=!!n[t];e!==i&&(e?s+=(s.length?" ":"")+t:r+=(r.length?" ":"")+t)}),a(t,function(e){s&&Ot(e,s),r&&It(e,r)}),e.remove(t)}}),t.length=0}function o(i,a,o){var l=e.get(i)||{},c=s(l,a,!0),d=s(l,o,!1);(c||d)&&(e.put(i,l),t.push(i),1===t.length&&n.$$postDigest(r))}return{enabled:f,on:f,off:f,pin:f,push:function(e,t,n,s){return s&&s(),n=n||{},n.from&&e.css(n.from),n.to&&e.css(n.to),(n.addClass||n.removeClass)&&o(e,n.addClass,n.removeClass),new i}}}]},Ua=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(i,n){if(i&&"."!==i.charAt(0))throw Sa("notcsel","Expecting class selector starting with '.' got '{0}'.",i);var s=i+"-animation";t.$$registeredAnimations[i.substr(1)]=s,e.factory(s,n)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+Ta+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Sa("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Ta)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,i){if(i){var n=ni(i);!n||n.parentNode||n.previousElementSibling||(i=null)}i?i.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(i,n,s,a){return n=n&&Ts(n),s=s&&Ts(s),n=n||s.parent(),t(i,n,s),e.push(i,"enter",ai(a))},move:function(i,n,s,a){return n=n&&Ts(n),s=s&&Ts(s),n=n||s.parent(),t(i,n,s),e.push(i,"move",ai(a))},leave:function(t,i){return e.push(t,"leave",ai(i),function(){t.remove()})},addClass:function(t,i,n){return n=ai(n),n.addClass=ii(n.addclass,i),e.push(t,"addClass",n)},removeClass:function(t,i,n){return n=ai(n),n.removeClass=ii(n.removeClass,i),e.push(t,"removeClass",n)},setClass:function(t,i,n,s){return s=ai(s),s.addClass=ii(s.addClass,i),s.removeClass=ii(s.removeClass,n),e.push(t,"setClass",s)},animate:function(t,i,n,s,a){return a=ai(a),a.from=a.from?u(a.from,i):i,a.to=a.to?u(a.to,n):n,s=s||"ng-inline-animate",a.tempClasses=ii(a.tempClasses,s),e.push(t,"animate",a)}}}]}],Ma=function(){this.$get=["$$rAF","$q",function(e,t){var i=function(){};return i.prototype={done:function(e){this.defer&&this.defer[e===!0?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=t.defer()),this.defer.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)}},function(t,n){function s(){return e(function(){a(),r||o.done(),r=!0}),o}function a(){n.addClass&&(t.addClass(n.addClass),n.addClass=null),n.removeClass&&(t.removeClass(n.removeClass),n.removeClass=null),n.to&&(t.css(n.to),n.to=null)}n.cleanupStyles&&(n.from=n.to=null),n.from&&(t.css(n.from),n.from=null);var r,o=new i;return{start:s,end:s}}}]},Ea=n("$compile");di.$inject=["$provide","$$sanitizeUriProvider"];var Ra=/^((?:x|data)[\:\-_])/i,Ia=n("$controller"),Oa=/^(\S+)(\s+as\s+(\w+))?$/,La=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Ts&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Da="application/json",Ha={"Content-Type":Da+";charset=utf-8"},za=/^\[|^\{(?!\{)/,Na={"[":/]$/,"{":/}$/},qa=/^\)\]\}',?\n/,Va=n("$http"),Ba=function(e){return function(){throw Va("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},Wa=Ls.$interpolateMinErr=n("$interpolate");Wa.throwNoconcat=function(e){throw Wa("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Wa.interr=function(e,t){return Wa("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Ya=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Ja={http:80,https:443,ftp:21},Ga=n("$location"),Qa={$$html5:!1,$$replace:!1,absUrl:Vi("$$absUrl"),url:function(e){if(_(e))return this.$$url;var t=Ya.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Vi("$$protocol"),host:Vi("$$host"),port:Vi("$$port"),path:Bi("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(k(e)||x(e))e=e.toString(),this.$$search=et(e);else{if(!y(e))throw Ga("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=H(e,{}),a(e,function(t,i){null==t&&delete e[i]}),this.$$search=e}break;default:_(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Bi("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};a([qi,Ni,zi],function(e){e.prototype=Object.create(Qa),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==zi||!this.$$html5)throw Ga("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=_(t)?null:t,this}});var Ka=n("$parse"),Xa=Function.prototype.call,Za=Function.prototype.apply,er=Function.prototype.bind,tr=ht();a("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){tr[e]=!0});var ir={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},nr=function(e){this.options=e};nr.prototype={constructor:nr,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var i=t+this.peek(),n=i+this.peek(2),s=tr[t],a=tr[i],r=tr[n];if(s||a||r){var o=r?n:a?i:t;this.tokens.push({index:this.index,text:o,operator:!0}),this.index+=o.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||"\xa0"===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,i){i=i||this.index;var n=w(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,i)+"]":" "+i;throw Ka("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,n,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var i=ks(this.text.charAt(this.index));if("."==i||this.isNumber(i))e+=i;else{var n=this.peek();if("e"==i&&this.isExpOperator(n))e+=i;else if(this.isExpOperator(i)&&n&&this.isNumber(n)&&"e"==e.charAt(e.length-1))e+=i;else{if(!this.isExpOperator(i)||n&&this.isNumber(n)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var i="",n=e,s=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(n+=a,s){if("u"===a){var r=this.text.substring(this.index+1,this.index+5);r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,i+=String.fromCharCode(parseInt(r,16))}else{var o=ir[a];i+=o||a}s=!1}else if("\\"===a)s=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:n,constant:!0,value:i});i+=a}this.index++}this.throwError("Unterminated quote",t)}};var sr=function(e,t){this.lexer=e,this.options=t};sr.Program="Program",sr.ExpressionStatement="ExpressionStatement",sr.AssignmentExpression="AssignmentExpression",sr.ConditionalExpression="ConditionalExpression",sr.LogicalExpression="LogicalExpression",sr.BinaryExpression="BinaryExpression",sr.UnaryExpression="UnaryExpression",sr.CallExpression="CallExpression",sr.MemberExpression="MemberExpression",sr.Identifier="Identifier",sr.Literal="Literal",sr.ArrayExpression="ArrayExpression",sr.Property="Property",sr.ObjectExpression="ObjectExpression",sr.ThisExpression="ThisExpression",sr.NGValueParameter="NGValueParameter",sr.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:sr.Program,body:e}},expressionStatement:function(){return{type:sr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:sr.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,i=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:sr.ConditionalExpression,test:i,alternate:e,consequent:t}):i},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:sr.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:sr.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:sr.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:sr.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:sr.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:sr.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:sr.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=H(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:sr.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:sr.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:sr.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],i={type:sr.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return i},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:sr.Identifier,name:e.text}},constant:function(){return{type:sr.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:sr.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:sr.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:sr.ObjectExpression,properties:t}},throwError:function(e,t){throw Ka("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Ka("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Ka("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,i,n){return this.peekAhead(0,e,t,i,n)},peekAhead:function(e,t,i,n,s){if(this.tokens.length>e){var a=this.tokens[e],r=a.text;if(r===t||r===i||r===n||r===s||!t&&!i&&!n&&!s)return a}return!1},expect:function(e,t,i,n){var s=this.peek(e,t,i,n);return s?(this.tokens.shift(),s):!1},constants:{"true":{type:sr.Literal,value:!0},"false":{type:sr.Literal,value:!1},"null":{type:sr.Literal,value:null},undefined:{type:sr.Literal,value:i},"this":{type:sr.ThisExpression}}},cn.prototype={compile:function(e,t){var n=this,s=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},nn(s,n.$filter);var r,o="";if(this.stage="assign",r=rn(s)){this.state.computing="assign";var l=this.nextId();this.recurse(r,l),this.return_(l),o="fn.assign="+this.generateFunction("assign","s,v,l")}var c=sn(s.body);n.stage="inputs",a(c,function(e,t){var i="fn"+t;n.state[i]={vars:[],body:[],own:{}},n.state.computing=i;var s=n.nextId();n.recurse(e,s),n.return_(s),n.state.inputs.push(i),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(s);var d='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+o+this.watchFns()+"return fn;",u=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",d)(this.$filter,Ji,Qi,Ki,Gi,Xi,Zi,en,e);return this.state=this.stage=i,u.literal=on(s),u.constant=ln(s),u},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,i=this;return a(t,function(t){e.push("var "+t+"="+i.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return a(this.state.filters,function(i,n){e.push(i+"=$filter("+t.escape(n)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,s,r,o){var l,c,d,u,m=this;if(s=s||f,!o&&w(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,s,r,!0));switch(e.type){case sr.Program:a(e.body,function(t,n){m.recurse(t.expression,i,i,function(e){c=e}),n!==e.body.length-1?m.current().body.push(c,";"):m.return_(c)});break;case sr.Literal:u=this.escape(e.value),this.assign(t,u),s(u);break;case sr.UnaryExpression:this.recurse(e.argument,i,i,function(e){c=e}),u=e.operator+"("+this.ifDefined(c,0)+")",this.assign(t,u),s(u);break;case sr.BinaryExpression:this.recurse(e.left,i,i,function(e){l=e}),this.recurse(e.right,i,i,function(e){c=e}),u="+"===e.operator?this.plus(l,c):"-"===e.operator?this.ifDefined(l,0)+e.operator+this.ifDefined(c,0):"("+l+")"+e.operator+"("+c+")",this.assign(t,u),s(u);break;case sr.LogicalExpression:t=t||this.nextId(),m.recurse(e.left,t),m.if_("&&"===e.operator?t:m.not(t),m.lazyRecurse(e.right,t)),s(t);break;case sr.ConditionalExpression:t=t||this.nextId(),m.recurse(e.test,t),m.if_(t,m.lazyRecurse(e.alternate,t),m.lazyRecurse(e.consequent,t)),s(t);break;case sr.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===m.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),Ji(e.name),m.if_("inputs"===m.stage||m.not(m.getHasOwnProperty("l",e.name)),function(){m.if_("inputs"===m.stage||"s",function(){r&&1!==r&&m.if_(m.not(m.nonComputedMember("s",e.name)),m.lazyAssign(m.nonComputedMember("s",e.name),"{}")),m.assign(t,m.nonComputedMember("s",e.name))})},t&&m.lazyAssign(t,m.nonComputedMember("l",e.name))),(m.state.expensiveChecks||un(e.name))&&m.addEnsureSafeObject(t),s(t);break;case sr.MemberExpression:l=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),m.recurse(e.object,l,i,function(){m.if_(m.notNull(l),function(){e.computed?(c=m.nextId(),m.recurse(e.property,c),m.getStringValue(c),m.addEnsureSafeMemberName(c),r&&1!==r&&m.if_(m.not(m.computedMember(l,c)),m.lazyAssign(m.computedMember(l,c),"{}")),u=m.ensureSafeObject(m.computedMember(l,c)),m.assign(t,u),n&&(n.computed=!0,n.name=c)):(Ji(e.property.name),r&&1!==r&&m.if_(m.not(m.nonComputedMember(l,e.property.name)),m.lazyAssign(m.nonComputedMember(l,e.property.name),"{}")),u=m.nonComputedMember(l,e.property.name),(m.state.expensiveChecks||un(e.property.name))&&(u=m.ensureSafeObject(u)),m.assign(t,u),n&&(n.computed=!1,n.name=e.property.name))},function(){m.assign(t,"undefined")}),s(t)},!!r);break;case sr.CallExpression:t=t||this.nextId(),e.filter?(c=m.filter(e.callee.name),d=[],a(e.arguments,function(e){var t=m.nextId();m.recurse(e,t),d.push(t)}),u=c+"("+d.join(",")+")",m.assign(t,u),s(t)):(c=m.nextId(),l={},d=[],m.recurse(e.callee,c,l,function(){m.if_(m.notNull(c),function(){m.addEnsureSafeFunction(c),a(e.arguments,function(e){m.recurse(e,m.nextId(),i,function(e){d.push(m.ensureSafeObject(e))})}),l.name?(m.state.expensiveChecks||m.addEnsureSafeObject(l.context),u=m.member(l.context,l.name,l.computed)+"("+d.join(",")+")"):u=c+"("+d.join(",")+")",u=m.ensureSafeObject(u),m.assign(t,u)},function(){m.assign(t,"undefined")}),s(t)}));break;case sr.AssignmentExpression:if(c=this.nextId(),l={},!an(e.left))throw Ka("lval","Trying to assing a value to a non l-value");this.recurse(e.left,i,l,function(){m.if_(m.notNull(l.context),function(){m.recurse(e.right,c),m.addEnsureSafeObject(m.member(l.context,l.name,l.computed)),m.addEnsureSafeAssignContext(l.context),u=m.member(l.context,l.name,l.computed)+e.operator+c,m.assign(t,u),s(t||u)})},1);break;case sr.ArrayExpression:d=[],a(e.elements,function(e){m.recurse(e,m.nextId(),i,function(e){d.push(e)})}),u="["+d.join(",")+"]",this.assign(t,u),s(u);break;case sr.ObjectExpression:d=[],a(e.properties,function(e){m.recurse(e.value,m.nextId(),i,function(t){d.push(m.escape(e.key.type===sr.Identifier?e.key.name:""+e.key.value)+":"+t)})}),u="{"+d.join(",")+"}",this.assign(t,u),s(u);break;case sr.ThisExpression:this.assign(t,"s"),s("s");break;case sr.NGValueParameter:this.assign(t,"v"),s("v")}},getHasOwnProperty:function(e,t){var i=e+"."+t,n=this.current().own;return n.hasOwnProperty(i)||(n[i]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),n[i]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,i){if(e===!0)t();else{var n=this.current().body;n.push("if(",e,"){"),t(),n.push("}"),i&&(n.push("else{"),i(),n.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,i){return i?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+",text)")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,i,n,s,a){var r=this;return function(){r.recurse(e,t,i,n,s,a)}},lazyAssign:function(e,t){var i=this;return function(){i.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(k(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw Ka("esc","IMPOSSIBLE")},nextId:function(e,t){var i="v"+this.state.nextId++;return e||this.current().vars.push(i+(t?"="+t:"")),i},current:function(){return this.state[this.state.computing]}},dn.prototype={compile:function(e,t){var i=this,n=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,nn(n,i.$filter);var s,r;(s=rn(n))&&(r=this.recurse(s));var o,l=sn(n.body);l&&(o=[],a(l,function(e,t){var n=i.recurse(e);e.input=n,o.push(n),e.watchId=t}));var c=[];a(n.body,function(e){c.push(i.recurse(e.expression))});var d=0===n.body.length?function(){}:1===n.body.length?c[0]:function(e,t){var i;return a(c,function(n){i=n(e,t)}),i};return r&&(d.assign=function(e,t,i){return r(e,i,t)}),o&&(d.inputs=o),d.literal=on(n),d.constant=ln(n),d},recurse:function(e,t,n){var s,r,o,l=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case sr.Literal:return this.value(e.value,t);case sr.UnaryExpression:return r=this.recurse(e.argument),this["unary"+e.operator](r,t);case sr.BinaryExpression:return s=this.recurse(e.left),r=this.recurse(e.right),this["binary"+e.operator](s,r,t);case sr.LogicalExpression:return s=this.recurse(e.left),r=this.recurse(e.right),this["binary"+e.operator](s,r,t);case sr.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case sr.Identifier:return Ji(e.name,l.expression),l.identifier(e.name,l.expensiveChecks||un(e.name),t,n,l.expression);case sr.MemberExpression:return s=this.recurse(e.object,!1,!!n),e.computed||(Ji(e.property.name,l.expression),r=e.property.name),e.computed&&(r=this.recurse(e.property)),e.computed?this.computedMember(s,r,t,n,l.expression):this.nonComputedMember(s,r,l.expensiveChecks,t,n,l.expression);case sr.CallExpression:return o=[],a(e.arguments,function(e){o.push(l.recurse(e))}),e.filter&&(r=this.$filter(e.callee.name)),e.filter||(r=this.recurse(e.callee,!0)),e.filter?function(e,n,s,a){for(var l=[],c=0;c<o.length;++c)l.push(o[c](e,n,s,a));var d=r.apply(i,l,a);return t?{context:i,name:i,value:d}:d}:function(e,i,n,s){var a,c=r(e,i,n,s);if(null!=c.value){Qi(c.context,l.expression),Ki(c.value,l.expression);for(var d=[],u=0;u<o.length;++u)d.push(Qi(o[u](e,i,n,s),l.expression));a=Qi(c.value.apply(c.context,d),l.expression)}return t?{value:a}:a};case sr.AssignmentExpression:return s=this.recurse(e.left,!0,1),r=this.recurse(e.right),function(e,i,n,a){var o=s(e,i,n,a),c=r(e,i,n,a);return Qi(o.value,l.expression),Xi(o.context),o.context[o.name]=c,t?{value:c}:c};case sr.ArrayExpression:return o=[],a(e.elements,function(e){o.push(l.recurse(e))}),function(e,i,n,s){for(var a=[],r=0;r<o.length;++r)a.push(o[r](e,i,n,s));return t?{value:a}:a};case sr.ObjectExpression:return o=[],a(e.properties,function(e){o.push({key:e.key.type===sr.Identifier?e.key.name:""+e.key.value,value:l.recurse(e.value)})}),function(e,i,n,s){for(var a={},r=0;r<o.length;++r)a[o[r].key]=o[r].value(e,i,n,s);return t?{value:a}:a};case sr.ThisExpression:return function(e){return t?{value:e}:e};case sr.NGValueParameter:return function(e,i,n){return t?{value:n}:n}}},"unary+":function(e,t){return function(i,n,s,a){var r=e(i,n,s,a);return r=w(r)?+r:0,t?{value:r}:r}},"unary-":function(e,t){return function(i,n,s,a){var r=e(i,n,s,a);return r=w(r)?-r:0,t?{value:r}:r}},"unary!":function(e,t){return function(i,n,s,a){var r=!e(i,n,s,a);return t?{value:r}:r}},"binary+":function(e,t,i){return function(n,s,a,r){var o=e(n,s,a,r),l=t(n,s,a,r),c=en(o,l);return i?{value:c}:c}},"binary-":function(e,t,i){return function(n,s,a,r){var o=e(n,s,a,r),l=t(n,s,a,r),c=(w(o)?o:0)-(w(l)?l:0);return i?{value:c}:c}},"binary*":function(e,t,i){return function(n,s,a,r){var o=e(n,s,a,r)*t(n,s,a,r);return i?{value:o}:o}},"binary/":function(e,t,i){return function(n,s,a,r){var o=e(n,s,a,r)/t(n,s,a,r);return i?{value:o}:o}},"binary%":function(e,t,i){return function(n,s,a,r){var o=e(n,s,a,r)%t(n,s,a,r);return i?{value:o}:o}},"binary===":function(e,t,i){return function(n,s,a,r){var o=e(n,s,a,r)===t(n,s,a,r);return i?{value:o}:o}},"binary!==":function(e,t,i){return function(n,s,a,r){var o=e(n,s,a,r)!==t(n,s,a,r);return i?{value:o}:o}},"binary==":function(e,t,i){return function(n,s,a,r){var o=e(n,s,a,r)==t(n,s,a,r);return i?{value:o}:o}},"binary!=":function(e,t,i){return function(n,s,a,r){var o=e(n,s,a,r)!=t(n,s,a,r);return i?{value:o}:o}},"binary<":function(e,t,i){return function(n,s,a,r){var o=e(n,s,a,r)<t(n,s,a,r);return i?{value:o}:o}},"binary>":function(e,t,i){return function(n,s,a,r){var o=e(n,s,a,r)>t(n,s,a,r);return i?{value:o}:o}},"binary<=":function(e,t,i){return function(n,s,a,r){var o=e(n,s,a,r)<=t(n,s,a,r);return i?{value:o}:o}},"binary>=":function(e,t,i){return function(n,s,a,r){var o=e(n,s,a,r)>=t(n,s,a,r);return i?{value:o}:o}},"binary&&":function(e,t,i){return function(n,s,a,r){var o=e(n,s,a,r)&&t(n,s,a,r);return i?{value:o}:o}},"binary||":function(e,t,i){return function(n,s,a,r){var o=e(n,s,a,r)||t(n,s,a,r);return i?{value:o}:o}},"ternary?:":function(e,t,i,n){return function(s,a,r,o){var l=e(s,a,r,o)?t(s,a,r,o):i(s,a,r,o);return n?{value:l}:l}},value:function(e,t){return function(){return t?{context:i,name:i,value:e}:e}},identifier:function(e,t,n,s,a){return function(r,o){var l=o&&e in o?o:r;s&&1!==s&&l&&!l[e]&&(l[e]={});var c=l?l[e]:i;return t&&Qi(c,a),n?{context:l,name:e,value:c}:c}},computedMember:function(e,t,i,n,s){return function(a,r,o,l){var c,d,u=e(a,r,o,l);return null!=u&&(c=t(a,r,o,l),c=Gi(c),Ji(c,s),n&&1!==n&&u&&!u[c]&&(u[c]={}),d=u[c],Qi(d,s)),i?{context:u,name:c,value:d}:d}},nonComputedMember:function(e,t,n,s,a,r){return function(o,l,c,d){var u=e(o,l,c,d);a&&1!==a&&u&&!u[t]&&(u[t]={});var m=null!=u?u[t]:i;return(n||un(t))&&Qi(m,r),s?{context:u,name:t,value:m}:m}},inputs:function(e,t){return function(i,n,s,a){return a?a[t]:e(i,n,s)}}};var ar=function(e,t,i){this.lexer=e,this.$filter=t,this.options=i,this.ast=new sr(this.lexer),this.astCompiler=i.csp?new dn(this.ast,t):new cn(this.ast,t)};ar.prototype={constructor:ar,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var rr=(ht(),ht(),Object.prototype.valueOf),or=n("$sce"),lr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ea=n("$compile"),cr=t.createElement("a"),dr=An(e.location.href);Fn.$inject=["$document"],Mn.$inject=["$provide"],Ln.$inject=["$locale"],Dn.$inject=["$locale"];var ur=".",mr={yyyy:Nn("FullYear",4),yy:Nn("FullYear",2,0,!0),y:Nn("FullYear",1),MMMM:qn("Month"),MMM:qn("Month",!0),MM:Nn("Month",2,1),M:Nn("Month",1,1),dd:Nn("Date",2),d:Nn("Date",1),HH:Nn("Hours",2),H:Nn("Hours",1),hh:Nn("Hours",2,-12),h:Nn("Hours",1,-12),mm:Nn("Minutes",2),m:Nn("Minutes",1),ss:Nn("Seconds",2),s:Nn("Seconds",1),sss:Nn("Milliseconds",3),EEEE:qn("Day"),EEE:qn("Day",!0),a:Jn,Z:Vn,ww:Yn(2),w:Yn(1),G:Gn,GG:Gn,GGG:Gn,GGGG:Qn},pr=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,gr=/^\-?\d+$/;Kn.$inject=["$locale"];var fr=v(ks),hr=v(Cs);es.$inject=["$parse"];var vr=v({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var i="[object SVGAnimatedString]"===Rs.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(i)||e.preventDefault()})}}}}),br={};a(ba,function(e,t){function i(e,i,s){e.$watch(s[n],function(e){s.$set(t,!!e)})}if("multiple"!=e){var n=ui("ng-"+t),s=i;"checked"===e&&(s=function(e,t,s){s.ngModel!==s[n]&&i(e,t,s)}),br[n]=function(){return{restrict:"A",priority:100,link:s}}}}),a(wa,function(e,t){br[t]=function(){return{priority:100,link:function(e,i,n){if("ngPattern"===t&&"/"==n.ngPattern.charAt(0)){var s=n.ngPattern.match(ys);
if(s)return void n.$set("ngPattern",new RegExp(s[1],s[2]))}e.$watch(n[t],function(e){n.$set(t,e)})}}}}),a(["src","srcset","href"],function(e){var t=ui("ng-"+e);br[t]=function(){return{priority:99,link:function(i,n,s){var a=e,r=e;"href"===e&&"[object SVGAnimatedString]"===Rs.call(n.prop("href"))&&(r="xlinkHref",s.$attr[r]="xlink:href",a=null),s.$observe(t,function(t){return t?(s.$set(r,t),void(As&&a&&n.prop(a,s[r]))):void("href"===e&&s.$set(r,null))})}}}});var _r={$addControl:f,$$renameControl:is,$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f},wr="ng-submitted";ns.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var yr=function(e){return["$timeout","$parse",function(t,n){function s(e){return""===e?n('this[""]').assign:n(e).assign||f}var a={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:ns,compile:function(n,a){n.addClass(to).addClass(Zr);var r=a.name?"name":e&&a.ngForm?"ngForm":!1;return{pre:function(e,n,a,o){var l=o[0];if(!("action"in a)){var c=function(t){e.$apply(function(){l.$commitViewValue(),l.$setSubmitted()}),t.preventDefault()};aa(n[0],"submit",c),n.on("$destroy",function(){t(function(){ra(n[0],"submit",c)},0,!1)})}var d=o[1]||l.$$parentForm;d.$addControl(l);var m=r?s(l.$name):f;r&&(m(e,l),a.$observe(r,function(t){l.$name!==t&&(m(e,i),l.$$parentForm.$$renameControl(l,t),(m=s(l.$name))(e,l))})),n.on("$destroy",function(){l.$$parentForm.$removeControl(l),m(e,i),u(l,_r)})}}}};return a}]},$r=yr(),kr=yr(!0),xr=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Cr=/^[A-Za-z][A-Za-z\d.+-]*:\/*(?:\w+(?::\w+)?@)?[^\s/]+(?::\d+)?(?:\/[\w#!:.?+=&%@\-/]*)?$/,jr=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Sr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ar=/^(\d{4})-(\d{2})-(\d{2})$/,Tr=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Pr=/^(\d{4})-W(\d\d)$/,Fr=/^(\d{4})-(\d\d)$/,Ur=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Mr={text:as,date:cs("date",Ar,ls(Ar,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":cs("datetimelocal",Tr,ls(Tr,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:cs("time",Ur,ls(Ur,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:cs("week",Pr,os,"yyyy-Www"),month:cs("month",Fr,ls(Fr,["yyyy","MM"]),"yyyy-MM"),number:us,url:ms,email:ps,radio:gs,checkbox:hs,hidden:f,button:f,submit:f,reset:f,file:f},Er=["$browser","$sniffer","$filter","$parse",function(e,t,i,n){return{restrict:"E",require:["?ngModel"],link:{pre:function(s,a,r,o){o[0]&&(Mr[ks(r.type)]||Mr.text)(s,a,r,o[0],t,e,i,n)}}}}],Rr=/^(true|false|\d+)$/,Ir=function(){return{restrict:"A",priority:100,compile:function(e,t){return Rr.test(t.ngValue)?function(e,t,i){i.$set("value",e.$eval(i.ngValue))}:function(e,t,i){e.$watch(i.ngValue,function(e){i.$set("value",e)})}}}},Or=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,i,n){e.$$addBindingInfo(i,n.ngBind),i=i[0],t.$watch(n.ngBind,function(e){i.textContent=_(e)?"":e})}}}}],Lr=["$interpolate","$compile",function(e,t){return{compile:function(i){return t.$$addBindingClass(i),function(i,n,s){var a=e(n.attr(s.$attr.ngBindTemplate));t.$$addBindingInfo(n,a.expressions),n=n[0],s.$observe("ngBindTemplate",function(e){n.textContent=_(e)?"":e})}}}}],Dr=["$sce","$parse","$compile",function(e,t,i){return{restrict:"A",compile:function(n,s){var a=t(s.ngBindHtml),r=t(s.ngBindHtml,function(e){return(e||"").toString()});return i.$$addBindingClass(n),function(t,n,s){i.$$addBindingInfo(n,s.ngBindHtml),t.$watch(r,function(){n.html(e.getTrustedHtml(a(t))||"")})}}}}],Hr=v({restrict:"A",require:"ngModel",link:function(e,t,i,n){n.$viewChangeListeners.push(function(){e.$eval(i.ngChange)})}}),zr=vs("",!0),Nr=vs("Odd",0),qr=vs("Even",1),Vr=ts({compile:function(e,t){t.$set("ngCloak",i),e.removeClass("ng-cloak")}}),Br=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Wr={},Yr={blur:!0,focus:!0};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=ui("ng-"+e);Wr[t]=["$parse","$rootScope",function(i,n){return{restrict:"A",compile:function(s,a){var r=i(a[t],null,!0);return function(t,i){i.on(e,function(i){var s=function(){r(t,{$event:i})};Yr[e]&&n.$$phase?t.$evalAsync(s):t.$apply(s)})}}}}]});var Jr=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(i,n,s,a,r){var o,l,c;i.$watch(s.ngIf,function(i){i?l||r(function(i,a){l=a,i[i.length++]=t.createComment(" end ngIf: "+s.ngIf+" "),o={clone:i},e.enter(i,n.parent(),n)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),o&&(c=ft(o.clone),e.leave(c).then(function(){c=null}),o=null))})}}}],Gr=["$templateRequest","$anchorScroll","$animate",function(e,t,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ls.noop,compile:function(n,s){var a=s.ngInclude||s.src,r=s.onload||"",o=s.autoscroll;return function(n,s,l,c,d){var u,m,p,g=0,f=function(){m&&(m.remove(),m=null),u&&(u.$destroy(),u=null),p&&(i.leave(p).then(function(){m=null}),m=p,p=null)};n.$watch(a,function(a){var l=function(){!w(o)||o&&!n.$eval(o)||t()},m=++g;a?(e(a,!0).then(function(e){if(m===g){var t=n.$new();c.template=e;var o=d(t,function(e){f(),i.enter(e,null,s).then(l)});u=t,p=o,u.$emit("$includeContentLoaded",a),n.$eval(r)}},function(){m===g&&(f(),n.$emit("$includeContentError",a))}),n.$emit("$includeContentRequested",a)):(f(),c.template=null)})}}}}],Qr=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(i,n,s,a){return/SVG/.test(n[0].toString())?(n.empty(),void e(jt(a.template,t).childNodes)(i,function(e){n.append(e)},{futureParentElement:n})):(n.html(a.template),void e(n.contents())(i))}}}],Kr=ts({priority:450,compile:function(){return{pre:function(e,t,i){e.$eval(i.ngInit)}}}}),Xr=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,s){var r=t.attr(n.$attr.ngList)||", ",o="false"!==n.ngTrim,l=o?qs(r):r,c=function(e){if(!_(e)){var t=[];return e&&a(e.split(l),function(e){e&&t.push(o?qs(e):e)}),t}};s.$parsers.push(c),s.$formatters.push(function(e){return zs(e)?e.join(r):i}),s.$isEmpty=function(e){return!e||!e.length}}}},Zr="ng-valid",eo="ng-invalid",to="ng-pristine",io="ng-dirty",no="ng-untouched",so="ng-touched",ao="ng-pending",ro=n("ngModel"),oo=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,s,r,o,l,c,d,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=i,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=i,this.$name=u(n.name||"",!1)(e),this.$$parentForm=_r;var m,p=r(n.ngModel),g=p.assign,h=p,v=g,b=null,y=this;this.$$setOptions=function(e){if(y.$options=e,e&&e.getterSetter){var t=r(n.ngModel+"()"),i=r(n.ngModel+"($$$p)");h=function(e){var i=p(e);return j(i)&&(i=t(e)),i},v=function(e){j(p(e))?i(e,{$$$p:y.$modelValue}):g(e,y.$modelValue)}}else if(!p.assign)throw ro("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,X(s))},this.$render=f,this.$isEmpty=function(e){return _(e)||""===e||null===e||e!==e};var $=0;bs({ctrl:this,$element:s,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:o}),this.$setPristine=function(){y.$dirty=!1,y.$pristine=!0,o.removeClass(s,io),o.addClass(s,to)},this.$setDirty=function(){y.$dirty=!0,y.$pristine=!1,o.removeClass(s,to),o.addClass(s,io),y.$$parentForm.$setDirty()},this.$setUntouched=function(){y.$touched=!1,y.$untouched=!0,o.setClass(s,no,so)},this.$setTouched=function(){y.$touched=!0,y.$untouched=!1,o.setClass(s,so,no)},this.$rollbackViewValue=function(){l.cancel(b),y.$viewValue=y.$$lastCommittedViewValue,y.$render()},this.$validate=function(){if(!x(y.$modelValue)||!isNaN(y.$modelValue)){var e=y.$$lastCommittedViewValue,t=y.$$rawModelValue,n=y.$valid,s=y.$modelValue,a=y.$options&&y.$options.allowInvalid;y.$$runValidators(t,e,function(e){a||n===e||(y.$modelValue=e?t:i,y.$modelValue!==s&&y.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function s(){var e=y.$$parserName||"parse";return _(m)?(l(e,null),!0):(m||(a(y.$validators,function(e,t){l(t,null)}),a(y.$asyncValidators,function(e,t){l(t,null)})),l(e,m),m)}function r(){var i=!0;return a(y.$validators,function(n,s){var a=n(e,t);i=i&&a,l(s,a)}),i?!0:(a(y.$asyncValidators,function(e,t){l(t,null)}),!1)}function o(){var n=[],s=!0;a(y.$asyncValidators,function(a,r){var o=a(e,t);if(!E(o))throw ro("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",o);l(r,i),n.push(o.then(function(){l(r,!0)},function(){s=!1,l(r,!1)}))}),n.length?d.all(n).then(function(){c(s)},f):c(!0)}function l(e,t){u===$&&y.$setValidity(e,t)}function c(e){u===$&&n(e)}$++;var u=$;return s()&&r()?void o():void c(!1)},this.$commitViewValue=function(){var e=y.$viewValue;l.cancel(b),(y.$$lastCommittedViewValue!==e||""===e&&y.$$hasNativeValidators)&&(y.$$lastCommittedViewValue=e,y.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){y.$modelValue!==r&&y.$$writeModelToScope()}var n=y.$$lastCommittedViewValue,s=n;if(m=_(s)?i:!0)for(var a=0;a<y.$parsers.length;a++)if(s=y.$parsers[a](s),_(s)){m=!1;break}x(y.$modelValue)&&isNaN(y.$modelValue)&&(y.$modelValue=h(e));var r=y.$modelValue,o=y.$options&&y.$options.allowInvalid;y.$$rawModelValue=s,o&&(y.$modelValue=s,t()),y.$$runValidators(s,y.$$lastCommittedViewValue,function(e){o||(y.$modelValue=e?s:i,t())})},this.$$writeModelToScope=function(){v(e,y.$modelValue),a(y.$viewChangeListeners,function(e){try{e()}catch(i){t(i)}})},this.$setViewValue=function(e,t){y.$viewValue=e,(!y.$options||y.$options.updateOnDefault)&&y.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var i,n=0,s=y.$options;s&&w(s.debounce)&&(i=s.debounce,x(i)?n=i:x(i[t])?n=i[t]:x(i["default"])&&(n=i["default"])),l.cancel(b),n?b=l(function(){y.$commitViewValue()},n):c.$$phase?y.$commitViewValue():e.$apply(function(){y.$commitViewValue()})},e.$watch(function(){var t=h(e);if(t!==y.$modelValue&&(y.$modelValue===y.$modelValue||t===t)){y.$modelValue=y.$$rawModelValue=t,m=i;for(var n=y.$formatters,s=n.length,a=t;s--;)a=n[s](a);y.$viewValue!==a&&(y.$viewValue=y.$$lastCommittedViewValue=a,y.$render(),y.$$runValidators(t,a,f))}return t})}],lo=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:oo,priority:1,compile:function(t){return t.addClass(to).addClass(no).addClass(Zr),{pre:function(e,t,i,n){var s=n[0],a=n[1]||s.$$parentForm;s.$$setOptions(n[2]&&n[2].$options),a.$addControl(s),i.$observe("name",function(e){s.$name!==e&&s.$$parentForm.$$renameControl(s,e)}),e.$on("$destroy",function(){s.$$parentForm.$removeControl(s)})},post:function(t,i,n,s){var a=s[0];a.$options&&a.$options.updateOn&&i.on(a.$options.updateOn,function(e){a.$$debounceViewValueCommit(e&&e.type)}),i.on("blur",function(){a.$touched||(e.$$phase?t.$evalAsync(a.$setTouched):t.$apply(a.$setTouched))})}}}}}],co=/(\s+|^)default(\s+|$)/,uo=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var i=this;this.$options=H(e.$eval(t.ngModelOptions)),w(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=qs(this.$options.updateOn.replace(co,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},mo=ts({terminal:!0,priority:1e3}),po=n("ngOptions"),go=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,fo=["$compile","$parse",function(e,i){function n(e,t,n){function a(e,t,i,n,s){this.selectValue=e,this.viewValue=t,this.label=i,this.group=n,this.disabled=s}function r(e){var t;if(!c&&s(e))t=e;else{t=[];for(var i in e)e.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t.push(i)}return t}var o=e.match(go);if(!o)throw po("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,X(t));var l=o[5]||o[7],c=o[6],d=/ as /.test(o[0])&&o[1],u=o[9],m=i(o[2]?o[1]:l),p=d&&i(d),g=p||m,f=u&&i(u),h=u?function(e,t){return f(n,t)}:function(e){return Qt(e)},v=function(e,t){return h(e,k(e,t))},b=i(o[2]||o[1]),_=i(o[3]||""),w=i(o[4]||""),y=i(o[8]),$={},k=c?function(e,t){return $[c]=t,$[l]=e,$}:function(e){return $[l]=e,$};return{trackBy:u,getTrackByValue:v,getWatchables:i(y,function(e){var t=[];e=e||[];for(var i=r(e),s=i.length,a=0;s>a;a++){var l=e===i?a:i[a],c=(e[l],k(e[l],l)),d=h(e[l],c);if(t.push(d),o[2]||o[1]){var u=b(n,c);t.push(u)}if(o[4]){var m=w(n,c);t.push(m)}}return t}),getOptions:function(){for(var e=[],t={},i=y(n)||[],s=r(i),o=s.length,l=0;o>l;l++){var c=i===s?l:s[l],d=i[c],m=k(d,c),p=g(n,m),f=h(p,m),$=b(n,m),x=_(n,m),C=w(n,m),j=new a(f,p,$,x,C);e.push(j),t[f]=j}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return u?Ls.copy(e.viewValue):e.viewValue}}}}}function r(t,i,s,r){function c(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function d(e,t,i,n){var s;return t&&ks(t.nodeName)===i?s=t:(s=n.cloneNode(!1),t?e.insertBefore(s,t):e.appendChild(s)),s}function u(e){for(var t;e;)t=e.nextSibling,Nt(e),e=t}function m(e){var t=f&&f[0],i=$&&$[0];if(t||i)for(;e&&(e===t||e===i||e.nodeType===Zs||""===e.value);)e=e.nextSibling;return e}function p(){var e=k&&h.readValue();k=x.getOptions();var t={},n=i[0].firstChild;if(y&&i.prepend(f),n=m(n),k.items.forEach(function(e){var s,a,r;e.group?(s=t[e.group],s||(a=d(i[0],n,"optgroup",l),n=a.nextSibling,a.label=e.group,s=t[e.group]={groupElement:a,currentOptionElement:a.firstChild}),r=d(s.groupElement,s.currentOptionElement,"option",o),c(e,r),s.currentOptionElement=r.nextSibling):(r=d(i[0],n,"option",o),c(e,r),n=r.nextSibling)}),Object.keys(t).forEach(function(e){u(t[e].currentOptionElement)}),u(n),g.$render(),!g.$isEmpty(e)){var s=h.readValue();(x.trackBy?N(e,s):e===s)||(g.$setViewValue(s),g.$render())}}var g=r[1];if(g){for(var f,h=r[0],v=s.multiple,b=0,_=i.children(),w=_.length;w>b;b++)if(""===_[b].value){f=_.eq(b);break}var y=!!f,$=Ts(o.cloneNode(!1));$.val("?");var k,x=n(s.ngOptions,i,t),C=function(){y||i.prepend(f),i.val(""),f.prop("selected",!0),f.attr("selected",!0)},j=function(){y||f.remove()},S=function(){i.prepend($),i.val("?"),$.prop("selected",!0),$.attr("selected",!0)},A=function(){$.remove()};v?(g.$isEmpty=function(e){return!e||0===e.length},h.writeValue=function(e){k.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=k.getOptionFromViewValue(e);t&&!t.disabled&&(t.element.selected=!0)})},h.readValue=function(){var e=i.val()||[],t=[];return a(e,function(e){var i=k.selectValueMap[e];i&&!i.disabled&&t.push(k.getViewValueFromOption(i))}),t},x.trackBy&&t.$watchCollection(function(){return zs(g.$viewValue)?g.$viewValue.map(function(e){return x.getTrackByValue(e)}):void 0},function(){g.$render()})):(h.writeValue=function(e){var t=k.getOptionFromViewValue(e);t&&!t.disabled?i[0].value!==t.selectValue&&(A(),j(),i[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===e||y?(A(),C()):(j(),S())},h.readValue=function(){var e=k.selectValueMap[i.val()];return e&&!e.disabled?(j(),A(),k.getViewValueFromOption(e)):null},x.trackBy&&t.$watch(function(){return x.getTrackByValue(g.$viewValue)},function(){g.$render()})),y?(f.remove(),e(f)(t),f.removeClass("ng-scope")):f=Ts(o.cloneNode(!1)),p(),t.$watchCollection(x.getWatchables,p)}}var o=t.createElement("option"),l=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(e,t,i,n){n[0].registerOption=f},post:r}}}],ho=["$locale","$interpolate","$log",function(e,t,i){var n=/{}/g,s=/^when(Minus)?(.+)$/;return{link:function(r,o,l){function c(e){o.text(e||"")}var d,u=l.count,m=l.$attr.when&&o.attr(l.$attr.when),p=l.offset||0,g=r.$eval(m)||{},h={},v=t.startSymbol(),b=t.endSymbol(),w=v+u+"-"+p+b,y=Ls.noop;a(l,function(e,t){var i=s.exec(t);if(i){var n=(i[1]?"-":"")+ks(i[2]);g[n]=o.attr(l.$attr[t])}}),a(g,function(e,i){h[i]=t(e.replace(n,w))}),r.$watch(u,function(t){var n=parseFloat(t),s=isNaN(n);if(s||n in g||(n=e.pluralCat(n-p)),n!==d&&!(s&&x(d)&&isNaN(d))){y();var a=h[n];_(a)?(null!=t&&i.debug("ngPluralize: no rule defined for '"+n+"' in "+m),y=f,c()):y=r.$watch(a,c),d=n}})}}}],vo=["$parse","$animate",function(e,r){var o="$$NG_REMOVED",l=n("ngRepeat"),c=function(e,t,i,n,s,a,r){e[i]=n,s&&(e[s]=a),e.$index=t,e.$first=0===t,e.$last=t===r-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},d=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(n,m){var p=m.ngRepeat,g=t.createComment(" end ngRepeat: "+p+" "),f=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var h=f[1],v=f[2],b=f[3],_=f[4];if(f=h.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!f)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",h);var w=f[3]||f[1],y=f[2];if(b&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(b)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(b)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",b);var $,k,x,C,j={$id:Qt};return _?$=e(_):(x=function(e,t){return Qt(t)},C=function(e){return e}),function(e,t,n,m,f){$&&(k=function(t,i,n){return y&&(j[y]=t),j[w]=i,j.$index=n,$(e,j)});var h=ht();e.$watchCollection(v,function(n){var m,v,_,$,j,S,A,T,P,F,U,M,E=t[0],R=ht();if(b&&(e[b]=n),s(n))P=n,T=k||x;else{T=k||C,P=[];for(var I in n)xs.call(n,I)&&"$"!==I.charAt(0)&&P.push(I)}for($=P.length,U=new Array($),m=0;$>m;m++)if(j=n===P?m:P[m],S=n[j],A=T(j,S,m),h[A])F=h[A],delete h[A],R[A]=F,U[m]=F;else{if(R[A])throw a(U,function(e){e&&e.scope&&(h[e.id]=e)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,A,S);U[m]={id:A,scope:i,clone:i},R[A]=!0}for(var O in h){if(F=h[O],M=ft(F.clone),r.leave(M),M[0].parentNode)for(m=0,v=M.length;v>m;m++)M[m][o]=!0;F.scope.$destroy()}for(m=0;$>m;m++)if(j=n===P?m:P[m],S=n[j],F=U[m],F.scope){_=E;do _=_.nextSibling;while(_&&_[o]);d(F)!=_&&r.move(ft(F.clone),null,Ts(E)),E=u(F),c(F.scope,m,w,S,y,j,$)}else f(function(e,t){F.scope=t;var i=g.cloneNode(!1);e[e.length++]=i,r.enter(e,null,Ts(E)),E=i,F.clone=e,R[F.id]=F,c(F.scope,m,w,S,y,j,$)});h=R})}}}}],bo="ng-hide",_o="ng-hide-animate",wo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,i,n){t.$watch(n.ngShow,function(t){e[t?"removeClass":"addClass"](i,bo,{tempClasses:_o})})}}}],yo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,i,n){t.$watch(n.ngHide,function(t){e[t?"addClass":"removeClass"](i,bo,{tempClasses:_o})})}}}],$o=ts(function(e,t,i){e.$watch(i.ngStyle,function(e,i){i&&e!==i&&a(i,function(e,i){t.css(i,"")}),e&&t.css(e)},!0)}),ko=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(i,n,s,r){var o=s.ngSwitch||s.on,l=[],c=[],d=[],u=[],m=function(e,t){return function(){e.splice(t,1)}};i.$watch(o,function(i){var n,s;for(n=0,s=d.length;s>n;++n)e.cancel(d[n]);for(d.length=0,n=0,s=u.length;s>n;++n){var o=ft(c[n].clone);u[n].$destroy();var p=d[n]=e.leave(o);p.then(m(d,n))}c.length=0,u.length=0,(l=r.cases["!"+i]||r.cases["?"])&&a(l,function(i){i.transclude(function(n,s){u.push(s);var a=i.element;n[n.length++]=t.createComment(" end ngSwitchWhen: ");var r={clone:n};c.push(r),e.enter(n,a.parent(),a)})})})}}}],xo=ts({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,i,n,s){n.cases["!"+i.ngSwitchWhen]=n.cases["!"+i.ngSwitchWhen]||[],n.cases["!"+i.ngSwitchWhen].push({transclude:s,element:t})}}),Co=ts({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,i,n,s){n.cases["?"]=n.cases["?"]||[],n.cases["?"].push({transclude:s,element:t})}}),jo=ts({restrict:"EAC",link:function(e,t,i,s,a){if(!a)throw n("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",X(t));a(function(e){t.empty(),t.append(e)})}}),So=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,i){if("text/ng-template"==i.type){var n=i.id,s=t[0].text;e.put(n,s)}}}}],Ao={$setViewValue:f,$render:f},To=["$element","$scope","$attrs",function(e,n){var s=this,a=new Kt;s.ngModelCtrl=Ao,s.unknownOption=Ts(t.createElement("option")),s.renderUnknownOption=function(t){var i="? "+Qt(t)+" ?";s.unknownOption.val(i),e.prepend(s.unknownOption),e.val(i)},n.$on("$destroy",function(){s.renderUnknownOption=f}),s.removeUnknownOption=function(){s.unknownOption.parent()&&s.unknownOption.remove()},s.readValue=function(){return s.removeUnknownOption(),e.val()},s.writeValue=function(t){s.hasOption(t)?(s.removeUnknownOption(),e.val(t),""===t&&s.emptyOption.prop("selected",!0)):null==t&&s.emptyOption?(s.removeUnknownOption(),e.val("")):s.renderUnknownOption(t)},s.addOption=function(e,t){pt(e,'"option value"'),""===e&&(s.emptyOption=t);var i=a.get(e)||0;a.put(e,i+1),s.ngModelCtrl.$render(),ws(t)},s.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.remove(e),""===e&&(s.emptyOption=i)):a.put(e,t-1))},s.hasOption=function(e){return!!a.get(e)},s.registerOption=function(e,t,i,n,a){if(n){var r;i.$observe("value",function(e){w(r)&&s.removeOption(r),r=e,s.addOption(e,t)})}else a?e.$watch(a,function(e,n){i.$set("value",e),n!==e&&s.removeOption(n),s.addOption(e,t)}):s.addOption(i.value,t);t.on("$destroy",function(){s.removeOption(i.value),s.ngModelCtrl.$render()})}}],Po=function(){function e(e,t,i,n){var s=n[1];if(s){var r=n[0];if(r.ngModelCtrl=s,s.$render=function(){r.writeValue(s.$viewValue)},t.on("change",function(){e.$apply(function(){s.$setViewValue(r.readValue())})}),i.multiple){r.readValue=function(){var e=[];return a(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},r.writeValue=function(e){var i=new Kt(e);a(t.find("option"),function(e){e.selected=w(i.get(e.value))})};var o,l=0/0;e.$watch(function(){l!==s.$viewValue||N(o,s.$viewValue)||(o=z(s.$viewValue),s.$render()),l=s.$viewValue}),s.$isEmpty=function(e){return!e||0===e.length}}}}return{restrict:"E",require:["select","?ngModel"],controller:To,priority:1,link:{pre:e}}},Fo=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,i){if(w(i.value))var n=e(i.value,!0);else{var s=e(t.text(),!0);s||i.$set("value",t.text())}return function(e,t,i){var a="$selectController",r=t.parent(),o=r.data(a)||r.parent().data(a);o&&o.registerOption(e,t,i,n,s)}}}}],Uo=v({restrict:"E",terminal:!1}),Mo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,n){n&&(i.required=!0,n.$validators.required=function(e,t){return!i.required||!n.$isEmpty(t)},i.$observe("required",function(){n.$validate()}))}}},Eo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,s,a){if(a){var r,o=s.ngPattern||s.pattern;s.$observe("pattern",function(e){if(k(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw n("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,e,X(t));r=e||i,a.$validate()}),a.$validators.pattern=function(e,t){return a.$isEmpty(t)||_(r)||r.test(t)}}}}},Ro=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,n){if(n){var s=-1;i.$observe("maxlength",function(e){var t=p(e);s=isNaN(t)?-1:t,n.$validate()}),n.$validators.maxlength=function(e,t){return 0>s||n.$isEmpty(t)||t.length<=s}}}}},Io=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,n){if(n){var s=0;i.$observe("minlength",function(e){s=p(e)||0,n.$validate()}),n.$validators.minlength=function(e,t){return n.$isEmpty(t)||t.length>=s}}}}};return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(dt(),wt(Ls),Ls.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function n(e,n){var s=n;i===s&&(s=Math.min(t(e),3));var a=Math.pow(10,s),r=(e*a|0)%a;return{v:s,f:r}}var s={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\xa4",negSuf:"",posPre:"\xa4",posSuf:""}]},id:"en-us",pluralCat:function(e,t){var i=0|e,a=n(e,t);return 1==i&&0==a.v?s.ONE:s.OTHER}})}]),void Ts(t).ready(function(){at(t,rt)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(e,t,i){"use strict";function n(e,i,n){function s(e,n,s){var r,o;s=s||{},o=s.expires,r=t.isDefined(s.path)?s.path:a,t.isUndefined(n)&&(o="Thu, 01 Jan 1970 00:00:00 GMT",n=""),t.isString(o)&&(o=new Date(o));var l=encodeURIComponent(e)+"="+encodeURIComponent(n);l+=r?";path="+r:"",l+=s.domain?";domain="+s.domain:"",l+=o?";expires="+o.toUTCString():"",l+=s.secure?";secure":"";var c=l.length+1;return c>4096&&i.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+c+" > 4096 bytes)!"),l}var a=n.baseHref(),r=e[0];return function(e,t,i){r.cookie=s(e,t,i)}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){function e(e){return e?t.extend({},n,e):n}var n=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,s){return{get:function(e){return n()[e]},getObject:function(e){var i=this.get(e);return i?t.fromJson(i):i},getAll:function(){return n()},put:function(t,i,n){s(t,i,e(n))},putObject:function(e,i,n){this.put(e,t.toJson(i),n)},remove:function(t,n){s(t,i,e(n))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,i){e.putObject(t,i)},remove:function(t){e.remove(t)}}}]),n.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular),function(e,t,i){"use strict";function n(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&o.test("."+e)}function s(e,s){if(!n(s))throw r("badmember",'Dotted member path "@{0}" is invalid.',s);for(var a=s.split("."),o=0,l=a.length;l>o&&t.isDefined(e);o++){var c=a[o];e=null!==e?e[c]:i}return e}function a(e,i){i=i||{},t.forEach(i,function(e,t){delete i[t]});for(var n in e)!e.hasOwnProperty(n)||"$"===n.charAt(0)&&"$"===n.charAt(1)||(i[n]=e[n]);return i}var r=t.$$minErr("$resource"),o=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var e=/^https?:\/\/[^\/]*/,n=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(o,l){function c(e){return d(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function d(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function u(e,t){this.template=e,this.defaults=f({},n.defaults,t),this.urlParams={}}function m(e,c,d,b){function _(e,t){var i={};return t=f({},c,t),g(t,function(t,n){v(t)&&(t=t()),i[n]=t&&t.charAt&&"@"==t.charAt(0)?s(e,t.substr(1)):t}),i}function w(e){return e.resource}function y(e){a(e||{},this)}var $=new u(e,b);return d=f({},n.defaults.actions,d),y.prototype.toJSON=function(){var e=f({},this);return delete e.$promise,delete e.$resolved,e},g(d,function(e,n){var s=/^(POST|PUT|PATCH)$/i.test(e.method);y[n]=function(c,d,u,m){var b,k,x,C={};switch(arguments.length){case 4:x=m,k=u;case 3:case 2:if(!v(d)){C=c,b=d,k=u;break}if(v(c)){k=c,x=d;break}k=d,x=u;case 1:v(c)?k=c:s?b=c:C=c;break;case 0:break;default:throw r("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var j=this instanceof y,S=j?b:e.isArray?[]:new y(b),A={},T=e.interceptor&&e.interceptor.response||w,P=e.interceptor&&e.interceptor.responseError||i;g(e,function(e,t){switch(t){default:A[t]=h(e);break;case"params":case"isArray":case"interceptor":break;case"timeout":A[t]=e}}),s&&(A.data=b),$.setUrlParams(A,f({},_(b,e.params||{}),C),e.url);var F=o(A).then(function(i){var s=i.data,o=S.$promise;if(s){if(t.isArray(s)!==!!e.isArray)throw r("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",n,e.isArray?"array":"object",t.isArray(s)?"array":"object",A.method,A.url);e.isArray?(S.length=0,g(s,function(e){S.push("object"==typeof e?new y(e):e)})):(a(s,S),S.$promise=o)}return S.$resolved=!0,i.resource=S,i},function(e){return S.$resolved=!0,(x||p)(e),l.reject(e)});return F=F.then(function(e){var t=T(e);return(k||p)(t,e.headers),t},P),j?F:(S.$promise=F,S.$resolved=!1,S)},y.prototype["$"+n]=function(e,t,i){v(e)&&(i=t,t=e,e={});var s=y[n].call(this,e,this,t,i);return s.$promise||s}}),y.bind=function(t){return m(e,f({},c,t),d)},y}var p=t.noop,g=t.forEach,f=t.extend,h=t.copy,v=t.isFunction;return u.prototype={setUrlParams:function(i,n,s){var a,o,l=this,d=s||l.template,u="",m=l.urlParams={};g(d.split(/\W/),function(e){if("hasOwnProperty"===e)throw r("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(d)&&(m[e]=!0)}),d=d.replace(/\\:/g,":"),d=d.replace(e,function(e){return u=e,""}),n=n||{},g(l.urlParams,function(e,i){a=n.hasOwnProperty(i)?n[i]:l.defaults[i],t.isDefined(a)&&null!==a?(o=c(a),d=d.replace(new RegExp(":"+i+"(\\W|$)","g"),function(e,t){return o+t})):d=d.replace(new RegExp("(/?):"+i+"(\\W|$)","g"),function(e,t,i){return"/"==i.charAt(0)?i:t+i})}),l.defaults.stripTrailingSlashes&&(d=d.replace(/\/+$/,"")||"/"),d=d.replace(/\/\.(?=\w+($|\?))/,"."),i.url=u+d.replace(/\/\\\./,"/."),g(n,function(e,t){l.urlParams[t]||(i.params=i.params||{},i.params[t]=e)})}},m}]})}(window,window.angular),function(e,t){"use strict";function i(){function e(e,i){return t.extend(Object.create(e),i)}function i(e,t){var i=t.caseInsensitiveMatch,n={originalPath:e,regexp:e},s=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,i,n){var a="?"===n?n:null,r="*"===n?n:null;return s.push({name:i,optional:!!a}),t=t||"",""+(a?"":t)+"(?:"+(a?t:"")+(r&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1"),n.regexp=new RegExp("^"+e+"$",i?"i":""),n}var n={};this.when=function(e,s){var a=t.copy(s);if(t.isUndefined(a.reloadOnSearch)&&(a.reloadOnSearch=!0),t.isUndefined(a.caseInsensitiveMatch)&&(a.caseInsensitiveMatch=this.caseInsensitiveMatch),n[e]=t.extend(a,e&&i(e,a)),e){var r="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";n[r]=t.extend({redirectTo:e},i(r,a))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this
},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(i,s,a,r,l,c,d){function u(e,t){var i=t.keys,n={};if(!t.regexp)return null;var s=t.regexp.exec(e);if(!s)return null;for(var a=1,r=s.length;r>a;++a){var o=i[a-1],l=s[a];o&&l&&(n[o.name]=l)}return n}function m(e){var n=_.current;h=g(),v=h&&n&&h.$$route===n.$$route&&t.equals(h.pathParams,n.pathParams)&&!h.reloadOnSearch&&!b,v||!n&&!h||i.$broadcast("$routeChangeStart",h,n).defaultPrevented&&e&&e.preventDefault()}function p(){var e=_.current,n=h;v?(e.params=n.params,t.copy(e.params,a),i.$broadcast("$routeUpdate",e)):(n||e)&&(b=!1,_.current=n,n&&n.redirectTo&&(t.isString(n.redirectTo)?s.path(f(n.redirectTo,n.params)).search(n.params).replace():s.url(n.redirectTo(n.pathParams,s.path(),s.search())).replace()),r.when(n).then(function(){if(n){var e,i,s=t.extend({},n.resolve);return t.forEach(s,function(e,i){s[i]=t.isString(e)?l.get(e):l.invoke(e,null,null,i)}),t.isDefined(e=n.template)?t.isFunction(e)&&(e=e(n.params)):t.isDefined(i=n.templateUrl)&&(t.isFunction(i)&&(i=i(n.params)),t.isDefined(i)&&(n.loadedTemplateUrl=d.valueOf(i),e=c(i))),t.isDefined(e)&&(s.$template=e),r.all(s)}}).then(function(s){n==_.current&&(n&&(n.locals=s,t.copy(n.params,a)),i.$broadcast("$routeChangeSuccess",n,e))},function(t){n==_.current&&i.$broadcast("$routeChangeError",n,e,t)}))}function g(){var i,a;return t.forEach(n,function(n){!a&&(i=u(s.path(),n))&&(a=e(n,{params:t.extend({},s.search(),i),pathParams:i}),a.$$route=n)}),a||n[null]&&e(n[null],{params:{},pathParams:{}})}function f(e,i){var n=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)n.push(e);else{var s=e.match(/(\w+)(?:[?*])?(.*)/),a=s[1];n.push(i[a]),n.push(s[2]||""),delete i[a]}}),n.join("")}var h,v,b=!1,_={routes:n,reload:function(){b=!0,i.$evalAsync(function(){m(),p()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw o("norout","Tried updating route when with no current route");e=t.extend({},this.current.params,e),s.path(f(this.current.$$route.originalPath,e)),s.search(e)}};return i.$on("$locationChangeStart",m),i.$on("$locationChangeSuccess",p),_}]}function n(){this.$get=function(){return{}}}function s(e,i,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(s,a,r,o,l){function c(){p&&(n.cancel(p),p=null),u&&(u.$destroy(),u=null),m&&(p=n.leave(m),p.then(function(){p=null}),m=null)}function d(){var r=e.current&&e.current.locals,o=r&&r.$template;if(t.isDefined(o)){var d=s.$new(),p=e.current,h=l(d,function(e){n.enter(e,null,m||a).then(function(){!t.isDefined(g)||g&&!s.$eval(g)||i()}),c()});m=h,u=p.scope=d,u.$emit("$viewContentLoaded"),u.$eval(f)}else c()}var u,m,p,g=r.autoscroll,f=r.onload||"";s.$on("$routeChangeSuccess",d),d()}}}function a(e,t,i){return{restrict:"ECA",priority:-400,link:function(n,s){var a=i.current,r=a.locals;s.html(r.$template);var o=e(s.contents());if(a.controller){r.$scope=n;var l=t(a.controller,r);a.controllerAs&&(n[a.controllerAs]=l),s.data("$ngControllerController",l),s.children().data("$ngControllerController",l)}o(n)}}}var r=t.module("ngRoute",["ng"]).provider("$route",i),o=t.$$minErr("ngRoute");r.provider("$routeParams",n),r.directive("ngView",s),r.directive("ngView",a),s.$inject=["$route","$anchorScroll","$animate"],a.$inject=["$compile","$controller","$route"]}(window,window.angular),function(e,t){"use strict";function i(){function e(e,t){return e?n(e)?e.indexOf(t)>=0:e.hasOwnProperty(t):void 0}return["$animate",function(t){return{restrict:"AE",transclude:"element",terminal:!0,require:"^^ngMessages",link:function(i,s,a,r,o){var l,c=s[0],d=a.ngMessage||a.when,u=a.ngMessageExp||a.whenExp,m=function(e){l=e?n(e)?e:e.split(/[\s,]+/):null,r.reRender()};u?(m(i.$eval(u)),i.$watchCollection(u,m)):m(d);var p,g;r.register(c,g={test:function(t){return e(l,t)},attach:function(){p||o(i,function(e){t.enter(e,null,s),p=e;var i=p.$$attachId=r.getAttachId();p.on("$destroy",function(){p&&p.$$attachId===i&&(r.deregister(c),g.detach())})})},detach:function(){if(p){var e=p;p=null,t.leave(e)}}})}}}]}var n=t.isArray,s=t.forEach,a=t.isString,r=t.element;t.module("ngMessages",[]).directive("ngMessages",["$animate",function(e){function t(e,t){return a(t)&&0===t.length||i(e.$eval(t))}function i(e){return a(e)?e.length:!!e}var n="ng-active",r="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(a,o,l){function c(e,t){for(var i=t,n=[];i&&i!==e;){var s=i.$$ngMessageNode;if(s&&s.length)return v[s];i.childNodes.length&&-1==n.indexOf(i)?(n.push(i),i=i.childNodes[i.childNodes.length-1]):i=i.previousSibling||i.parentNode}}function d(e,t,i){var n=v[i];if(m.head){var s=c(e,t);s?(n.next=s.next,s.next=n):(n.next=m.head,m.head=n)}else m.head=n}function u(e,t,i){var n=v[i],s=c(e,t);s?s.next=n.next:m.head=n.next}var m=this,p=0,g=0;this.getAttachId=function(){return g++};var f,h,v=this.messages={};this.render=function(c){c=c||{},f=!1,h=c;for(var d=t(o,l.ngMessagesMultiple)||t(o,l.multiple),u=[],p={},g=m.head,v=!1,b=0;null!=g;){b++;var _=g.message,w=!1;v||s(c,function(e,t){if(!w&&i(e)&&_.test(t)){if(p[t])return;p[t]=!0,w=!0,_.attach()}}),w?v=!d:u.push(_),g=g.next}s(u,function(e){e.detach()}),u.length!==b?e.setClass(a,n,r):e.setClass(a,r,n)},o.$watchCollection(l.ngMessages||l["for"],m.render),this.reRender=function(){f||(f=!0,o.$evalAsync(function(){f&&h&&m.render(h)}))},this.register=function(e,t){var i=p.toString();v[i]={message:t},d(a[0],e,i),e.$$ngMessageNode=i,p++,m.reRender()},this.deregister=function(e){var t=e.$$ngMessageNode;delete e.$$ngMessageNode,u(a[0],e,t),delete v[t],m.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(e,t,i){return{restrict:"AE",require:"^^ngMessages",link:function(n,s,a){var o=a.ngMessagesInclude||a.src;e(o).then(function(e){i(e)(n,function(e){s.after(e);var i=r(t[0].createComment(" ngMessagesInclude: "+o+" "));s.after(i),s.remove()})})}}}]).directive("ngMessage",i("AE")).directive("ngMessageExp",i("A"))}(window,window.angular),function(e,t){"use strict";function i(){this.$get=["$$sanitizeUri",function(e){return function(t){var i=[];return a(t,l(i,function(t,i){return!/^unsafe/.test(e(t,i))})),i.join("")}}]}function n(e){var i=[],n=l(i,t.noop);return n.chars(e),i.join("")}function s(e,i){var n,s={},a=e.split(",");for(n=0;n<a.length;n++)s[i?t.lowercase(a[n]):a[n]]=!0;return s}function a(e,i){function n(e,n,a,o){if(n=t.lowercase(n),x[n])for(;_.last()&&C[_.last()];)s("",_.last());k[n]&&_.last()==n&&s("",n),o=w[n]||!!o,o||_.push(n);var l={};a.replace(m,function(e,t,i,n,s){var a=i||n||s||"";l[t]=r(a)}),i.start&&i.start(n,l,o)}function s(e,n){var s,a=0;if(n=t.lowercase(n))for(a=_.length-1;a>=0&&_[a]!=n;a--);if(a>=0){for(s=_.length-1;s>=a;s--)i.end&&i.end(_[s]);_.length=a}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var a,o,l,b,_=[],y=e;for(_.last=function(){return _[_.length-1]};e;){if(b="",o=!0,_.last()&&S[_.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+_.last()+"[^>]*>","i"),function(e,t){return t=t.replace(f,"$1").replace(v,"$1"),i.chars&&i.chars(r(t)),""}),s("",_.last())):(0===e.indexOf("<!--")?(a=e.indexOf("--",4),a>=0&&e.lastIndexOf("-->",a)===a&&(i.comment&&i.comment(e.substring(4,a)),e=e.substring(a+3),o=!1)):h.test(e)?(l=e.match(h),l&&(e=e.replace(l[0],""),o=!1)):g.test(e)?(l=e.match(u),l&&(e=e.substring(l[0].length),l[0].replace(u,s),o=!1)):p.test(e)&&(l=e.match(d),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(d,n)),o=!1):(b+="<",e=e.substring(1))),o&&(a=e.indexOf("<"),b+=0>a?e:e.substring(0,a),e=0>a?"":e.substring(a),i.chars&&i.chars(r(b)))),e==y)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",e);y=e}s()}function r(e){return e?(M.innerHTML=e.replace(/</g,"&lt;"),M.textContent):""}function o(e){return e.replace(/&/g,"&amp;").replace(b,function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(i-56320)+65536)+";"}).replace(_,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,i){var n=!1,s=t.bind(e,e.push);return{start:function(e,a,r){e=t.lowercase(e),!n&&S[e]&&(n=e),n||A[e]!==!0||(s("<"),s(e),t.forEach(a,function(n,a){var r=t.lowercase(a),l="img"===e&&"src"===r||"background"===r;U[r]!==!0||T[r]===!0&&!i(n,l)||(s(" "),s(a),s('="'),s(o(n)),s('"'))}),s(r?"/>":">"))},end:function(e){e=t.lowercase(e),n||A[e]!==!0||(s("</"),s(e),s(">")),e==n&&(n=!1)},chars:function(e){n||s(o(e))}}}var c=t.$$minErr("$sanitize"),d=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,u=/^<\/\s*([\w:-]+)[^>]*>/,m=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,g=/^<\//,f=/<!--(.*?)-->/g,h=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]>/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_=/([^\#-~| |!])/g,w=s("area,br,col,hr,img,wbr"),y=s("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$=s("rp,rt"),k=t.extend({},$,y),x=t.extend({},y,s("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),C=t.extend({},$,s("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),j=s("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),S=s("script,style"),A=t.extend({},w,x,C,k,j),T=s("background,cite,href,longdesc,src,usemap,xlink:href"),P=s("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),F=s("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),U=t.extend({},T,F,P),M=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",i),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,s=/^mailto:/i;return function(a,r){function o(e){e&&p.push(n(e))}function l(e,i){p.push("<a "),t.isDefined(r)&&p.push('target="',r,'" '),p.push('href="',e.replace(/"/g,"&quot;"),'">'),o(i),p.push("</a>")}if(!a)return a;for(var c,d,u,m=a,p=[];c=m.match(i);)d=c[0],c[2]||c[4]||(d=(c[3]?"http://":"mailto:")+d),u=c.index,o(m.substr(0,u)),l(d,c[0].replace(s,"")),m=m.substring(u+c[0].length);return o(m),e(p.join(""))}}])}(window,window.angular),angular.module("templates",[]),angular.module("ui.alias",[]).config(["$compileProvider","uiAliasConfig",function(e,t){"use strict";t=t||{},angular.forEach(t,function(t,i){angular.isString(t)&&(t={replace:!0,template:t}),e.directive(i,function(){return t})})}]),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(e){"use strict";return function(t,i,n){var s=t.$eval(n.uiEvent);angular.forEach(s,function(n,s){var a=e(n);i.bind(s,function(e){var i=Array.prototype.slice.call(arguments);i=i.splice(1),a(t,{$event:e,$params:i}),t.$$phase||t.$apply()})})}}]),angular.module("ui.format",[]).filter("format",function(){"use strict";return function(e,t){var i=e;if(angular.isString(i)&&void 0!==t)if(angular.isArray(t)||angular.isObject(t)||(t=[t]),angular.isArray(t)){var n=t.length,s=function(e,i){return i=parseInt(i,10),i>=0&&n>i?t[i]:e};i=i.replace(/\$([0-9]+)/g,s)}else angular.forEach(t,function(e,t){i=i.split(":"+t).join(e)});return i}}),angular.module("ui.highlight",[]).filter("highlight",function(){"use strict";return function(e,t,i){return e&&(t||angular.isNumber(t))?(e=e.toString(),t=t.toString(),i?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.include",[]).directive("uiInclude",["$http","$templateCache","$anchorScroll","$compile",function(e,t,i,n){"use strict";return{restrict:"ECA",terminal:!0,compile:function(s,a){var r=a.uiInclude||a.src,o=a.fragment||"",l=a.onload||"",c=a.autoscroll;return function(s,a){function d(){var d=++m,g=s.$eval(r),f=s.$eval(o);g?e.get(g,{cache:t}).success(function(e){if(d===m){u&&u.$destroy(),u=s.$new();var t;t=f?angular.element("<div/>").html(e).find(f):angular.element("<div/>").html(e).contents(),a.html(t),n(t)(u),!angular.isDefined(c)||c&&!s.$eval(c)||i(),u.$emit("$includeContentLoaded"),s.$eval(l)}}).error(function(){d===m&&p()}):p()}var u,m=0,p=function(){u&&(u.$destroy(),u=null),a.html("")};s.$watch(o,d),s.$watch(r,d)}}}}]),angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){"use strict";return{compile:function(e,t){return t.type&&"checkbox"===t.type.toLowerCase()?function(e,t,i){e.$watch(i.uiIndeterminate,function(e){t[0].indeterminate=!!e})}:angular.noop}}}]),angular.module("ui.inflector",[]).filter("inflector",function(){"use strict";function e(e){return e=e.replace(/([A-Z])|([\-|\_])/g,function(e,t){return" "+(t||"")}),e.replace(/\s\s+/g," ").trim().toLowerCase().split(" ")}function t(e){var t=[];return angular.forEach(e,function(e){t.push(e.charAt(0).toUpperCase()+e.substr(1))}),t}var i={humanize:function(i){return t(e(i)).join(" ")},underscore:function(t){return e(t).join("_")},variable:function(i){return i=e(i),i=i[0]+t(i.slice(1)).join("")}};return function(e,t){return t!==!1&&angular.isString(e)?(t=t||"humanize",i[t](e)):e}}),angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(e,t){"use strict";return{restrict:"A",compile:function(i,n){if(!angular.isFunction(i[n.uiJq]))throw new Error('ui-jq: The "'+n.uiJq+'" function does not exist');var s=e&&e[n.uiJq];return function(e,i,n){function a(){t(function(){i[n.uiJq].apply(i,r)},0,!1)}var r=[];n.uiOptions?(r=e.$eval("["+n.uiOptions+"]"),angular.isObject(s)&&angular.isObject(r[0])&&(r[0]=angular.extend({},s,r[0]))):s&&(r=[s]),n.ngModel&&i.is("select,input,textarea")&&i.bind("change",function(){i.trigger("input")}),n.uiRefresh&&e.$watch(n.uiRefresh,function(){a()}),a()}}}}]),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(e){"use strict";var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},i=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(n,s,a,r){var o,l=[];o=s.$eval(r["ui"+i(n)]),angular.forEach(o,function(t,i){var n,s;s=e(t),angular.forEach(i.split(" "),function(e){n={expression:s,keys:{}},angular.forEach(e.split("-"),function(e){n.keys[e]=!0}),l.push(n)})}),a.bind(n,function(e){var i=!(!e.metaKey||e.ctrlKey),a=!!e.altKey,r=!!e.ctrlKey,o=!!e.shiftKey,c=e.keyCode;"keypress"===n&&!o&&c>=97&&122>=c&&(c-=32),angular.forEach(l,function(n){var l=n.keys[t[c]]||n.keys[c.toString()],d=!!n.keys.meta,u=!!n.keys.alt,m=!!n.keys.ctrl,p=!!n.keys.shift;l&&d===i&&u===a&&m===r&&p===o&&s.$apply(function(){n.expression(s,{$event:e})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(e){"use strict";return{link:function(t,i,n){e("keydown",t,i,n)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(e){"use strict";return{link:function(t,i,n){e("keypress",t,i,n)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(e){"use strict";return{link:function(t,i,n){e("keyup",t,i,n)}}}]),angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!0}).directive("uiMask",["uiMaskConfig","$parse",function(e,t){"use strict";return{priority:100,require:"ngModel",restrict:"A",compile:function(){var i=e;return function(e,n,s,a){function r(e){return angular.isDefined(e)?(_(e),H?(u(),m(),!0):d()):d()}function o(e){angular.isDefined(e)&&(P=e,H&&k())}function l(e){return H?(M=f(e||""),R=g(M),a.$setValidity("mask",R),R&&M.length?h(M):void 0):e}function c(e){return H?(M=f(e||""),R=g(M),a.$viewValue=M.length?h(M):"",a.$setValidity("mask",R),""===M&&s.required&&a.$setValidity("required",!a.$error.required),R?M:void 0):e}function d(){return H=!1,p(),angular.isDefined(N)?n.attr("placeholder",N):n.removeAttr("placeholder"),angular.isDefined(q)?n.attr("maxlength",q):n.removeAttr("maxlength"),n.val(a.$modelValue),a.$viewValue=a.$modelValue,!1}function u(){M=O=f(a.$modelValue||""),E=I=h(M),R=g(M);var e=R&&M.length?E:"";s.maxlength&&n.attr("maxlength",2*A[A.length-1]),n.attr("placeholder",P),n.val(e),a.$viewValue=e}function m(){z||(n.bind("blur",w),n.bind("mousedown mouseup",y),n.bind("input keyup click focus",k),z=!0)}function p(){z&&(n.unbind("blur",w),n.unbind("mousedown",y),n.unbind("mouseup",y),n.unbind("input",k),n.unbind("keyup",k),n.unbind("click",k),n.unbind("focus",k),z=!1)}function g(e){return e.length?e.length>=U:!0}function f(e){var t="",i=T.slice();return e=e.toString(),angular.forEach(F,function(t){e=e.replace(t,"")}),angular.forEach(e.split(""),function(e){i.length&&i[0].test(e)&&(t+=e,i.shift())}),t}function h(e){var t="",i=A.slice();return angular.forEach(P.split(""),function(n,s){e.length&&s===i[0]?(t+=e.charAt(0)||"_",e=e.substr(1),i.shift()):t+=n}),t}function v(e){var t=s.placeholder;return"undefined"!=typeof t&&t[e]?t[e]:"_"}function b(){return P.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_")}function _(e){var t=0;if(A=[],T=[],P="","string"==typeof e){U=0;var i=!1,n=e.split("");angular.forEach(n,function(e,n){V.maskDefinitions[e]?(A.push(t),P+=v(n),T.push(V.maskDefinitions[e]),t++,i||U++):"?"===e?i=!0:(P+=e,t++)})}A.push(A.slice().pop()+1),F=b(),H=A.length>1?!0:!1}function w(){V.clearOnBlur&&(L=0,D=0),R&&0!==M.length||(V.clearOnBlur&&(E="",n.val("")),e.$apply(function(){a.$setViewValue("")}))}function y(e){"mousedown"===e.type?n.bind("mouseout",$):n.unbind("mouseout",$)}function $(){D=S(this),n.unbind("mouseout",$)}function k(t){t=t||{};var i=t.which,s=t.type;if(16!==i&&91!==i){var r,o=n.val(),l=I,c=f(o),d=O,u=!1,m=C(this)||0,p=L||0,g=m-p,v=A[0],b=A[c.length]||A.slice().shift(),_=D||0,w=S(this)>0,y=_>0,$=o.length>l.length||_&&o.length>l.length-_,k=o.length<l.length||_&&o.length===l.length-_,T=i>=37&&40>=i&&t.shiftKey,P=37===i,F=8===i||"keyup"!==s&&k&&-1===g,U=46===i||"keyup"!==s&&k&&0===g&&!y,M=(P||F||"click"===s)&&m>v;if(D=S(this),!T&&(!w||"click"!==s&&"keyup"!==s)){if("input"===s&&k&&!y&&c===d){for(;F&&m>v&&!x(m);)m--;for(;U&&b>m&&-1===A.indexOf(m);)m++;var E=A.indexOf(m);c=c.substring(0,E)+c.substring(E+1),u=!0}for(r=h(c),I=r,O=c,n.val(r),u&&e.$apply(function(){a.$setViewValue(c)}),$&&v>=m&&(m=v+1),M&&m--,m=m>b?b:v>m?v:m;!x(m)&&m>v&&b>m;)m+=M?-1:1;(M&&b>m||$&&!x(p))&&m++,L=m,j(this,m)}}}function x(e){return A.indexOf(e)>-1}function C(e){if(!e)return 0;if(void 0!==e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();return t.moveStart("character",e.value?-e.value.length:0),t.text.length}return 0}function j(e,t){if(!e)return 0;if(0!==e.offsetWidth&&0!==e.offsetHeight)if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}}function S(e){return e?void 0!==e.selectionStart?e.selectionEnd-e.selectionStart:document.selection?document.selection.createRange().text.length:0:0}var A,T,P,F,U,M,E,R,I,O,L,D,H=!1,z=!1,N=s.placeholder,q=s.maxlength,V={};s.uiOptions?(V=e.$eval("["+s.uiOptions+"]"),angular.isObject(V[0])&&(V=function(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(void 0===t[i]?t[i]=angular.copy(e[i]):angular.extend(t[i],e[i]));return t}(i,V[0]))):V=i,s.$observe("uiMask",r),s.$observe("placeholder",o);var B=!1;s.$observe("modelViewValue",function(e){"true"===e&&(B=!0)}),e.$watch(s.ngModel,function(i){if(B&&i){var n=t(s.ngModel);n.assign(e,a.$viewValue)}}),a.$formatters.push(l),a.$parsers.push(c),n.bind("mousedown mouseup",y),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>1&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&1/0!==n&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var s=n>=0?n:Math.max(i-Math.abs(n),0);i>s;s++)if(s in t&&t[s]===e)return s;return-1})}}}}]),angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(e){"use strict";var t=null;return void 0!==e&&(t=e),{require:"ngModel",link:function(e,i,n,s){var a;a=angular.element('<a class="ui-reset" />'),i.wrap('<span class="ui-resetwrap" />').after(a),a.bind("click",function(i){i.preventDefault(),e.$apply(function(){s.$setViewValue(n.uiReset?e.$eval(n.uiReset):t),s.$render()})})}}}]),angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function(e,t){"use strict";return{restrict:"AC",scope:!0,compile:function(i,n){var s;if(n.uiRoute)s="uiRoute";else if(n.ngHref)s="ngHref";else{if(!n.href)throw new Error("uiRoute missing a route or href property on "+i[0]);s="href"}return function(i,n,a){function r(t){var n=t.indexOf("#");n>-1&&(t=t.substr(n+1)),(c=function(){l(i,e.path().indexOf(t)>-1)})()}function o(t){var n=t.indexOf("#");n>-1&&(t=t.substr(n+1)),(c=function(){var n=new RegExp("^"+t+"$",["i"]);l(i,n.test(e.path()))})()}var l=t(a.ngModel||a.routeModel||"$uiRoute").assign,c=angular.noop;switch(s){case"uiRoute":a.uiRoute?o(a.uiRoute):a.$observe("uiRoute",o);break;case"ngHref":a.ngHref?r(a.ngHref):a.$observe("ngHref",r);break;case"href":r(a.href)}i.$on("$routeChangeSuccess",function(){c()}),i.$on("$stateChangeSuccess",function(){c()})}}}}]),angular.module("ui.scroll.jqlite",["ui.scroll"]).service("jqLiteExtras",["$log","$window",function(e,t){"use strict";return{registerFor:function(e){var i,n,s,a,r,o,l;return n=angular.element.prototype.css,e.prototype.css=function(e,t){var i,s;return s=this,i=s[0],i&&3!==i.nodeType&&8!==i.nodeType&&i.style?n.call(s,e,t):void 0},o=function(e){return e&&e.document&&e.location&&e.alert&&e.setInterval},l=function(e,t,i){var n,s,a,r,l;return n=e[0],l={top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[t],s=l[0],r=l[1],a=l[2],o(n)?angular.isDefined(i)?n.scrollTo(e[a].call(e),i):r in n?n[r]:n.document.documentElement[s]:angular.isDefined(i)?n[s]=i:n[s]},t.getComputedStyle?(a=function(e){return t.getComputedStyle(e,null)},i=function(e,t){return parseFloat(t)}):(a=function(e){return e.currentStyle},i=function(e,t){var i,n,s,a,r,o,l;return i=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,a=new RegExp("^("+i+")(?!px)[a-z%]+$","i"),a.test(t)?(l=e.style,n=l.left,r=e.runtimeStyle,o=r&&r.left,r&&(r.left=l.left),l.left=t,s=l.pixelLeft,l.left=n,o&&(r.left=o),s):parseFloat(t)}),s=function(e,t){var n,s,r,l,c,d,u,m,p,g,f,h,v;return o(e)?(n=document.documentElement[{height:"clientHeight",width:"clientWidth"}[t]],{base:n,padding:0,border:0,margin:0}):(v={width:[e.offsetWidth,"Left","Right"],height:[e.offsetHeight,"Top","Bottom"]}[t],n=v[0],u=v[1],m=v[2],d=a(e),f=i(e,d["padding"+u])||0,h=i(e,d["padding"+m])||0,s=i(e,d["border"+u+"Width"])||0,r=i(e,d["border"+m+"Width"])||0,l=d["margin"+u],c=d["margin"+m],p=i(e,l)||0,g=i(e,c)||0,{base:n,padding:f+h,border:s+r,margin:p+g})},r=function(e,t,i){var n,r,o;return r=s(e,t),r.base>0?{base:r.base-r.padding-r.border,outer:r.base,outerfull:r.base+r.margin}[i]:(n=a(e),o=n[t],(0>o||null===o)&&(o=e.style[t]||0),o=parseFloat(o)||0,{base:o-r.padding-r.border,outer:o,outerfull:o+r.padding+r.border+r.margin}[i])},angular.forEach({before:function(e){var t,i,n,s,a,r,o;if(a=this,i=a[0],s=a.parent(),t=s.contents(),t[0]===i)return s.prepend(e);for(n=r=1,o=t.length-1;o>=1?o>=r:r>=o;n=o>=1?++r:--r)if(t[n]===i)return void angular.element(t[n-1]).after(e);throw new Error("invalid DOM structure "+i.outerHTML)},height:function(e){var t;return t=this,angular.isDefined(e)?(angular.isNumber(e)&&(e+="px"),n.call(t,"height",e)):r(this[0],"height","base")},outerHeight:function(e){return r(this[0],"height",e?"outerfull":"outer")},offset:function(e){var t,i,n,s,a,r;if(a=this,arguments.length){if(void 0===e)return a;throw new Error("offset setter method is not implemented")}return t={top:0,left:0},s=a[0],(i=s&&s.ownerDocument)?(n=i.documentElement,null!=s.getBoundingClientRect&&(t=s.getBoundingClientRect()),r=i.defaultView||i.parentWindow,{top:t.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:t.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):void 0},scrollTop:function(e){return l(this,"top",e)},scrollLeft:function(e){return l(this,"left",e)}},function(t,i){return e.prototype[i]?void 0:e.prototype[i]=t})}}}]).run(["$log","$window","jqLiteExtras",function(e,t,i){"use strict";return t.jQuery?void 0:i.registerFor(angular.element)}]),angular.module("ui.scroll",[]).directive("uiScrollViewport",["$log",function(){"use strict";return{controller:["$scope","$element",function(e,t){return this.viewport=t,this}]}}]).directive("uiScroll",["$log","$injector","$rootScope","$timeout",function(e,t,i,n){"use strict";return{require:["?^uiScrollViewport"],transclude:"element",priority:1e3,terminal:!0,compile:function(s,a,r){return function(s,a,o,l){var c,d,u,m,p,g,f,h,v,b,_,w,y,$,k,x,C,j,S,A,T,P,F,U,M,E,R,I,O,L,D,H,z,N,q,V,B,W,Y,J,G,Q,K,X,Z,et,tt,it;if(R=e.debug||e.log,I=o.uiScroll.match(/^\s*(\w+)\s+in\s+([\w\.]+)\s*$/),!I)throw new Error("Expected uiScroll in form of '_item_ in _datasource_' but got '"+o.uiScroll+"'");if(M=I[1],w=I[2],F=function(e){return angular.isObject(e)&&e.get&&angular.isFunction(e.get)},A=function(e,t){var i;return e?(i=t.match(/^([\w]+)\.(.+)$/),i&&3===i.length?A(e[i[1]],i[2]):e[t]):null},_=A(s,w),!F(_)&&(_=t.get(w),!F(_)))throw new Error(""+w+" is not a valid datasource");return h=Math.max(3,+o.bufferSize||10),f=function(){return et.outerHeight()*Math.max(.1,+o.padding||.1)},V=function(e){var t;return null!=(t=e[0].scrollHeight)?t:e[0].document.documentElement.scrollHeight},c=null,r(J=s.$new(),function(e){var t,i,n,s,r,o;if(s=e[0].localName,"dl"===s)throw new Error("ui-scroll directive does not support <"+e[0].localName+"> as a repeating tag: "+e[0].outerHTML);return"li"!==s&&"tr"!==s&&(s="div"),o=l[0]&&l[0].viewport?l[0].viewport:angular.element(window),o.css({"overflow-y":"auto",display:"block"}),n=function(e){var t,i,n;switch(e){case"tr":return n=angular.element("<table><tr><td><div></div></td></tr></table>"),t=n.find("div"),i=n.find("tr"),i.paddingHeight=function(){return t.height.apply(t,arguments)},i;default:return i=angular.element("<"+e+"></"+e+">"),i.paddingHeight=i.height,i}},i=function(e,t,i){return t[{top:"before",bottom:"after"}[i]](e),{paddingHeight:function(){return e.paddingHeight.apply(e,arguments)},insert:function(t){return e[{top:"after",bottom:"before"}[i]](t)}}},r=i(n(s),a,"top"),t=i(n(s),a,"bottom"),J.$destroy(),c={viewport:o,topPadding:r.paddingHeight,bottomPadding:t.paddingHeight,append:t.insert,prepend:r.insert,bottomDataPos:function(){return V(o)-t.paddingHeight()},topDataPos:function(){return r.paddingHeight()}}}),et=c.viewport,tt=et.scope()||i,angular.isDefined(o.topVisible)&&(K=function(e){return tt[o.topVisible]=e}),angular.isDefined(o.topVisibleElement)&&(Q=function(e){return tt[o.topVisibleElement]=e}),angular.isDefined(o.topVisibleScope)&&(Z=function(e){return tt[o.topVisibleScope]=e}),G=function(e){return K&&K(e.scope[M]),Q&&Q(e.element),Z&&Z(e.scope),_.topVisible?_.topVisible(e):void 0},E=angular.isDefined(o.isLoading)?function(e){return tt[o.isLoading]=e,_.loading?_.loading(e):void 0}:function(e){return _.loading?_.loading(e):void 0},N=0,S=1,O=1,g=[],L=[],k=!1,m=!1,U=!1,H=function(e,t){var i,n;for(i=n=e;t>=e?t>n:n>t;i=t>=e?++n:--n)g[i].scope.$destroy(),g[i].element.remove();return g.splice(e,t-e)},D=function(){return N++,S=1,O=1,H(0,g.length),c.topPadding(0),c.bottomPadding(0),L=[],k=!1,m=!1,d(N,!1)},p=function(){return et.scrollTop()+et.outerHeight()},X=function(){return et.scrollTop()},B=function(){return!k&&c.bottomDataPos()<p()+f()},v=function(){var e,t,i,n,s,a,r,o,l,d;for(e=0,r=0,t=l=d=g.length-1;0>=d?0>=l:l>=0;t=0>=d?++l:--l)if(i=g[t],s=i.element.offset().top,a=o!==s,o=s,a&&(n=i.element.outerHeight(!0)),c.bottomDataPos()-e-n>p()+f())a&&(e+=n),r++,k=!1;else{if(a)break;r++}return r>0?(c.bottomPadding(c.bottomPadding()+e),H(g.length-r,g.length),O-=r,R("clipped off bottom "+r+" bottom padding "+c.bottomPadding())):void 0},W=function(){return!m&&c.topDataPos()>X()-f()},b=function(){var e,t,i,n,s,a,r,o,l;for(r=0,s=0,o=0,l=g.length;l>o;o++)if(e=g[o],i=e.element.offset().top,n=a!==i,a=i,n&&(t=e.element.outerHeight(!0)),c.topDataPos()+r+t<X()-f())n&&(r+=t),s++,m=!1;else{if(n)break;s++}return s>0?(c.topPadding(c.topPadding()+r),H(0,s),S+=s,R("clipped off top "+s+" top padding "+c.topPadding())):void 0},$=function(e,t,i){return U||(U=!0,E(!0)),1===L.push(t)?C(e,i):void 0},T=function(e){return e.displayTemp=e.css("display"),e.css("display","none")},Y=function(e){return e.hasOwnProperty("displayTemp")?e.css("display",e.displayTemp):void 0},P=function(e,t){var i,n,a;return i=s.$new(),i[M]=t,n=e>S,i.$index=e,n&&i.$index--,a={scope:i},r(i,function(t){return a.element=t,n?e===O?(T(t),c.append(t),g.push(a)):(g[e-S].element.after(t),g.splice(e-S+1,0,a)):(T(t),c.prepend(t),g.unshift(a))}),{appended:n,wrapper:a}},u=function(e,t){var i;return e?c.bottomPadding(Math.max(0,c.bottomPadding()-t.element.outerHeight(!0))):(i=c.topPadding()-t.element.outerHeight(!0),i>=0?c.topPadding(i):et.scrollTop(et.scrollTop()+t.element.outerHeight(!0)))},y=function(e,t,i){var n,s,a,r,o,l,d,u,m;if(R("top {actual="+c.topDataPos()+" visible from="+X()+" bottom {visible through="+p()+" actual="+c.bottomDataPos()+"}"),B()?$(e,!0,t):W()&&$(e,!1,t),i&&i(e),0===L.length){for(l=0,m=[],d=0,u=g.length;u>d;d++){if(n=g[d],a=n.element.offset().top,r=o!==a,o=a,r&&(s=n.element.outerHeight(!0)),!(r&&c.topDataPos()+l+s<X())){r&&G(n);break}m.push(l+=s)}return m}},d=function(e,t,i,s){return i&&i.length?n(function(){var n,r,o,l,c,d,m,p;for(l=[],c=0,m=i.length;m>c;c++)r=i[c],a=r.wrapper.element,Y(a),n=a.offset().top,o!==n&&(l.push(r),o=n);for(d=0,p=l.length;p>d;d++)r=l[d],u(r.appended,r.wrapper);return y(e,t,s)}):y(e,t,s)},j=function(e,t,i){return d(e,t,i,function(){return L.shift(),0===L.length?(U=!1,E(!1)):C(e,t)})},C=function(e,t){var i;return i=L[0],i?g.length&&!B()?j(e,t):_.get(O,h,function(i){var n,s,a,r;if(!e||e===N){if(s=[],i.length<h&&(k=!0,c.bottomPadding(0)),i.length>0)for(b(),a=0,r=i.length;r>a;a++)n=i[a],s.push(P(++O,n));return j(e,t,s)}}):g.length&&!W()?j(e,t):_.get(S-h,h,function(i){var n,s,a,r;if(!e||e===N){if(s=[],i.length<h&&(m=!0,c.topPadding(0)),i.length>0)for(g.length&&v(),n=a=r=i.length-1;0>=r?0>=a:a>=0;n=0>=r?++a:--a)s.unshift(P(--S,i[n]));return j(e,t,s)}})},z=function(){return i.$$phase||U?void 0:(d(null,!1),s.$apply())},et.bind("resize",z),q=function(){return i.$$phase||U?void 0:(d(null,!0),s.$apply())},et.bind("scroll",q),it=function(e){var t,i;return t=et[0].scrollTop,i=et[0].scrollHeight-et[0].clientHeight,0===t&&!m||t===i&&!k?e.preventDefault():void 0},et.bind("mousewheel",it),s.$watch(_.revision,function(){return D()}),x=_.scope?_.scope.$new():s.$new(),s.$on("$destroy",function(){return x.$destroy(),et.unbind("resize",z),et.unbind("scroll",q),et.unbind("mousewheel",it)}),x.$on("update.items",function(e,t,i){var n,s,a,r,o;if(angular.isFunction(t))for(s=function(e){return t(e.scope)
},a=0,r=g.length;r>a;a++)n=g[a],s(n);else 0<=(o=t-S-1)&&o<g.length&&(g[t-S-1].scope[M]=i);return null}),x.$on("delete.items",function(e,t){var i,n,s,a,r,o,l,c,u,m,p,f;if(angular.isFunction(t)){for(s=[],o=0,u=g.length;u>o;o++)n=g[o],s.unshift(n);for(r=function(e){return t(e.scope)?(H(s.length-1-i,s.length-i),O--):void 0},i=l=0,m=s.length;m>l;i=++l)a=s[i],r(a)}else 0<=(f=t-S-1)&&f<g.length&&(H(t-S-1,t-S),O--);for(i=c=0,p=g.length;p>c;i=++c)n=g[i],n.scope.$index=S+i;return d(null,!1)}),x.$on("insert.item",function(e,t,i){var n,s,a,r,o;if(s=[],angular.isFunction(t))throw new Error("not implemented - Insert with locator function");for(0<=(o=t-S-1)&&o<g.length&&(s.push(P(t,i)),O++),n=a=0,r=g.length;r>a;n=++a)i=g[n],i.scope.$index=S+n;return d(null,!1,s)})}}}}]),angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function(e){"use strict";function t(){if(angular.isDefined(e.pageYOffset))return e.pageYOffset;var t=document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body;return t.scrollTop}return{require:"^?uiScrollfixTarget",link:function(i,n,s,a){function r(){var e=a?l[0].scrollTop:t();!n.hasClass("ui-scrollfix")&&e>s.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass("ui-scrollfix")&&e<s.uiScrollfix&&n.removeClass("ui-scrollfix")}var o=n[0].offsetTop,l=a&&a.$element||angular.element(e);s.uiScrollfix?"string"==typeof s.uiScrollfix&&("-"===s.uiScrollfix.charAt(0)?s.uiScrollfix=o-parseFloat(s.uiScrollfix.substr(1)):"+"===s.uiScrollfix.charAt(0)&&(s.uiScrollfix=o+parseFloat(s.uiScrollfix.substr(1)))):s.uiScrollfix=o,l.on("scroll",r),i.$on("$destroy",function(){l.off("scroll",r)})}}}]).directive("uiScrollfixTarget",[function(){"use strict";return{controller:["$element",function(e){this.$element=e}]}}]),angular.module("ui.showhide",[]).directive("uiShow",[function(){"use strict";return function(e,t,i){e.$watch(i.uiShow,function(e){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){"use strict";return function(e,t,i){e.$watch(i.uiHide,function(e){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){"use strict";return function(e,t,i){e.$watch(i.uiToggle,function(e){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.unique",[]).filter("unique",["$parse",function(e){"use strict";return function(t,i){if(i===!1)return t;if((i||angular.isUndefined(i))&&angular.isArray(t)){var n=[],s=angular.isString(i)?e(i):function(e){return e},a=function(e){return angular.isObject(e)?s(e):e};angular.forEach(t,function(e){for(var t=!1,i=0;i<n.length;i++)if(angular.equals(a(n[i]),a(e))){t=!0;break}t||n.push(e)}),t=n}return t}}]),angular.module("ui.uploader",[]).service("uiUploader",uiUploader),uiUploader.$inject=["$log"],angular.module("ui.validate",[]).directive("uiValidate",function(){"use strict";return{restrict:"A",require:"ngModel",link:function(e,t,i,n){function s(t){return angular.isString(t)?void e.$watch(t,function(){angular.forEach(r,function(e){e(n.$modelValue)})}):angular.isArray(t)?void angular.forEach(t,function(t){e.$watch(t,function(){angular.forEach(r,function(e){e(n.$modelValue)})})}):void(angular.isObject(t)&&angular.forEach(t,function(t,i){angular.isString(t)&&e.$watch(t,function(){r[i](n.$modelValue)}),angular.isArray(t)&&angular.forEach(t,function(t){e.$watch(t,function(){r[i](n.$modelValue)})})}))}var a,r={},o=e.$eval(i.uiValidate);o&&(angular.isString(o)&&(o={validator:o}),angular.forEach(o,function(t,i){a=function(s){var a=e.$eval(t,{$value:s});return angular.isObject(a)&&angular.isFunction(a.then)?(a.then(function(){n.$setValidity(i,!0)},function(){n.$setValidity(i,!1)}),s):a?(n.$setValidity(i,!0),s):(n.$setValidity(i,!1),s)},r[i]=a,n.$formatters.push(a),n.$parsers.push(a)}),i.uiValidateWatch&&s(e.$eval(i.uiValidateWatch)))}}}),angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.include","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.scroll","ui.scroll.jqlite","ui.showhide","ui.unique","ui.validate"]),angular.module("ui.sortable.rails",[]).value("uiSortableConfig",{}).directive("uiSortable",["uiSortableConfig","$timeout",function(e,t){return{require:"?ngModel",link:function(i,n,s,a){function r(e,t){return t&&"function"==typeof t?function(i,n){e(i,n),t(i,n)}:e}var o={},l={receive:null,remove:null,start:null,stop:null,update:null};angular.extend(o,e),a&&(a.$render=function(){t(function(){n.sortable("refresh")})},l.start=function(e,t){t.item.sortable={index:t.item.index()}},l.update=function(e,t){t.item.sortable.resort=a},l.receive=function(e,t){t.item.sortable.relocate=!0,a.$modelValue.splice(t.item.index(),0,t.item.sortable.moved)},l.remove=function(e,t){t.item.sortable.moved=1===a.$modelValue.length?a.$modelValue.splice(0,1)[0]:a.$modelValue.splice(t.item.sortable.index,1)[0]},l.stop=function(e,t){if(t.item.sortable.resort&&!t.item.sortable.relocate){var n,s;s=t.item.sortable.index,n=t.item.index(),t.item.sortable.resort.$modelValue.splice(n,0,t.item.sortable.resort.$modelValue.splice(s,1)[0])}(t.item.sortable.resort||t.item.sortable.relocate)&&i.$apply()}),i.$watch(s.uiSortable,function(e){angular.forEach(e,function(e,t){l[t]&&(e=r(l[t],e)),n.sortable("option",t,e)})},!0),angular.forEach(l,function(e,t){o[t]=r(e,o[t])}),n.sortable(o)}}}]),angular.module("truncate",[]).filter("characters",function(){return function(e,t,i){if(isNaN(t))return e;if(0>=t)return"";if(e&&e.length>t){if(e=e.substring(0,t),i)for(;" "===e.charAt(e.length-1);)e=e.substr(0,e.length-1);else{var n=e.lastIndexOf(" ");-1!==n&&(e=e.substr(0,n))}return e+"\u2026"}return e}}).filter("splitcharacters",function(){return function(e,t){if(isNaN(t))return e;if(0>=t)return"";if(e&&e.length>t){var i=e.substring(0,t/2),n=e.substring(e.length-t/2,e.length);return i+"..."+n}return e}}).filter("words",function(){return function(e,t){if(isNaN(t))return e;if(0>=t)return"";if(e){var i=e.split(/\s+/);i.length>t&&(e=i.slice(0,t).join(" ")+"\u2026")}return e}});var mod;mod=angular.module("infinite-scroll",[]),mod.value("THROTTLE_MILLISECONDS",null),mod.directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(e,t,i,n){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(s,a,r){var o,l,c,d,u,m,p,g,f,h,v,b,_,w,y,$,k,x;return x=angular.element(t),_=null,w=null,l=null,c=null,h=!0,k=!1,$=null,f=function(e){return e=e[0]||e,isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight},v=function(e){return e[0].getBoundingClientRect&&!e.css("none")?e[0].getBoundingClientRect().top+b(e):void 0},b=function(e){return e=e[0]||e,isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset},g=function(){var t,i,n,r,o;return c===x?(t=f(c)+b(c[0].document.documentElement),n=v(a)+f(a)):(t=f(c),i=0,void 0!==v(c)&&(i=v(c)),n=v(a)-i+f(a)),k&&(n=f((a[0].ownerDocument||a[0].document).documentElement)),r=n-t,o=r<=f(c)*_+1,o?(l=!0,w?s.$$phase||e.$$phase?s.infiniteScroll():s.$apply(s.infiniteScroll):void 0):l=!1},y=function(e,t){var n,s,a;return a=null,s=0,n=function(){var t;return s=(new Date).getTime(),i.cancel(a),a=null,e.call(),t=null},function(){var r,o;return r=(new Date).getTime(),o=t-(r-s),0>=o?(clearTimeout(a),i.cancel(a),a=null,s=r,e.call()):a?void 0:a=i(n,o,1)}},null!=n&&(g=y(g,n)),s.$on("$destroy",function(){return c.unbind("scroll",g),null!=$?($(),$=null):void 0}),m=function(e){return _=parseFloat(e)||0},s.$watch("infiniteScrollDistance",m),m(s.infiniteScrollDistance),u=function(e){return w=!e,w&&l?(l=!1,g()):void 0},s.$watch("infiniteScrollDisabled",u),u(s.infiniteScrollDisabled),p=function(e){return k=e},s.$watch("infiniteScrollUseDocumentBottom",p),p(s.infiniteScrollUseDocumentBottom),o=function(e){return null!=c&&c.unbind("scroll",g),c=e,null!=e?c.bind("scroll",g):void 0},o(x),s.infiniteScrollListenForEvent&&($=e.$on(s.infiniteScrollListenForEvent,g)),d=function(e){if(null!=e&&0!==e.length){if(e instanceof HTMLElement?e=angular.element(e):"function"==typeof e.append?e=angular.element(e[e.length-1]):"string"==typeof e&&(e=angular.element(document.querySelector(e))),null!=e)return o(e);throw new Exception("invalid infinite-scroll-container attribute.")}},s.$watch("infiniteScrollContainer",d),d(s.infiniteScrollContainer||[]),null!=r.infiniteScrollParent&&o(angular.element(a.parent())),null!=r.infiniteScrollImmediateCheck&&(h=s.$eval(r.infiniteScrollImmediateCheck)),i(function(){return h?g():void 0},0,1)}}}]),angular.module("smart",[]).filter("plural",["SmartPlurals",function(e){var t=function(t){var i=Array.prototype.slice.call(arguments,1),n=e.getRule(),s=n(t,i);return s};return t}]).factory("SmartPlurals",[function(){var e={};return"object"!=typeof e&&(e={}),function(){var t={},i=null,n=null;e.Plurals={getRule:function(e){var s,a,r,o;if(!e)return n||(n=this.getRule(i));e=","+e.toLowerCase()+",";for(s in t)if(t.hasOwnProperty(s)&&(a=-1!==s.indexOf(e)))return t[s];return r=e.indexOf("-"),-1!==r?(o=e.substring(1,r),this.getRule(o)):null},setDefaultRule:function(e){i=e.toLowerCase(),n=null},defineRule:function(e,n){e=","+e.toLowerCase()+",";var s;return s="string"==typeof n?this.getRule(n):function(e,t){return"number"==typeof t?n(e,t):"number"==typeof t.length?t[n(e,t.length)]:void 0},t[e]=s,i||this.setDefaultRule(e.split(",")[1]),s}}}(),e.Plurals.defineRule("english,en,de,nl,sv,da,no,nn,nb,fo,es,pt,it,bg,el,fi,et,he,eo,hu,tr",function(e,t){var i,n,s=1===e;return 2===t?s?0:1:(i=0===e,3===t?i?0:s?1:2:(n=0>e,n?0:i?1:s?2:3))}),e.Plurals.defineRule("czech,cs,sk",function(e,t){var i,n=1===e;return 2===t?n?0:1:(i=e>=2&&4>=e,n?0:i?1:2)}),e.Plurals.defineRule("french,fr,pt-br",function(e){var t=0===e||1===e;return t?0:1}),e.Plurals.defineRule("irish,ga",function(e,t){var i,n=1===e;return 2===t?n?0:1:(i=2===e,n?0:i?1:2)}),e.Plurals.defineRule("latvian,lv",function(e,t){var i,n=e%10===1&&e%100!=11;return 2===t?n?0:1:(i=0===e,i?0:n?1:2)}),e.Plurals.defineRule("lithuanian,lt",function(e,t){var i,n=e%10===1&&e%100!=11;return 2===t?n?0:1:(i=e%100>=12&&19>=e%100,n?0:i?1:2)}),e.Plurals.defineRule("polish,pl",function(e,t){var i,n=1===e;return 2===t?n?0:1:(i=e%10>=2&&4>=e%10&&(10>e%100||e%100>=20),n?0:i?1:2)}),e.Plurals.defineRule("romanian,ro",function(e,t){var i,n=1===e;return 2===t?n?0:1:(i=0===e||e%100>=1&&19>=e%100,n?0:i?1:2)}),e.Plurals.defineRule("russian,ru,uk,sr,hr",function(e,t){var i,n=e%10===1&&e%100!=11;return 2===t?n?0:1:(i=e%10>=2&&4>=e%10&&(10>e%100||e%100>=20),n?0:i?1:2)}),e.Plurals.defineRule("slovenian,sl",function(e,t){var i,n,s=e%100===1;return 2===t?s?0:1:(i=e%100===2,3===t?s?0:i?1:2:(n=e%100===3||e%100===4,s?0:i?1:n?2:3))}),e.Plurals}]),function(){var e;e=function(e,t,i){var n,s,a,r,o,l,c,d;return s=this,l=0,o=0,n=void 0,c=void 0,a=function(){return n=arguments,c=this,l&&window.clearTimeout(l),l=window.setTimeout(r,e)},d=function(){return n=arguments,c=this,l&&window.clearTimeout(l),l=window.setTimeout(r,e),o?void 0:o=window.setTimeout(r,t)},d.stop=function(){return l&&window.clearTimeout(l),o?window.clearTimeout(o):void 0},r=function(){return l&&(window.clearTimeout(l),l=0),o&&(window.clearTimeout(o),o=0),s.apply(void 0!==i?i:c,n)},t?d:a},Function.prototype.throttle=e}.call(this),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(t){return!t.nodeName||-1!==e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])}function i(t){return e.isFunction(t)||e.isPlainObject(t)?t:{top:t,left:t}}var n=e.scrollTo=function(t,i,n){return e(window).scrollTo(t,i,n)};return n.defaults={axis:"xy",duration:0,limit:!0},e.fn.scrollTo=function(s,a,r){"object"==typeof a&&(r=a,a=0),"function"==typeof r&&(r={onAfter:r}),"max"===s&&(s=9e9),r=e.extend({},n.defaults,r),a=a||r.duration;var o=r.queue&&r.axis.length>1;return o&&(a/=2),r.offset=i(r.offset),r.over=i(r.over),this.each(function(){function l(t){var i=e.extend({},r,{queue:!0,duration:a,complete:t&&function(){t.call(u,p,r)}});m.animate(g,i)}if(null!==s){var c,d=t(this),u=d?this.contentWindow||window:this,m=e(u),p=s,g={};switch(typeof p){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(p)){p=i(p);break}p=d?e(p):e(p,u);case"object":if(0===p.length)return;(p.is||p.style)&&(c=(p=e(p)).offset())}var f=e.isFunction(r.offset)&&r.offset(u,p)||r.offset;e.each(r.axis.split(""),function(e,t){var i="x"===t?"Left":"Top",s=i.toLowerCase(),a="scroll"+i,h=m[a](),v=n.max(u,t);if(c)g[a]=c[s]+(d?0:h-m.offset()[s]),r.margin&&(g[a]-=parseInt(p.css("margin"+i),10)||0,g[a]-=parseInt(p.css("border"+i+"Width"),10)||0),g[a]+=f[s]||0,r.over[s]&&(g[a]+=p["x"===t?"width":"height"]()*r.over[s]);else{var b=p[s];g[a]=b.slice&&"%"===b.slice(-1)?parseFloat(b)/100*v:b}r.limit&&/^\d+$/.test(g[a])&&(g[a]=g[a]<=0?0:Math.min(g[a],v)),!e&&r.axis.length>1&&(h===g[a]?g={}:o&&(l(r.onAfterFirst),g={}))}),l(r.onAfter)}})},n.max=function(i,n){var s="x"===n?"Width":"Height",a="scroll"+s;if(!t(i))return i[a]-e(i)[s.toLowerCase()]();var r="client"+s,o=i.ownerDocument||i.document,l=o.documentElement,c=o.body;return Math.max(l[a],c[a])-Math.min(l[r],c[r])},e.Tween.propHooks.scrollLeft=e.Tween.propHooks.scrollTop={get:function(t){return e(t.elem)[t.prop]()},set:function(t){var i=this.get(t);if(t.options.interrupt&&t._last&&t._last!==i)return e(t.elem).stop();var n=Math.round(t.now);i!==n&&(e(t.elem)[t.prop](n),t._last=this.get(t))}},n}),function(e,t){"use strict";var i,n=e,s=n.document,a=n.navigator,r=n.setTimeout,o=n.encodeURIComponent,l=n.ActiveXObject,c=n.Number.parseInt||n.parseInt,d=n.Number.parseFloat||n.parseFloat,u=n.Number.isNaN||n.isNaN,m=n.Math.round,p=n.Date.now,g=n.Object.keys,f=n.Object.defineProperty,h=n.Object.prototype.hasOwnProperty,v=n.Array.prototype.slice,b=function(e){return v.call(e,0)},_=function(){var e,i,n,s,a,r,o=b(arguments),l=o[0]||{};for(e=1,i=o.length;i>e;e++)if(null!=(n=o[e]))for(s in n)h.call(n,s)&&(a=l[s],r=n[s],l!==r&&r!==t&&(l[s]=r));return l},w=function(e){var t,i,n,s;if("object"!=typeof e||null==e)t=e;else if("number"==typeof e.length)for(t=[],i=0,n=e.length;n>i;i++)h.call(e,i)&&(t[i]=w(e[i]));else{t={};for(s in e)h.call(e,s)&&(t[s]=w(e[s]))}return t},y=function(e,t){for(var i={},n=0,s=t.length;s>n;n++)t[n]in e&&(i[t[n]]=e[t[n]]);return i},$=function(e,t){var i={};for(var n in e)-1===t.indexOf(n)&&(i[n]=e[n]);return i},k=function(e){if(e)for(var t in e)h.call(e,t)&&delete e[t];return e},x=function(e,t){if(e&&1===e.nodeType&&e.ownerDocument&&t&&(1===t.nodeType&&t.ownerDocument&&t.ownerDocument===e.ownerDocument||9===t.nodeType&&!t.ownerDocument&&t===e.ownerDocument))do{if(e===t)return!0;e=e.parentNode}while(e);return!1},C={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},j="11.0.0",S={},A={},T=null,P={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}},F=function(){var e,t,i,n,a="ZeroClipboard.swf";if(!s.currentScript||!(n=s.currentScript.src)){var r=s.getElementsByTagName("script");if("readyState"in r[0])for(e=r.length;e--&&("interactive"!==r[e].readyState||!(n=r[e].src)););else if("loading"===s.readyState)n=r[r.length-1].src;else{for(e=r.length;e--;){if(i=r[e].src,!i){t=null;break}if(i=i.split("#")[0].split("?")[0],i=i.slice(0,i.lastIndexOf("/")+1),null==t)t=i;else if(t!==i){t=null;break}}null!==t&&(n=t)}}return n&&(n=n.split("#")[0].split("?")[0],a=n.slice(0,n.lastIndexOf("/")+1)+a),a}(),U={swfPath:F,trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},M=function(e){if("object"==typeof e&&null!==e)for(var t in e)if(h.call(e,t))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(t))U[t]=e[t];else if(null==C.bridge)if("containerId"===t||"swfObjectId"===t){if(!J(e[t]))throw new Error("The specified `"+t+"` value is not valid as an HTML4 Element ID");U[t]=e[t]}else U[t]=e[t];{if("string"!=typeof e||!e)return w(U);if(h.call(U,e))return U[e]}},E=function(){return{browser:y(a,["userAgent","platform","appName"]),flash:$(C,["bridge"]),zeroclipboard:{version:kt.version,config:kt.config()}}},R=function(){return!!(C.disabled||C.outdated||C.unavailable||C.deactivated)},I=function(e,t){var i,n,s,a={};if("string"==typeof e&&e)s=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(i in e)h.call(e,i)&&"string"==typeof i&&i&&"function"==typeof e[i]&&kt.on(i,e[i]);if(s&&s.length){for(i=0,n=s.length;n>i;i++)e=s[i].replace(/^on/,""),a[e]=!0,S[e]||(S[e]=[]),S[e].push(t);if(a.ready&&C.ready&&kt.emit({type:"ready"}),a.error){var r=["disabled","outdated","unavailable","deactivated","overdue"];for(i=0,n=r.length;n>i;i++)if(C[r[i]]===!0){kt.emit({type:"error",name:"flash-"+r[i]});break}}}return kt},O=function(e,t){var i,n,s,a,r;if(0===arguments.length)a=g(S);else if("string"==typeof e&&e)a=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(i in e)h.call(e,i)&&"string"==typeof i&&i&&"function"==typeof e[i]&&kt.off(i,e[i]);if(a&&a.length)for(i=0,n=a.length;n>i;i++)if(e=a[i].toLowerCase().replace(/^on/,""),r=S[e],r&&r.length)if(t)for(s=r.indexOf(t);-1!==s;)r.splice(s,1),s=r.indexOf(t,s);else r.length=0;return kt},L=function(e){var t;return t="string"==typeof e&&e?w(S[e])||null:w(S)},D=function(e){var t,i,n;return e=G(e),e&&!tt(e)?"ready"===e.type&&C.overdue===!0?kt.emit({type:"error",name:"flash-overdue"}):(t=_({},e),et.call(this,t),"copy"===e.type&&(n=ot(A),i=n.data,T=n.formatMap),i):void 0},H=function(){if("boolean"!=typeof C.ready&&(C.ready=!1),!kt.isFlashUnusable()&&null===C.bridge){var e=U.flashLoadTimeout;"number"==typeof e&&e>=0&&r(function(){"boolean"!=typeof C.deactivated&&(C.deactivated=!0),C.deactivated===!0&&kt.emit({type:"error",name:"flash-deactivated"})},e),C.overdue=!1,at()}},z=function(){kt.clearData(),kt.blur(),kt.emit("destroy"),rt(),kt.off()},N=function(e,t){var i;if("object"==typeof e&&e&&"undefined"==typeof t)i=e,kt.clearData();else{if("string"!=typeof e||!e)return;i={},i[e]=t}for(var n in i)"string"==typeof n&&n&&h.call(i,n)&&"string"==typeof i[n]&&i[n]&&(A[n]=i[n])},q=function(e){"undefined"==typeof e?(k(A),T=null):"string"==typeof e&&h.call(A,e)&&delete A[e]},V=function(e){return"undefined"==typeof e?w(A):"string"==typeof e&&h.call(A,e)?A[e]:void 0},B=function(e){if(e&&1===e.nodeType){i&&(ft(i,U.activeClass),i!==e&&ft(i,U.hoverClass)),i=e,gt(e,U.hoverClass);var t=e.getAttribute("title")||U.title;if("string"==typeof t&&t){var n=st(C.bridge);n&&n.setAttribute("title",t)}var s=U.forceHandCursor===!0||"pointer"===ht(e,"cursor");wt(s),_t()}},W=function(){var e=st(C.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.top="1px"),i&&(ft(i,U.hoverClass),ft(i,U.activeClass),i=null)},Y=function(){return i||null},J=function(e){return"string"==typeof e&&e&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)},G=function(e){var t;if("string"==typeof e&&e?(t=e,e={}):"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(t=e.type),t){_(e,{type:t.toLowerCase(),target:e.target||i||null,relatedTarget:e.relatedTarget||null,currentTarget:C&&C.bridge||null,timeStamp:e.timeStamp||p()||null});var n=P[e.type];return"error"===e.type&&e.name&&n&&(n=n[e.name]),n&&(e.message=n),"ready"===e.type&&_(e,{target:null,version:C.version}),"error"===e.type&&(/^flash-(disabled|outdated|unavailable|deactivated|overdue)$/.test(e.name)&&_(e,{target:null,minimumVersion:j}),/^flash-(outdated|unavailable|deactivated|overdue)$/.test(e.name)&&_(e,{version:C.version})),"copy"===e.type&&(e.clipboardData={setData:kt.setData,clearData:kt.clearData}),"aftercopy"===e.type&&(e=lt(e,T)),e.target&&!e.relatedTarget&&(e.relatedTarget=Q(e.target)),e=K(e)}},Q=function(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?s.getElementById(t):null},K=function(e){if(e&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)){var i=e.target,a="_mouseover"===e.type&&e.relatedTarget?e.relatedTarget:t,r="_mouseout"===e.type&&e.relatedTarget?e.relatedTarget:t,o=bt(i),l=n.screenLeft||n.screenX||0,c=n.screenTop||n.screenY||0,d=s.body.scrollLeft+s.documentElement.scrollLeft,u=s.body.scrollTop+s.documentElement.scrollTop,m=o.left+("number"==typeof e._stageX?e._stageX:0),p=o.top+("number"==typeof e._stageY?e._stageY:0),g=m-d,f=p-u,h=l+g,v=c+f,b="number"==typeof e.movementX?e.movementX:0,w="number"==typeof e.movementY?e.movementY:0;delete e._stageX,delete e._stageY,_(e,{srcElement:i,fromElement:a,toElement:r,screenX:h,screenY:v,pageX:m,pageY:p,clientX:g,clientY:f,x:g,y:f,movementX:b,movementY:w,offsetX:0,offsetY:0,layerX:0,layerY:0})}return e},X=function(e){var t=e&&"string"==typeof e.type&&e.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(t)},Z=function(e,t,i,n){n?r(function(){e.apply(t,i)},0):e.apply(t,i)},et=function(e){if("object"==typeof e&&e&&e.type){var t=X(e),i=S["*"]||[],s=S[e.type]||[],a=i.concat(s);if(a&&a.length){var r,o,l,c,d,u=this;for(r=0,o=a.length;o>r;r++)l=a[r],c=u,"string"==typeof l&&"function"==typeof n[l]&&(l=n[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(c=l,l=l.handleEvent),"function"==typeof l&&(d=_({},e),Z(l,c,[d],t))}return this}},tt=function(e){var t=e.target||i||null,n="swf"===e._source;delete e._source;var s=["flash-disabled","flash-outdated","flash-unavailable","flash-deactivated","flash-overdue"];switch(e.type){case"error":-1!==s.indexOf(e.name)&&_(C,{disabled:"flash-disabled"===e.name,outdated:"flash-outdated"===e.name,unavailable:"flash-unavailable"===e.name,deactivated:"flash-deactivated"===e.name,overdue:"flash-overdue"===e.name,ready:!1});break;case"ready":var a=C.deactivated===!0;_(C,{disabled:!1,outdated:!1,unavailable:!1,deactivated:!1,overdue:a,ready:!a});break;case"copy":var r,o,l=e.relatedTarget;!A["text/html"]&&!A["text/plain"]&&l&&(o=l.value||l.outerHTML||l.innerHTML)&&(r=l.value||l.textContent||l.innerText)?(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",r),o!==r&&e.clipboardData.setData("text/html",o)):!A["text/plain"]&&e.target&&(r=e.target.getAttribute("data-clipboard-text"))&&(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",r));break;case"aftercopy":kt.clearData(),t&&t!==pt()&&t.focus&&t.focus();break;case"_mouseover":kt.focus(t),U.bubbleEvents===!0&&n&&(t&&t!==e.relatedTarget&&!x(e.relatedTarget,t)&&it(_({},e,{type:"mouseenter",bubbles:!1,cancelable:!1})),it(_({},e,{type:"mouseover"})));break;case"_mouseout":kt.blur(),U.bubbleEvents===!0&&n&&(t&&t!==e.relatedTarget&&!x(e.relatedTarget,t)&&it(_({},e,{type:"mouseleave",bubbles:!1,cancelable:!1})),it(_({},e,{type:"mouseout"})));break;case"_mousedown":gt(t,U.activeClass),U.bubbleEvents===!0&&n&&it(_({},e,{type:e.type.slice(1)}));break;case"_mouseup":ft(t,U.activeClass),U.bubbleEvents===!0&&n&&it(_({},e,{type:e.type.slice(1)}));break;case"_click":case"_mousemove":U.bubbleEvents===!0&&n&&it(_({},e,{type:e.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)?!0:void 0},it=function(e){if(e&&"string"==typeof e.type&&e){var t,i=e.target||null,a=i&&i.ownerDocument||s,r={view:a.defaultView||n,canBubble:!0,cancelable:!0,detail:"click"===e.type?1:0,button:"number"==typeof e.which?e.which-1:"number"==typeof e.button?e.button:a.createEvent?0:1},o=_(r,e);i&&a.createEvent&&i.dispatchEvent&&(o=[o.type,o.canBubble,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget],t=a.createEvent("MouseEvents"),t.initMouseEvent&&(t.initMouseEvent.apply(t,o),t._source="js",i.dispatchEvent(t)))}},nt=function(){var e=s.createElement("div");return e.id=U.containerId,e.className=U.containerClass,e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+yt(U.zIndex),e},st=function(e){for(var t=e&&e.parentNode;t&&"OBJECT"===t.nodeName&&t.parentNode;)t=t.parentNode;return t||null},at=function(){var e,t=C.bridge,i=st(t);if(!t){var a=mt(n.location.host,U),r="never"===a?"none":"all",o=dt(U),l=U.swfPath+ct(U.swfPath,U);i=nt();var c=s.createElement("div");i.appendChild(c),s.body.appendChild(i);var d=s.createElement("div"),u="activex"===C.pluginType;d.innerHTML='<object id="'+U.swfObjectId+'" name="'+U.swfObjectId+'" width="100%" height="100%" '+(u?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+l+'"')+">"+(u?'<param name="movie" value="'+l+'"/>':"")+'<param name="allowScriptAccess" value="'+a+'"/><param name="allowNetworking" value="'+r+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+o+'"/></object>',t=d.firstChild,d=null,t.ZeroClipboard=kt,i.replaceChild(t,c)}return t||(t=s[U.swfObjectId],t&&(e=t.length)&&(t=t[e-1]),!t&&i&&(t=i.firstChild)),C.bridge=t||null,t},rt=function(){var e=C.bridge;if(e){var t=st(e);t&&("activex"===C.pluginType&&"readyState"in e?(e.style.display="none",function i(){if(4===e.readyState){for(var n in e)"function"==typeof e[n]&&(e[n]=null);e.parentNode&&e.parentNode.removeChild(e),t.parentNode&&t.parentNode.removeChild(t)}else r(i,10)}()):(e.parentNode&&e.parentNode.removeChild(e),t.parentNode&&t.parentNode.removeChild(t))),C.ready=null,C.bridge=null,C.deactivated=null}},ot=function(e){var t={},i={};if("object"==typeof e&&e){for(var n in e)if(n&&h.call(e,n)&&"string"==typeof e[n]&&e[n])switch(n.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":t.text=e[n],i.text=n;break;case"text/html":case"html":case"air:html":case"flash:html":t.html=e[n],i.html=n;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":t.rtf=e[n],i.rtf=n}return{data:t,formatMap:i}}},lt=function(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return e;var i={};for(var n in e)if(h.call(e,n)){if("success"!==n&&"data"!==n){i[n]=e[n];continue}i[n]={};var s=e[n];for(var a in s)a&&h.call(s,a)&&h.call(t,a)&&(i[n][t[a]]=s[a])}return i},ct=function(e,t){var i=null==t||t&&t.cacheBust===!0;return i?(-1===e.indexOf("?")?"?":"&")+"noCache="+p():""},dt=function(e){var t,i,s,a,r="",l=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?a=[e.trustedDomains]:"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(a=e.trustedDomains)),a&&a.length)for(t=0,i=a.length;i>t;t++)if(h.call(a,t)&&a[t]&&"string"==typeof a[t]){if(s=ut(a[t]),!s)continue;if("*"===s){l.length=0,l.push(s);break}l.push.apply(l,[s,"//"+s,n.location.protocol+"//"+s])}return l.length&&(r+="trustedOrigins="+o(l.join(","))),e.forceEnhancedClipboard===!0&&(r+=(r?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof e.swfObjectId&&e.swfObjectId&&(r+=(r?"&":"")+"swfObjectId="+o(e.swfObjectId)),r},ut=function(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var i=e.indexOf("/");return e=-1===i?e:-1===t||0===i?null:e.slice(0,i),e&&".swf"===e.slice(-4).toLowerCase()?null:e||null},mt=function(){var e=function(e){var t,i,n,s=[];if("string"==typeof e&&(e=[e]),"object"!=typeof e||!e||"number"!=typeof e.length)return s;for(t=0,i=e.length;i>t;t++)if(h.call(e,t)&&(n=ut(e[t]))){if("*"===n){s.length=0,s.push("*");break}-1===s.indexOf(n)&&s.push(n)}return s};return function(t,i){var n=ut(i.swfPath);null===n&&(n=t);var s=e(i.trustedDomains),a=s.length;if(a>0){if(1===a&&"*"===s[0])return"always";if(-1!==s.indexOf(t))return 1===a&&t===n?"sameDomain":"always"}return"never"}}(),pt=function(){try{return s.activeElement}catch(e){return null}},gt=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)||e.classList.add(t),e;if(t&&"string"==typeof t){var i=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var n=" "+e.className+" ",s=e.className,a=0,r=i.length;r>a;a++)n.indexOf(" "+i[a]+" ")<0&&(s+=" "+i[a]);e.className=s.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},ft=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)&&e.classList.remove(t),e;if("string"==typeof t&&t){var i=t.split(/\s+/);if(1===e.nodeType&&e.className){for(var n=(" "+e.className+" ").replace(/[\n\t]/g," "),s=0,a=i.length;a>s;s++)n=n.replace(" "+i[s]+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}}return e},ht=function(e,t){var i=n.getComputedStyle(e,null).getPropertyValue(t);return"cursor"!==t||i&&"auto"!==i||"A"!==e.nodeName?i:"pointer"},vt=function(){var e,t,i,n=1;return"function"==typeof s.body.getBoundingClientRect&&(e=s.body.getBoundingClientRect(),t=e.right-e.left,i=s.body.offsetWidth,n=m(t/i*100)/100),n},bt=function(e){var t={left:0,top:0,width:0,height:0};if(e.getBoundingClientRect){var i,a,r,o=e.getBoundingClientRect();"pageXOffset"in n&&"pageYOffset"in n?(i=n.pageXOffset,a=n.pageYOffset):(r=vt(),i=m(s.documentElement.scrollLeft/r),a=m(s.documentElement.scrollTop/r));var l=s.documentElement.clientLeft||0,c=s.documentElement.clientTop||0;t.left=o.left+i-l,t.top=o.top+a-c,t.width="width"in o?o.width:o.right-o.left,t.height="height"in o?o.height:o.bottom-o.top}return t},_t=function(){var e;if(i&&(e=st(C.bridge))){var t=bt(i);_(e.style,{width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px",zIndex:""+yt(U.zIndex)})}},wt=function(e){C.ready===!0&&(C.bridge&&"function"==typeof C.bridge.setHandCursor?C.bridge.setHandCursor(e):C.ready=!1)},yt=function(e){if(/^(?:auto|inherit)$/.test(e))return e;var t;return"number"!=typeof e||u(e)?"string"==typeof e&&(t=yt(c(e,10))):t=e,"number"==typeof t?t:"auto"},$t=function(e){function t(e){var t=e.match(/[\d]+/g);return t.length=3,t.join(".")}function i(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}function n(e){e&&(l=!0,e.version&&(m=t(e.version)),!m&&e.description&&(m=t(e.description)),e.filename&&(u=i(e.filename)))}var s,r,o,l=!1,c=!1,u=!1,m="";if(a.plugins&&a.plugins.length)s=a.plugins["Shockwave Flash"],n(s),a.plugins["Shockwave Flash 2.0"]&&(l=!0,m="2.0.0.11");else if(a.mimeTypes&&a.mimeTypes.length)o=a.mimeTypes["application/x-shockwave-flash"],s=o&&o.enabledPlugin,n(s);else if("undefined"!=typeof e){c=!0;try{r=new e("ShockwaveFlash.ShockwaveFlash.7"),l=!0,m=t(r.GetVariable("$version"))}catch(p){try{r=new e("ShockwaveFlash.ShockwaveFlash.6"),l=!0,m="6.0.21"}catch(g){try{r=new e("ShockwaveFlash.ShockwaveFlash"),l=!0,m=t(r.GetVariable("$version"))}catch(f){c=!1}}}}C.disabled=l!==!0,C.outdated=m&&d(m)<d(j),C.version=m||"0.0.0",C.pluginType=u?"pepper":c?"activex":l?"netscape":"unknown"};$t(l);var kt=function(){return this instanceof kt?void("function"==typeof kt._createClient&&kt._createClient.apply(this,b(arguments))):new kt};f(kt,"version",{value:"2.1.2",writable:!1,configurable:!0,enumerable:!0}),kt.config=function(){return M.apply(this,b(arguments))},kt.state=function(){return E.apply(this,b(arguments))},kt.isFlashUnusable=function(){return R.apply(this,b(arguments))},kt.on=function(){return I.apply(this,b(arguments))},kt.off=function(){return O.apply(this,b(arguments))},kt.handlers=function(){return L.apply(this,b(arguments))},kt.emit=function(){return D.apply(this,b(arguments))},kt.create=function(){return H.apply(this,b(arguments))},kt.destroy=function(){return z.apply(this,b(arguments))},kt.setData=function(){return N.apply(this,b(arguments))},kt.clearData=function(){return q.apply(this,b(arguments))},kt.getData=function(){return V.apply(this,b(arguments))},kt.focus=kt.activate=function(){return B.apply(this,b(arguments))},kt.blur=kt.deactivate=function(){return W.apply(this,b(arguments))},kt.activeElement=function(){return Y.apply(this,b(arguments))};var xt=0,Ct={},jt=0,St={},At={};_(U,{autoActivate:!0});var Tt=function(e){var t=this;t.id=""+xt++,Ct[t.id]={instance:t,elements:[],handlers:{}},e&&t.clip(e),kt.on("*",function(e){return t.emit(e)
}),kt.on("destroy",function(){t.destroy()}),kt.create()},Pt=function(e,t){var i,n,s,a={},r=Ct[this.id]&&Ct[this.id].handlers;if("string"==typeof e&&e)s=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(i in e)h.call(e,i)&&"string"==typeof i&&i&&"function"==typeof e[i]&&this.on(i,e[i]);if(s&&s.length){for(i=0,n=s.length;n>i;i++)e=s[i].replace(/^on/,""),a[e]=!0,r[e]||(r[e]=[]),r[e].push(t);if(a.ready&&C.ready&&this.emit({type:"ready",client:this}),a.error){var o=["disabled","outdated","unavailable","deactivated","overdue"];for(i=0,n=o.length;n>i;i++)if(C[o[i]]){this.emit({type:"error",name:"flash-"+o[i],client:this});break}}}return this},Ft=function(e,t){var i,n,s,a,r,o=Ct[this.id]&&Ct[this.id].handlers;if(0===arguments.length)a=g(o);else if("string"==typeof e&&e)a=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(i in e)h.call(e,i)&&"string"==typeof i&&i&&"function"==typeof e[i]&&this.off(i,e[i]);if(a&&a.length)for(i=0,n=a.length;n>i;i++)if(e=a[i].toLowerCase().replace(/^on/,""),r=o[e],r&&r.length)if(t)for(s=r.indexOf(t);-1!==s;)r.splice(s,1),s=r.indexOf(t,s);else r.length=0;return this},Ut=function(e){var t=null,i=Ct[this.id]&&Ct[this.id].handlers;return i&&(t="string"==typeof e&&e?i[e]?i[e].slice(0):[]:w(i)),t},Mt=function(e){if(Lt.call(this,e)){"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(e=_({},e));var t=_({},G(e),{client:this});Dt.call(this,t)}return this},Et=function(e){e=Ht(e);for(var t=0;t<e.length;t++)if(h.call(e,t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===St[e[t].zcClippingId].indexOf(this.id)&&St[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+jt++,St[e[t].zcClippingId]=[this.id],U.autoActivate===!0&&zt(e[t]));var i=Ct[this.id]&&Ct[this.id].elements;-1===i.indexOf(e[t])&&i.push(e[t])}return this},Rt=function(e){var t=Ct[this.id];if(!t)return this;var i,n=t.elements;e="undefined"==typeof e?n.slice(0):Ht(e);for(var s=e.length;s--;)if(h.call(e,s)&&e[s]&&1===e[s].nodeType){for(i=0;-1!==(i=n.indexOf(e[s],i));)n.splice(i,1);var a=St[e[s].zcClippingId];if(a){for(i=0;-1!==(i=a.indexOf(this.id,i));)a.splice(i,1);0===a.length&&(U.autoActivate===!0&&Nt(e[s]),delete e[s].zcClippingId)}}return this},It=function(){var e=Ct[this.id];return e&&e.elements?e.elements.slice(0):[]},Ot=function(){this.unclip(),this.off(),delete Ct[this.id]},Lt=function(e){if(!e||!e.type)return!1;if(e.client&&e.client!==this)return!1;var t=Ct[this.id]&&Ct[this.id].elements,i=!!t&&t.length>0,n=!e.target||i&&-1!==t.indexOf(e.target),s=e.relatedTarget&&i&&-1!==t.indexOf(e.relatedTarget),a=e.client&&e.client===this;return n||s||a?!0:!1},Dt=function(e){if("object"==typeof e&&e&&e.type){var t=X(e),i=Ct[this.id]&&Ct[this.id].handlers["*"]||[],s=Ct[this.id]&&Ct[this.id].handlers[e.type]||[],a=i.concat(s);if(a&&a.length){var r,o,l,c,d,u=this;for(r=0,o=a.length;o>r;r++)l=a[r],c=u,"string"==typeof l&&"function"==typeof n[l]&&(l=n[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(c=l,l=l.handleEvent),"function"==typeof l&&(d=_({},e),Z(l,c,[d],t))}return this}},Ht=function(e){return"string"==typeof e&&(e=[]),"number"!=typeof e.length?[e]:e},zt=function(e){if(e&&1===e.nodeType){var t=function(e){(e||(e=n.event))&&("js"!==e._source&&(e.stopImmediatePropagation(),e.preventDefault()),delete e._source)},i=function(i){(i||(i=n.event))&&(t(i),kt.focus(e))};e.addEventListener("mouseover",i,!1),e.addEventListener("mouseout",t,!1),e.addEventListener("mouseenter",t,!1),e.addEventListener("mouseleave",t,!1),e.addEventListener("mousemove",t,!1),At[e.zcClippingId]={mouseover:i,mouseout:t,mouseenter:t,mouseleave:t,mousemove:t}}},Nt=function(e){if(e&&1===e.nodeType){var t=At[e.zcClippingId];if("object"==typeof t&&t){for(var i,n,s=["move","leave","enter","out","over"],a=0,r=s.length;r>a;a++)i="mouse"+s[a],n=t[i],"function"==typeof n&&e.removeEventListener(i,n,!1);delete At[e.zcClippingId]}}};kt._createClient=function(){Tt.apply(this,b(arguments))},kt.prototype.on=function(){return Pt.apply(this,b(arguments))},kt.prototype.off=function(){return Ft.apply(this,b(arguments))},kt.prototype.handlers=function(){return Ut.apply(this,b(arguments))},kt.prototype.emit=function(){return Mt.apply(this,b(arguments))},kt.prototype.clip=function(){return Et.apply(this,b(arguments))},kt.prototype.unclip=function(){return Rt.apply(this,b(arguments))},kt.prototype.elements=function(){return It.apply(this,b(arguments))},kt.prototype.destroy=function(){return Ot.apply(this,b(arguments))},kt.prototype.setText=function(e){return kt.setData("text/plain",e),this},kt.prototype.setHtml=function(e){return kt.setData("text/html",e),this},kt.prototype.setRichText=function(e){return kt.setData("application/rtf",e),this},kt.prototype.setData=function(){return kt.setData.apply(this,b(arguments)),this},kt.prototype.clearData=function(){return kt.clearData.apply(this,b(arguments)),this},kt.prototype.getData=function(){return kt.getData.apply(this,b(arguments))},"function"==typeof define&&define.amd?define(function(){return kt}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=kt:e.ZeroClipboard=kt}(function(){return this||window}()),ZeroClipboard.config({swfPath:"/assets/ZeroClipboard-a695e2675a646b0d755313c0906c2452.swf"}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(e,t,i){var n;return function(){var s=this,a=arguments,r=function(){n=null,i||e.apply(s,a)},o=i&&!n;clearTimeout(n),n=setTimeout(r,t),o&&e.apply(s,a)}}function i(e){var t=++c;return String(null==e?"rmjs-":e)+t}function n(e){var t=e.clone().css({height:"auto",width:e.width(),maxHeight:"none",overflow:"hidden"}).insertAfter(e),i=t.outerHeight(),n=parseInt(t.css({maxHeight:""}).css("max-height").replace(/[^-\d\.]/g,""),10),s=e.data("defaultHeight");t.remove();var a=n||e.data("collapsedHeight")||s;e.data({expandedHeight:i,maxHeight:n,collapsedHeight:a}).css({maxHeight:"none"})}function s(e){if(!l[e.selector]){var t=" ";e.embedCSS&&""!==e.blockCSS&&(t+=e.selector+" + [data-readmore-toggle], "+e.selector+"[data-readmore]{"+e.blockCSS+"}"),t+=e.selector+"[data-readmore]{transition: height "+e.speed+"ms;overflow: hidden;}",function(e,t){var i=e.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(e.createTextNode(t)),e.getElementsByTagName("head")[0].appendChild(i)}(document,t),l[e.selector]=!0}}function a(t,i){this.element=t,this.options=e.extend({},o,i),s(this.options),this._defaults=o,this._name=r,this.init(),window.addEventListener?(window.addEventListener("load",d),window.addEventListener("resize",d)):(window.attachEvent("load",d),window.attachEvent("resize",d))}var r="readmore",o={speed:100,collapsedHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,blockCSS:"display: block; width: 100%;",startOpen:!1,beforeToggle:function(){},afterToggle:function(){}},l={},c=0,d=t(function(){e("[data-readmore]").each(function(){var t=e(this),i="true"===t.attr("aria-expanded");n(t),t.css({height:t.data(i?"expandedHeight":"collapsedHeight")})})},100);a.prototype={init:function(){var t=e(this.element);t.data({defaultHeight:this.options.collapsedHeight,heightMargin:this.options.heightMargin}),n(t);var s=t.data("collapsedHeight"),a=t.data("heightMargin");if(t.outerHeight(!0)<=s+a)return!0;var r=t.attr("id")||i(),o=this.options.startOpen?this.options.lessLink:this.options.moreLink;t.attr({"data-readmore":"","aria-expanded":this.options.startOpen,id:r}),t.after(e(o).on("click",function(e){return function(i){e.toggle(this,t[0],i)}}(this)).attr({"data-readmore-toggle":"","aria-controls":r})),this.options.startOpen||t.css({height:s})},toggle:function(t,i,n){n&&n.preventDefault(),t||(t=e('[aria-controls="'+_this.element.id+'"]')[0]),i||(i=_this.element);var s=e(i),a="",r="",o=!1,l=s.data("collapsedHeight");s.height()<=l?(a=s.data("expandedHeight")+"px",r="lessLink",o=!0):(a=l,r="moreLink"),this.options.beforeToggle(t,s,!o),s.css({height:a}),s.on("transitionend",function(i){return function(){i.options.afterToggle(t,s,o),e(this).attr({"aria-expanded":o}).off("transitionend")}}(this)),e(t).replaceWith(e(this.options[r]).on("click",function(e){return function(t){e.toggle(this,i,t)}}(this)).attr({"data-readmore-toggle":"","aria-controls":s.attr("id")}))},destroy:function(){e(this.element).each(function(){var t=e(this);t.attr({"data-readmore":null,"aria-expanded":null}).css({maxHeight:"",height:""}).next("[data-readmore-toggle]").remove(),t.removeData()})}},e.fn.readmore=function(t){var i=arguments,n=this.selector;return t=t||{},"object"==typeof t?this.each(function(){if(e.data(this,"plugin_"+r)){var i=e.data(this,"plugin_"+r);i.destroy.apply(i)}t.selector=n,e.data(this,"plugin_"+r,new a(this,t))}):"string"==typeof t&&"_"!==t[0]&&"init"!==t?this.each(function(){var n=e.data(this,"plugin_"+r);n instanceof a&&"function"==typeof n[t]&&n[t].apply(n,Array.prototype.slice.call(i,1))}):void 0}}),function(){var e;e={set:function(e){return document.title="ArtStation - "+e}},window.DocumentTitle=e}.call(this),angular.module("froala",[]).value("froalaConfig",{}).directive("froala",["froalaConfig",function(e){"use strict";var t=0,i={immediateAngularModelUpdate:!1},n={froalaOptions:"=froala",initFunction:"&froalaInit"};e=e||{};var s="manual",a="automatic";return{restrict:"A",require:"ngModel",scope:n,link:function(n,r,o,l){var c={editorInitialized:!1};if(n.initMode=o.froalaInit?s:a,c.init=function(){o.id||o.$set("id","froala-"+t++),n.initMode===a&&c.createEditor(),l.$render=function(){c.editorInitialized&&(r.froalaEditor("html.set",l.$viewValue||"",!0),r.froalaEditor("undo.reset"),r.froalaEditor("undo.saveStep"))},l.$isEmpty=function(e){if(!e)return!0;var t=r.froalaEditor("node.isEmpty",jQuery("<div>"+e+"</div>").get(0));return t}},c.createEditor=function(t){if(c.listeningEvents=["froalaEditor"],!c.editorInitialized){t=t||{},c.options=angular.extend({},i,e,n.froalaOptions,t),c.options.immediateAngularModelUpdate&&c.listeningEvents.push("keyup"),c.registerEventsWithCallbacks("froalaEditor.initialized",function(){c.editorInitialized=!0,l.$render()});for(var s in c.options.events)c.options.events.hasOwnProperty(s)&&c.registerEventsWithCallbacks(s,c.options.events[s]);c.froalaElement=r.froalaEditor(c.options).data("froala.editor").$el,c.froalaEditor=angular.bind(r,r.froalaEditor),c.initListeners(),n.froalaOptions&&(n.froalaOptions.froalaEditor=c.froalaEditor)}},c.initListeners=function(){c.options.immediateAngularModelUpdate&&c.froalaElement.on("keyup",function(){n.$evalAsync(c.updateModelView)}),r.on("froalaEditor.contentChanged",function(){n.$evalAsync(c.updateModelView)}),n.$on("$destroy",function(){r.off(c.listeningEvents.join(" ")),r.froalaEditor("destroy")})},c.updateModelView=function(){var e=r.froalaEditor("html.get");angular.isString(e)&&(l.$setViewValue(e),n.$root.$$phase||n.$apply())},c.registerEventsWithCallbacks=function(e,t){e&&t&&(c.listeningEvents.push(e),r.on(e,t))},n.initMode===s){var d=c,u={initialize:c.createEditor,destroy:function(){d.froalaEditor&&(d.froalaEditor("destroy"),d.editorInitialized=!1)},getEditor:function(){return d.froalaEditor?d.froalaEditor:null}};n.initFunction({initControls:u})}c.init()}}}]).directive("froalaView",["$sce",function(e){return{restrict:"ACM",scope:!1,link:function(t,i,n){i.addClass("fr-view"),t.$watch(n.froalaView,function(t){if(t||""===t){var n=e.trustAsHtml(t);i.html(n.toString())}})}}}]),function(){window.app=angular.module("app",["ngRoute","ngCookies","ngResource","ngSanitize","infinite-scroll","templates","ui.unique","truncate","ui.sortable.rails","ngMessages","smart","froala"]),window.app.factory("errorHandlerInjector",["$q","$window",function(e,t){return{responseError:function(i){return i.config.ignore_errors?e.reject(i):(404===i.status&&(t.location.href="/404"),429===i.status&&Flash.error("Too many requests, please try again later."),e.reject(i))}}}]),window.app.config(["$httpProvider",function(e){var t;return t=$('meta[name="csrf-token"]').attr("content"),e.defaults.headers.common["X-CSRF-TOKEN"]=t,e.interceptors.push("errorHandlerInjector")}]),window.app.config(["$locationProvider",function(e){return e.html5Mode(!0),window.history?void 0:e.hashPrefix("!")}]),window.app.config(["$compileProvider",function(e){return e.debugInfoEnabled(window.angular_debug_enabled)}]),window.app.filter("trustAsHtml",["$sce",function(e){return e.trustAsHtml}]),window.app.config(["$sceDelegateProvider",function(e){return e.resourceUrlWhitelist(["self","https://sketchfab.com/models/**"])}]),window.app.filter("fromNow",function(){return function(e){return moment(e).fromNow()}}),window.app.filter("moment",function(){return function(e,t){return moment(e).format(t)}}),window.app.filter("unescapeHTML",["$sce",function(e){return function(t){return e.trustAsHtml(window.defaultSanitizer.unescapeHTML(t))}}]),window.app.filter("asMessageTimestamp",function(){return function(e){var t;return t=new Date,e=moment(e),e.isSame(t,"day")?e.format("hh:mmA"):e.isSame(moment(t).subtract(1,"day"),"day")?"Yesterday, "+e.format("hh:mmA"):e.format(e.isSameOrAfter(moment(t).subtract(1,"week"),"day")?"dddd, hh:mmA":e.isSame(t,"year")?"D MMM, hh:mmA":"D MMM YYYY, hh:mmA")}}),window.app.run(["$route","$rootScope","$location",function(e,t,i){var n;return n=i.path,i.path=function(s,a){var r,o;return a===!1&&(r=e.current,o=t.$on("$locationChangeSuccess",function(){return e.current=r,o()})),n.apply(i,[s])}}]),window.app.run(["$rootScope","$route","$location","$window",function(e,t,i,n){return e.location=i,e.ng_version=null,e.$on("$locationChangeStart",function(t,i){return $.get("ng-version.txt",function(t){return e.ng_version&&e.ng_version!==t?n.location.href=i:e.ng_version=t})}),e.$on("$routeChangeSuccess",function(){return e.bodyClass=t.current.controller})}])}.call(this),function(){window.app.config(["$routeProvider",function(e){var t;return t=function(e){var t,i,n;return i=window.locale,n=e.split("."),t=n.length-2,n[t]=n[t]+"-"+i,n.join(".")},e.when("/",{templateUrl:t("community/artwork.html"),controller:"ArtworkController",reloadOnSearch:!1}).when("/search",{templateUrl:t("community/search_projects.html"),controller:"SearchProjectsController",reloadOnSearch:!1}).when("/artists",{templateUrl:t("community/search_users.html"),controller:"SearchUsersController",reloadOnSearch:!1}).when("/artwork",{templateUrl:t("community/artwork.html"),controller:"ArtworkController",reloadOnSearch:!1}).when("/artwork/:id",{templateUrl:t("community/project.html"),controller:"ProjectController"}).when("/activity",{templateUrl:t("community/activity/feed_list.html"),controller:"Activity2Controller"}).when("/artist/artists",{redirectTo:"/artistsentertainment"}).when("/artist/robots",{redirectTo:"/robots_r4"}).when("/artist/:username",{templateUrl:t("community/artist.html"),controller:"ArtistController"}).when("/artist/:username/collections/likes",{templateUrl:t("community/artist_likes.html"),controller:"ArtistLikesController"}).when("/artist/:username/collections/:id",{templateUrl:t("community/collection.html"),controller:"CollectionController"}).when("/artist/:username/collections",{templateUrl:t("community/collections.html"),controller:"CollectionsController"}).when("/artist/:username/connections",{templateUrl:t("community/connections.html"),controller:"ConnectionsController"}).when("/artist/:username/connections/:action",{templateUrl:t("community/connections.html"),controller:"ConnectionsController",reloadOnSearch:!1}).when("/artist/:username/:action",{templateUrl:t("community/artist.html"),controller:"ArtistController"}).when("/artist/:username/:action/:item_id",{templateUrl:t("community/artist.html"),controller:"ArtistController"}).when("/contests",{templateUrl:t("contests/contests/index.html"),controller:"ContestsIndexController"}).when("/contests/archive",{templateUrl:t("contests/contests/archive.html"),controller:"ContestsArchiveController"}).when("/contests/:contest_slug",{templateUrl:t("contests/contests/show.html"),controller:"ContestsShowController"}).when("/contests/:contest_slug/challenges/:challenge_id",{templateUrl:t("contests/challenges/show.html"),controller:"ChallengesShowController",reloadOnSearch:!1}).when("/contests/:contest_slug/challenges/:challenge_id/edit",{}).when("/contests/:contest_slug/challenges/:challenge_id/manage-announcements",{}).when("/contests/:contest_slug/challenges/:challenge_id/manage-announcements/new",{}).when("/contests/:contest_slug/challenges/:challenge_id/manage-announcements/:id/edit",{}).when("/contests/:contest_slug/challenges/:challenge_id/managers",{}).when("/contests/:contest_slug/challenges/:challenge_id/judging",{templateUrl:"contests/judging/index.html",controller:"JudgingIndexController"}).when("/contests/:contest_slug/challenges/:challenge_id/judging/submissions/:submission_id",{templateUrl:"contests/judging/index.html",controller:"JudgingIndexController"}).when("/contests/:contest_slug/challenges/:challenge_id/judging/shortlist",{templateUrl:"contests/judging/shortlist.html",controller:"JudgingShortlistController"}).when("/contests/:contest_slug/challenges/:challenge_id/judging/shortlist/:submission_id",{templateUrl:"contests/judging/shortlist.html",controller:"JudgingShortlistController"}).when("/contests/:contest_slug/challenges/:challenge_id/judging/standings",{templateUrl:"contests/judging/standings.html",controller:"JudgingStandingsController"}).when("/contests/:contest_slug/challenges/:challenge_id/judging/standings/judge/:judge_id/:submission_id",{templateUrl:"contests/judging/standings.html",controller:"JudgingStandingsController"}).when("/contests/:contest_slug/challenges/:challenge_id/judging/standings/:submission_id",{templateUrl:"contests/judging/standings.html",controller:"JudgingStandingsController"}).when("/contests/:contest_slug/challenges/:challenge_id/judging/winners",{templateUrl:"contests/judging/winners.html",controller:"JudgingWinnersController"}).when("/contests/:contest_slug/challenges/:challenge_id/judging/winners/:submission_id",{templateUrl:"contests/judging/winners.html",controller:"JudgingWinnersController"}).when("/contests/:contest_slug/challenges/:challenge_id/:action",{templateUrl:t("contests/challenges/show.html"),controller:"ChallengesShowController",reloadOnSearch:!1}).when("/contests/:contest_slug/challenges/:challenge_id/submissions/new",{templateUrl:t("contests/submissions/new.html"),controller:"SubmissionsNewController"}).when("/contests/:contest_slug/challenges/:challenge_id/submissions/:submission_id",{templateUrl:t("contests/submissions/show.html"),controller:"SubmissionsShowController"}).when("/streams/:stream_id",{templateUrl:"community/streams/show.html",controller:"StreamsShowController"}).when("/shop",{templateUrl:t("marketplace/products/index.html"),controller:"ProductsIndexController",reloadOnSearch:!1}).when("/shop/:category_slug",{templateUrl:t("marketplace/products/index.html"),controller:"ProductsIndexController",reloadOnSearch:!1}).when("/shop/products/:product_slug",{templateUrl:t("marketplace/products/show.html"),controller:"ProductsShowController"}).when("/shop/vendor/:url",{templateUrl:t("marketplace/products/vendor.html"),controller:"ProductsVendorController",reloadOnSearch:!1}).when("/messages",{controller:"ChatController",templateUrl:"messages/index.html",reloadOnSearch:!1}).when("/messages/conversations/:id",{controller:"ChatController",templateUrl:"messages/index.html",reloadOnSearch:!1}).when("/:username",{templateUrl:t("community/artist.html"),controller:"ArtistController"}).when("/:username/collections/likes",{templateUrl:t("community/artist_likes.html"),controller:"ArtistLikesController"}).when("/:username/collections/:id",{templateUrl:t("community/collection.html"),controller:"CollectionController"}).when("/:username/collections",{templateUrl:t("community/collections.html"),controller:"CollectionsController"}).when("/:username/connections",{templateUrl:t("community/connections.html"),controller:"ConnectionsController"}).when("/:username/connections/:action",{templateUrl:t("community/connections.html"),controller:"ConnectionsController",reloadOnSearch:!1}).when("/:username/:action",{templateUrl:t("community/artist.html"),controller:"ArtistController"}).when("/:username/:action/:item_id",{templateUrl:t("community/artist.html"),controller:"ArtistController"})}])}.call(this),function(){var e;window.u=e={buildHashFromArray:function(e){var t;return t={},_.each(e,function(){return function(e){return t[e]=!0}}(this)),t},buildArrayFromHash:function(e){var t;return t=_.filter(_.pairs(e),function(e){return!!e[1]}),_.map(t,function(e){return e[0]})}}}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("community/activity-ru.html",'<div class="container"><div class="page-header"><h1><i class="fa icon-pulse fa-primary fa-pad-right"></i>\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c</h1></div></div><div class="container"><div class="activity-grid-row"><div class="activity-grid-aside-left"><div class="panel-user-profile-avatar-spacer"></div><user-self-summary data-user-summary="user_summary" ng-show="user_summary.loaded"></user-self-summary></div><div class="activity-grid-center" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="activity-items-empty" ng-if="feedsCollection.items.length == 0 &amp;&amp; !showLoadingIcon"><h2 class="text-center">\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!</h2><p class="lead text-center">Your activity feed is currently empty! Follow some artists to get started.</p><p class="lead text-center"><a href="/artwork?sorting=picks">Discover artists</a></p></div><div class="activity-item-container" ng-repeat="item in feedsCollection.items | unique:&#39;id&#39; track by item.id"><div class="activity-item" ng-if="item.for_submission_update"><div class="activity-heading"><activity-item-description feed-item="item"></activity-item-description></div><div class="clearfix"></div><div class="activity-body"><div class="activity-timeline-container"><div class="activity-item-panel"><div class="activity-item-description-container"><div class="activity-item-actions"><as-resource-actions target="item.submission_update" target-type=""></as-resource-actions></div><h3 class="activity-item-project-title">{{ item.submission_update.title | unescapeHTML}}<div class="byline">Posted by <a ng-href="/{{ item.user.username }}">{{ item.submission_update.user.full_name | unescapeHTML }} </a>{{ item.submission_update.created_at_ago }} ago</div></h3><div class="activity-item-html-content" ng-bind-html="item.submission_update.body_preview_html"></div><div class="separator"></div><div class="activity-item-social"><div class="btn-toolbar"><div class="btn-group"><a class="btn btn-sm btn-success btn-sm" ng-click="toggleLikeSubmissionUpdate(item.id)" ng-if="!item.submission_update.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</a><a class="btn btn-default btn-sm" ng-click="toggleLikeSubmissionUpdate(item.id)" ng-if="item.submission_update.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</a></div><div class="btn-group"><a class="btn btn-default btn-sm" href="/contests/{{ item.submission_update.submission.contest.slug }}/challenges/{{ item.submission_update.submission.challenge.id }}/submissions/{{ item.submission_update.submission.id }}"><i class="fa fa-pad-right fa-eye"></i>\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443</a></div></div><ul class="activity-item-project-stats"><li><i class="fa fa-eye fa-pad-right"></i>{{ item.submission_update.submission.views_count | number }}</li><li><i class="fa fa-thumbs-up fa-pad-right"></i>{{ item.submission_update.likes_count | number }}</li></ul></div><div class="clearfix"></div></div></div></div></div></div><div class="activity-item" ng-if="item.for_user || item.for_me"><div class="activity-heading"><activity-item-description feed-item="item"></activity-item-description></div><div class="clearfix"></div><div class="activity-body"><div class="activity-timeline-container"><div class="activity-item-panel"><a class="activity-item-user-container" ng-href="{{ item.user.artstation_profile_url }}" ng-style="{backgroundImage: &#39;url(&#39; + item.user.default_cover_url + &#39;)&#39;}"><div class="activity-item-user-info"><div class="avatar"><img ng-src="{{ item.user.large_avatar_url }}" /></div><div class="name">{{ item.user.full_name | unescapeHTML }}<div class="pro-badge" ng-if="item.user.pro_member">PRO</div><div class="staff-badge" ng-if="item.project.user.is_staff">STAFF</div></div><div class="headline" ng-bind-html="item.user.headline"></div><div class="location"><i class="fa icon-location fa-pad-right"></i><span ng-bind-html="item.user.location"></span></div></div></a><div class="activity-item-description-container"><div class="separator-sm"></div><div class="activity-item-social"><span ng-if="currentUser &amp;&amp; currentUser.id != item.user.id"><follow-button data-follow-template="follow_button_activity" user="item.user"></follow-button></span><ul class="activity-item-project-stats"><li><i class="fa fa-users fa-pad-right"></i>{{ item.user.followers_count | number }}</li><li><i class="fa fa-thumbs-up fa-pad-right"></i>{{item.user.projects_likes_count | number}}</li></ul></div><div class="separator-sm"></div><a class="activity-item-gallery" ng-href="/{{item.user.username}}"><ul><li ng-repeat="sample in item.user.sample_projects"><img ng-src="{{ sample.cover_url }}" /></li></ul></a></div></div></div></div></div><div class="activity-item" ng-if="item.for_project"><div class="activity-heading"><activity-item-description feed-item="item" feeds-collection="feedsCollection"></activity-item-description></div><div class="clearfix"></div><div class="activity-body"><div class="activity-timeline-container"><div class="activity-item-panel"><div class="activity-item-asset-container"><a artstation-open-feed-project="{{ item.id }}" class="asset" href="/artwork/{{ item.project.hash_id }}"><img class="img-responsive" ng-src="{{ item.project.cover.small_image_url }}" /></a><div class="activity-item-project-asset-count" ng-if="item.project.assets_count &gt; 1"><div class="counter"><div class="count">{{ item.project.assets_count }}</div><div class="assets">assets</div></div></div><ul class="activity-item-project-icons-list"><li ng-if="item.project.icons.model3d || item.project.icons.marmoset"><div class="icon-cube"></div></li><li ng-if="item.project.icons.video"><div class="icon-video-camera"></div></li><li ng-if="item.project.icons.pano"><div class="icon-pano"></div></li></ul></div><div class="separator-sm"></div><div class="activity-item-description-container"><div class="activity-item-actions"><as-resource-actions target="item.project" target-type="artwork"></as-resource-actions></div><div class="activity-item-user"><a class="activity-item-avatar" ng-href="{{ item.project.user.artstation_profile_url }}"><img ng-src="{{ item.project.user.medium_avatar_url }}" /></a><div class="activity-item-name"><a class="name" ng-href="{{ item.project.user.artstation_profile_url }}">{{ item.project.user.full_name | unescapeHTML }}</a><a class="pro-badge" href="/pro" ng-if="item.project.user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="item.project.user.is_staff" target="_top">STAFF</div><div class="headline" ng-bind-html="item.project.user.headline"></div></div><div class="clearfix"></div></div><div class="separator"></div><h3 class="activity-item-project-title" ng-bind-html="item.project.title"></h3><div class="activity-item-project-description" ng-bind-html="item.project.description"></div><div class="activity-item-project-timestamp">\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043e {{ item.project.published_at | fromNow }} </div><div class="separator"></div><div class="activity-item-social"><a class="btn btn-sm btn-success btn-sm" ng-click="toggleLike(item.id)" ng-if="!item.project.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</a><a class="btn btn-default btn-sm" ng-click="toggleLike(item.id)" ng-if="item.project.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</a><ul class="activity-item-project-stats"><li><i class="fa fa-eye fa-pad-right"></i>{{ item.project.views_count | number }}</li><li><i class="fa fa-thumbs-up fa-pad-right"></i>{{ item.project.likes_count | number }}</li><li><i class="fa fa-comment fa-pad-right"></i>{{ item.project.comments_count | number  }}</li></ul></div></div><div class="comments activity-feed-comments"><p class="text-center"><a class="load-more-comments" href="#" ng-click="loadMoreComments(item.id)" ng-hide="item.project.commentsCollection.isEnough()"><i class="fa fa-angle-up fa-pad-right"></i>Load <ng-pluralize count="item.project.commentsCollection.unloadedCount" when="{ &#39;1&#39;: &#39;1 older comment&#39;, &#39;other&#39;: &#39;{{ item.project.commentsCollection.unloadedCount }} older comments&#39; }"></ng-pluralize><i class="fa fa-angle-up fa-pad-left"></i></a></p><comments-list collection="item.project.commentsCollection"></comments-list></div><div class="activity-item-add-comment" ng-show="currentUser &amp;&amp; allowComment"><div class="activity-item-user"><a class="activity-item-avatar" ng-href="/{{currentUser.username}}"><img ng-src="{{ currentUser.avatar_url }}" /></a></div><div class="activity-item-add-comment-form-group" ng-class="{ &#39;has-error&#39;: item.project.commentError }"><textarea artstation-textarea-on-return="createComment(item.id)" class="form-control" ng-model="item.project.newCommentText" placeholder="\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439..."></textarea><div class="help-block" ng-show="item.project.commentError"><span ng-bind="item.project.commentError"></span></div><div class="separator-sm"></div><a class="btn btn-primary btn-sm" ng-click="createComment(item.id)" ng-disabled="emptyCommentText(item.project)" ng-href="#"><i class="fa fa-comment fa-pad-right"></i>\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439</a></div></div></div></div></div></div></div><loading-spinner ng-if="showLoadingIcon"></loading-spinner></div><div class="activity-grid-aside-right"><aside class="activity-sidebar-section"><div class="sidebar-section-heading"><h4>\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u043e\u0435</h4></div><div class="sidebar-section-body"><a class="featured-item" ng-href="{{ item.url }}" ng-repeat="item in top_row_items" target="{{ item.is_target_blank ? &#39;_blank&#39; : (item.is_target_top ? &#39;_top&#39; : &#39;&#39;) }}"><div class="overlay"><div class="featured-item-info"><div class="featured-item-title">{{ item.title }}</div><div class="featured-item-description">{{ item.description }}</div></div></div><img class="img-responsive" ng-src="{{ item.image_url }}" /></a></div></aside><div class="separator"></div><aside class="activity-sidebar-section"><div class="sidebar-section-heading"><h4>\u041d\u043e\u0432\u044b\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438</h4></div><div class="sidebar-section-body"><a class="job-item" ng-href="/jobs/{{ item.hash_id }}" ng-repeat="item in featured_jobs track by item.id" target="_self"><img class="job-logo" ng-src="{{ item.thumb_url }}" /><div class="job-info"><div class="job-title" ng-bind-html="item.title"></div><div class="job-company" ng-bind-html="item.company_name"></div><div class="job-location"><i class="fa icon-location fa-pad-right"></i>{{ item.location_formatted }}</div></div></a><a href="/jobs" target="_top">\u0412\u0441\u0435 \u0440\u0430\u0431\u043e\u0442\u044b</a></div></aside><div class="separator"></div></div></div></div><abuse-report-modal ng-if="currentUser"></abuse-report-modal>'),e.put("community/activity-en.html",'<div class="container"><div class="page-header"><h1><i class="fa icon-pulse fa-primary fa-pad-right"></i>Activity</h1></div></div><div class="container"><div class="activity-grid-row"><div class="activity-grid-aside-left"><div class="panel-user-profile-avatar-spacer"></div><user-self-summary data-user-summary="user_summary" ng-show="user_summary.loaded"></user-self-summary></div><div class="activity-grid-center" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="activity-items-empty" ng-if="feedsCollection.items.length == 0 &amp;&amp; !showLoadingIcon"><h2 class="text-center">Welcome!</h2><p class="lead text-center">Your activity feed is currently empty! Follow some artists to get started.</p><p class="lead text-center"><a href="/artwork?sorting=picks">Discover artists</a></p></div><div class="activity-item-container" ng-repeat="item in feedsCollection.items | unique:&#39;id&#39; track by item.id"><div class="activity-item" ng-if="item.for_submission_update"><div class="activity-heading"><activity-item-description feed-item="item"></activity-item-description></div><div class="clearfix"></div><div class="activity-body"><div class="activity-timeline-container"><div class="activity-item-panel"><div class="activity-item-description-container"><div class="activity-item-actions"><as-resource-actions target="item.submission_update" target-type=""></as-resource-actions></div><h3 class="activity-item-project-title">{{ item.submission_update.title | unescapeHTML}}<div class="byline">Posted by <a ng-href="/{{ item.user.username }}">{{ item.submission_update.user.full_name | unescapeHTML }} </a>{{ item.submission_update.created_at_ago }} ago</div></h3><div class="activity-item-html-content" ng-bind-html="item.submission_update.body_preview_html"></div><div class="separator"></div><div class="activity-item-social"><div class="btn-toolbar"><div class="btn-group"><a class="btn btn-sm btn-success btn-sm" ng-click="toggleLikeSubmissionUpdate(item.id)" ng-if="!item.submission_update.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>Like</a><a class="btn btn-default btn-sm" ng-click="toggleLikeSubmissionUpdate(item.id)" ng-if="item.submission_update.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>Liked</a></div><div class="btn-group"><a class="btn btn-default btn-sm" href="/contests/{{ item.submission_update.submission.contest.slug }}/challenges/{{ item.submission_update.submission.challenge.id }}/submissions/{{ item.submission_update.submission.id }}"><i class="fa fa-pad-right fa-eye"></i>View Submission</a></div></div><ul class="activity-item-project-stats"><li><i class="fa fa-eye fa-pad-right"></i>{{ item.submission_update.submission.views_count | number }}</li><li><i class="fa fa-thumbs-up fa-pad-right"></i>{{ item.submission_update.likes_count | number }}</li></ul></div><div class="clearfix"></div></div></div></div></div></div><div class="activity-item" ng-if="item.for_user || item.for_me"><div class="activity-heading"><activity-item-description feed-item="item"></activity-item-description></div><div class="clearfix"></div><div class="activity-body"><div class="activity-timeline-container"><div class="activity-item-panel"><a class="activity-item-user-container" ng-href="{{ item.user.artstation_profile_url }}" ng-style="{backgroundImage: &#39;url(&#39; + item.user.default_cover_url + &#39;)&#39;}"><div class="activity-item-user-info"><div class="avatar"><img ng-src="{{ item.user.large_avatar_url }}" /></div><div class="name">{{ item.user.full_name | unescapeHTML }}<div class="pro-badge" ng-if="item.user.pro_member">PRO</div><div class="staff-badge" ng-if="item.project.user.is_staff">STAFF</div></div><div class="headline" ng-bind-html="item.user.headline"></div><div class="location"><i class="fa icon-location fa-pad-right"></i><span ng-bind-html="item.user.location"></span></div></div></a><div class="activity-item-description-container"><div class="separator-sm"></div><div class="activity-item-social"><span ng-if="currentUser &amp;&amp; currentUser.id != item.user.id"><follow-button data-follow-template="follow_button_activity" user="item.user"></follow-button></span><ul class="activity-item-project-stats"><li><i class="fa fa-users fa-pad-right"></i>{{ item.user.followers_count | number }}</li><li><i class="fa fa-thumbs-up fa-pad-right"></i>{{item.user.projects_likes_count | number}}</li></ul></div><div class="separator-sm"></div><a class="activity-item-gallery" ng-href="/{{item.user.username}}"><ul><li ng-repeat="sample in item.user.sample_projects"><img ng-src="{{ sample.cover_url }}" /></li></ul></a></div></div></div></div></div><div class="activity-item" ng-if="item.for_project"><div class="activity-heading"><activity-item-description feed-item="item" feeds-collection="feedsCollection"></activity-item-description></div><div class="clearfix"></div><div class="activity-body"><div class="activity-timeline-container"><div class="activity-item-panel"><div class="activity-item-asset-container"><a artstation-open-feed-project="{{ item.id }}" class="asset" href="/artwork/{{ item.project.hash_id }}"><img class="img-responsive" ng-src="{{ item.project.cover.small_image_url }}" /></a><div class="activity-item-project-asset-count" ng-if="item.project.assets_count &gt; 1"><div class="counter"><div class="count">{{ item.project.assets_count }}</div><div class="assets">assets</div></div></div><ul class="activity-item-project-icons-list"><li ng-if="item.project.icons.model3d || item.project.icons.marmoset"><div class="icon-cube"></div></li><li ng-if="item.project.icons.video"><div class="icon-video-camera"></div></li><li ng-if="item.project.icons.pano"><div class="icon-pano"></div></li></ul></div><div class="separator-sm"></div><div class="activity-item-description-container"><div class="activity-item-actions"><as-resource-actions target="item.project" target-type="artwork"></as-resource-actions></div><div class="activity-item-user"><a class="activity-item-avatar" ng-href="{{ item.project.user.artstation_profile_url }}"><img ng-src="{{ item.project.user.medium_avatar_url }}" /></a><div class="activity-item-name"><a class="name" ng-href="{{ item.project.user.artstation_profile_url }}">{{ item.project.user.full_name | unescapeHTML }}</a><a class="pro-badge" href="/pro" ng-if="item.project.user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="item.project.user.is_staff" target="_top">STAFF</div><div class="headline" ng-bind-html="item.project.user.headline"></div></div><div class="clearfix"></div></div><div class="separator"></div><h3 class="activity-item-project-title" ng-bind-html="item.project.title"></h3><div class="activity-item-project-description" ng-bind-html="item.project.description"></div><div class="activity-item-project-timestamp">Posted {{ item.project.published_at | fromNow }} </div><div class="separator"></div><div class="activity-item-social"><a class="btn btn-sm btn-success btn-sm" ng-click="toggleLike(item.id)" ng-if="!item.project.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>Like</a><a class="btn btn-default btn-sm" ng-click="toggleLike(item.id)" ng-if="item.project.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>Liked</a><ul class="activity-item-project-stats"><li><i class="fa fa-eye fa-pad-right"></i>{{ item.project.views_count | number }}</li><li><i class="fa fa-thumbs-up fa-pad-right"></i>{{ item.project.likes_count | number }}</li><li><i class="fa fa-comment fa-pad-right"></i>{{ item.project.comments_count | number  }}</li></ul></div></div><div class="comments activity-feed-comments"><p class="text-center"><a class="load-more-comments" href="#" ng-click="loadMoreComments(item.id)" ng-hide="item.project.commentsCollection.isEnough()"><i class="fa fa-angle-up fa-pad-right"></i>Load <ng-pluralize count="item.project.commentsCollection.unloadedCount" when="{ &#39;1&#39;: &#39;1 older comment&#39;, &#39;other&#39;: &#39;{{ item.project.commentsCollection.unloadedCount }} older comments&#39; }"></ng-pluralize><i class="fa fa-angle-up fa-pad-left"></i></a></p><comments-list collection="item.project.commentsCollection"></comments-list></div><div class="activity-item-add-comment" ng-show="currentUser &amp;&amp; allowComment"><div class="activity-item-user"><a class="activity-item-avatar" ng-href="/{{currentUser.username}}"><img ng-src="{{ currentUser.avatar_url }}" /></a></div><div class="activity-item-add-comment-form-group" ng-class="{ &#39;has-error&#39;: item.project.commentError }"><textarea artstation-textarea-on-return="createComment(item.id)" class="form-control" ng-model="item.project.newCommentText" placeholder="Write a comment..."></textarea><div class="help-block" ng-show="item.project.commentError"><span ng-bind="item.project.commentError"></span></div><div class="separator-sm"></div><a class="btn btn-primary btn-sm" ng-click="createComment(item.id)" ng-disabled="emptyCommentText(item.project)" ng-href="#"><i class="fa fa-comment fa-pad-right"></i>Post comment</a></div></div></div></div></div></div></div><loading-spinner ng-if="showLoadingIcon"></loading-spinner></div><div class="activity-grid-aside-right"><aside class="activity-sidebar-section"><div class="sidebar-section-heading"><h4>Featured</h4></div><div class="sidebar-section-body"><a class="featured-item" ng-href="{{ item.url }}" ng-repeat="item in top_row_items" target="{{ item.is_target_blank ? &#39;_blank&#39; : (item.is_target_top ? &#39;_top&#39; : &#39;&#39;) }}"><div class="overlay"><div class="featured-item-info"><div class="featured-item-title">{{ item.title }}</div><div class="featured-item-description">{{ item.description }}</div></div></div><img class="img-responsive" ng-src="{{ item.image_url }}" /></a></div></aside><div class="separator"></div><aside class="activity-sidebar-section"><div class="sidebar-section-heading"><h4>Latest Industry Jobs</h4></div><div class="sidebar-section-body"><a class="job-item" ng-href="/jobs/{{ item.hash_id }}" ng-repeat="item in featured_jobs track by item.id" target="_self"><img class="job-logo" ng-src="{{ item.thumb_url }}" /><div class="job-info"><div class="job-title" ng-bind-html="item.title"></div><div class="job-company" ng-bind-html="item.company_name"></div><div class="job-location"><i class="fa icon-location fa-pad-right"></i>{{ item.location_formatted }}</div></div></a><a href="/jobs" target="_top">All jobs</a></div></aside><div class="separator"></div></div></div></div><abuse-report-modal ng-if="currentUser"></abuse-report-modal>'),e.put("community/activity.html",e.get("community/activity-en.html"))
}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/activity/feed_list-ru.html",'<div class="container"><div class="page-header"><h1><i class="fa icon-pulse fa-primary fa-pad-right"></i>\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c</h1></div></div><div class="container"><div class="activity-grid-row"><div class="activity-grid-aside-left"><div class="panel-user-profile-avatar-spacer"></div><user-self-summary data-user-summary="user_summary" ng-show="user_summary.loaded"></user-self-summary></div><div class="activity-grid-center" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="activity-items-empty" ng-if="feedsCollection.items.length == 0 &amp;&amp; !showLoadingIcon"><h2 class="text-center">\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!</h2><p class="lead text-center">Your activity feed is currently empty! Follow some artists to get started.</p><p class="lead text-center"><a href="/artwork?sorting=picks">Discover artists</a></p></div><div class="activity-item-container" ng-repeat="item in feedsCollection.items | unique:&#39;id&#39; track by item.id"><div class="activity-item" ng-if="item.isSubmissionUpdateLiked"><div class="activity-heading"><last-actors-for-feed feed-item="item" feeds-collection="feedsCollection"></last-actors-for-feed></div><div class="clearfix"></div><div class="activity-body"><div class="activity-timeline-container"><div class="activity-item-panel"><div class="activity-item-description-container"><div class="activity-item-actions"><as-resource-actions target="item.submissionUpdate" target-type=""></as-resource-actions></div><h3 class="activity-item-project-title">{{ item.submissionUpdate.title | unescapeHTML }}<div class="byline">\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043b(\u0430) <a ng-href="{{ item.submissionUpdate.user.artstation_profile_url }}">{{ item.submissionUpdate.user.full_name | unescapeHTML }} </a>{{ item.submissionUpdate.created_at_ago }} \u043d\u0430\u0437\u0430\u0434</div></h3><div class="activity-item-html-content" ng-bind-html="item.submissionUpdate.body_preview"></div><div class="separator"></div><div class="activity-item-social"><div class="btn-toolbar"><div class="btn-group"><a class="btn btn-sm btn-success btn-sm" ng-click="toggleLikeSubmissionUpdate(item.id)" ng-if="!item.submissionUpdate.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</a><a class="btn btn-default btn-sm" ng-click="toggleLikeSubmissionUpdate(item.id)" ng-if="item.submissionUpdate.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</a></div><div class="btn-group"><a class="btn btn-default btn-sm" href="{{ item.submissionUpdate.submission.url }}"><i class="fa fa-pad-right fa-eye"></i>\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443</a></div></div><ul class="activity-item-project-stats"><li><i class="fa fa-eye fa-pad-right"></i>{{ item.submissionUpdate.submission.views_count | number }}</li><li><i class="fa fa-thumbs-up fa-pad-right"></i>{{ item.submissionUpdate.likes_count | number }}</li></ul></div><div class="clearfix"></div></div></div></div></div></div><div class="activity-item" ng-if="item.isFollower"><div class="activity-heading"><last-actors-for-feed feed-item="item" feeds-collection="feedsCollection"></last-actors-for-feed></div><div class="clearfix"></div><div class="activity-body"><div class="activity-timeline-container"><div class="activity-item-panel"><a class="activity-item-user-container" ng-href="{{ item.user.artstation_profile_url }}" ng-style="{backgroundImage: &#39;url(&#39; + item.user.default_cover_url + &#39;)&#39;}"><div class="activity-item-user-info"><div class="avatar"><img ng-src="{{ item.user.large_avatar_url }}" /></div><div class="name">{{ item.user.full_name | unescapeHTML }}<div class="pro-badge" ng-if="item.user.pro_member">PRO</div></div><div class="headline" ng-bind-html="item.user.headline"></div><div class="location"><i class="fa icon-location fa-pad-right"></i><span ng-bind-html="item.user.location"></span></div></div></a><div class="activity-item-description-container"><div class="separator-sm"></div><div class="activity-item-social"><span ng-if="currentUser &amp;&amp; currentUser.id != item.user.id"><follow-button data-follow-template="follow_button_activity" user="item.user"></follow-button></span><ul class="activity-item-project-stats"><li><i class="fa fa-users fa-pad-right"></i>{{ item.user.followers_count | number }}</li><li><i class="fa fa-thumbs-up fa-pad-right"></i>{{item.user.project_likes_count | number}}</li></ul></div><div class="separator-sm"></div><a class="activity-item-gallery" ng-href="/{{item.user.username}}"><ul><li ng-repeat="sample in item.user.sample_projects"><img ng-src="{{ sample.cover_url }}" /></li></ul></a></div></div></div></div></div><div class="activity-item" ng-if="item.isProject"><div class="activity-heading"><last-actors-for-feed feed-item="item" feeds-collection="feedsCollection"></last-actors-for-feed></div><div class="clearfix"></div><div class="activity-body"><div class="activity-timeline-container"><div class="activity-item-panel"><div class="activity-item-asset-container"><a artstation-open-feed-project="{{ item.id }}" class="asset" href="{{ item.project.url }}"><img class="img-responsive" ng-src="{{ item.project.small_cover_url }}" /></a><div class="activity-item-project-asset-count" ng-if="item.project.asset_count &gt; 1"><div class="counter"><div class="count">{{ item.project.asset_count }}</div><div class="assets">assets</div></div></div><ul class="activity-item-project-icons-list"><li ng-if="item.project.icons.model3d || item.project.icons.marmoset"><div class="icon-cube"></div></li><li ng-if="item.project.icons.video"><div class="icon-video-camera"></div></li><li ng-if="item.project.icons.pano"><div class="icon-pano"></div></li></ul></div><div class="separator-sm"></div><div class="activity-item-description-container"><div class="activity-item-actions"><as-resource-actions target="item.project" target-type="artwork"></as-resource-actions></div><div class="activity-item-user"><a class="activity-item-avatar" ng-href="{{ item.project.user.artstation_profile_url }}"><img ng-src="{{ item.project.user.medium_avatar_url }}" /></a><div class="activity-item-name"><a class="name" ng-bind-html="item.project.user.full_name" ng-href="{{ item.project.user.artstation_profile_url }}"></a><a class="pro-badge" href="/pro" ng-if="item.project.user.pro_member" target="_top">PRO</a><div class="headline" ng-bind-html="item.project.user.headline"></div></div><div class="clearfix"></div></div><div class="separator"></div><h3 class="activity-item-project-title" ng-bind-html="item.project.title"></h3><div class="activity-item-project-description" ng-bind-html="item.project.description"></div><div class="activity-item-project-timestamp">\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043e {{ item.project.published_at | fromNow }} </div><div class="separator"></div><div class="activity-item-social"><a class="btn btn-sm btn-success btn-sm" ng-click="toggleLike(item.id)" ng-if="!item.project.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</a><a class="btn btn-default btn-sm" ng-click="toggleLike(item.id)" ng-if="item.project.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</a><ul class="activity-item-project-stats"><li><i class="fa fa-eye fa-pad-right"></i>{{ item.project.views_count | number }}</li><li><i class="fa fa-thumbs-up fa-pad-right"></i>{{ item.project.likes_count | number }}</li><li><i class="fa fa-comment fa-pad-right"></i>{{ item.project.comments.total_count | number  }}</li></ul></div></div><div class="comments activity-feed-comments"><p class="text-center"><a class="load-more-comments" href="#" ng-click="loadMoreComments(item.id)" ng-hide="item.project.commentsCollection.isEnough()"><i class="fa fa-angle-up fa-pad-right"></i>\u041f\u043e\u0434\u0433\u0440\u0443\u0437\u0438\u0442\u044c <ng-pluralize count="item.project.commentsCollection.unloadedCount" when="{ &#39;1&#39;: &#39;1 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439&#39;, &#39;\u0434\u0440\u0443\u0433\u0438\u0435&#39;: &#39;{{ item.project.commentsCollection.unloadedCount }} \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0445 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f(\u0435\u0432)&#39; }"></ng-pluralize><i class="fa fa-angle-up fa-pad-left"></i></a></p><comments-list collection="item.project.commentsCollection"></comments-list></div><div class="activity-item-add-comment" ng-show="currentUser &amp;&amp; allowComment"><div class="activity-item-user"><a class="activity-item-avatar" ng-href="/{{currentUser.username}}"><img ng-src="{{ currentUser.avatar_url }}" /></a></div><div class="activity-item-add-comment-form-group" ng-class="{ &#39;has-error&#39;: item.project.commentError }"><textarea artstation-textarea-on-return="createComment(item.id)" class="form-control" ng-model="item.project.newCommentText" placeholder="\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439..."></textarea><div class="help-block" ng-show="item.project.commentError"><span ng-bind="item.project.commentError"></span></div><div class="separator-sm"></div><a class="btn btn-primary btn-sm" ng-click="createComment(item.id)" ng-href="#"><i class="fa fa-comment fa-pad-right"></i>\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439</a></div></div></div></div></div></div></div><loading-spinner ng-if="showLoadingIcon"></loading-spinner></div><div class="activity-grid-aside-right"><aside class="activity-sidebar-section"><div class="sidebar-section-heading"><h4>\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u043e\u0435</h4></div><div class="sidebar-section-body"><a class="featured-item" ng-href="{{ item.url }}" ng-repeat="item in top_row_items" target="{{ item.is_target_blank ? &#39;_blank&#39; : (item.is_target_top ? &#39;_top&#39; : &#39;&#39;) }}"><div class="overlay"><div class="featured-item-info"><div class="featured-item-title">{{ item.title }}</div><div class="featured-item-description">{{ item.description }}</div></div></div><img class="img-responsive" ng-src="{{ item.image_url }}" /></a></div></aside><div class="separator"></div><aside class="activity-sidebar-section"><div class="sidebar-section-heading"><h4>\u041d\u043e\u0432\u044b\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438</h4></div><div class="sidebar-section-body"><a class="job-item" ng-href="/jobs/{{ item.hash_id }}" ng-repeat="item in featured_jobs track by item.id" target="_self"><img class="job-logo" ng-src="{{ item.thumb_url }}" /><div class="job-info"><div class="job-title" ng-bind-html="item.title"></div><div class="job-company" ng-bind-html="item.company_name"></div><div class="job-location"><i class="fa icon-location fa-pad-right"></i>{{ item.location_formatted }}</div></div></a><a href="/jobs" target="_top">\u0412\u0441\u0435 \u0440\u0430\u0431\u043e\u0442\u044b</a></div></aside><div class="separator"></div></div></div></div><abuse-report-modal ng-if="currentUser"></abuse-report-modal><block-user-modal ng-if="currentUser"></block-user-modal>'),e.put("community/activity/feed_list-en.html",'<div class="container"><div class="page-header"><h1><i class="fa icon-pulse fa-primary fa-pad-right"></i>Activity</h1></div></div><div class="container"><div class="activity-grid-row"><div class="activity-grid-aside-left"><div class="panel-user-profile-avatar-spacer"></div><user-self-summary data-user-summary="user_summary" ng-show="user_summary.loaded"></user-self-summary></div><div class="activity-grid-center" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="activity-items-empty" ng-if="feedsCollection.items.length == 0 &amp;&amp; !showLoadingIcon"><h2 class="text-center">Welcome!</h2><p class="lead text-center">Your activity feed is currently empty! Follow some artists to get started.</p><p class="lead text-center"><a href="/artwork?sorting=picks">Discover artists</a></p></div><div class="activity-item-container" ng-repeat="item in feedsCollection.items | unique:&#39;id&#39; track by item.id"><div class="activity-item" ng-if="item.isSubmissionUpdateLiked"><div class="activity-heading"><last-actors-for-feed feed-item="item" feeds-collection="feedsCollection"></last-actors-for-feed></div><div class="clearfix"></div><div class="activity-body"><div class="activity-timeline-container"><div class="activity-item-panel"><div class="activity-item-description-container"><div class="activity-item-actions"><as-resource-actions target="item.submissionUpdate" target-type=""></as-resource-actions></div><h3 class="activity-item-project-title">{{ item.submissionUpdate.title | unescapeHTML }}<div class="byline">Posted by <a ng-href="{{ item.submissionUpdate.user.artstation_profile_url }}">{{ item.submissionUpdate.user.full_name | unescapeHTML }} </a>{{ item.submissionUpdate.created_at_ago }} ago</div></h3><div class="activity-item-html-content" ng-bind-html="item.submissionUpdate.body_preview"></div><div class="separator"></div><div class="activity-item-social"><div class="btn-toolbar"><div class="btn-group"><a class="btn btn-sm btn-success btn-sm" ng-click="toggleLikeSubmissionUpdate(item.id)" ng-if="!item.submissionUpdate.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>Like</a><a class="btn btn-default btn-sm" ng-click="toggleLikeSubmissionUpdate(item.id)" ng-if="item.submissionUpdate.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>Liked</a></div><div class="btn-group"><a class="btn btn-default btn-sm" href="{{ item.submissionUpdate.submission.url }}"><i class="fa fa-pad-right fa-eye"></i>View Submission</a></div></div><ul class="activity-item-project-stats"><li><i class="fa fa-eye fa-pad-right"></i>{{ item.submissionUpdate.submission.views_count | number }}</li><li><i class="fa fa-thumbs-up fa-pad-right"></i>{{ item.submissionUpdate.likes_count | number }}</li></ul></div><div class="clearfix"></div></div></div></div></div></div><div class="activity-item" ng-if="item.isFollower"><div class="activity-heading"><last-actors-for-feed feed-item="item" feeds-collection="feedsCollection"></last-actors-for-feed></div><div class="clearfix"></div><div class="activity-body"><div class="activity-timeline-container"><div class="activity-item-panel"><a class="activity-item-user-container" ng-href="{{ item.user.artstation_profile_url }}" ng-style="{backgroundImage: &#39;url(&#39; + item.user.default_cover_url + &#39;)&#39;}"><div class="activity-item-user-info"><div class="avatar"><img ng-src="{{ item.user.large_avatar_url }}" /></div><div class="name">{{ item.user.full_name | unescapeHTML }}<div class="pro-badge" ng-if="item.user.pro_member">PRO</div></div><div class="headline" ng-bind-html="item.user.headline"></div><div class="location"><i class="fa icon-location fa-pad-right"></i><span ng-bind-html="item.user.location"></span></div></div></a><div class="activity-item-description-container"><div class="separator-sm"></div><div class="activity-item-social"><span ng-if="currentUser &amp;&amp; currentUser.id != item.user.id"><follow-button data-follow-template="follow_button_activity" user="item.user"></follow-button></span><ul class="activity-item-project-stats"><li><i class="fa fa-users fa-pad-right"></i>{{ item.user.followers_count | number }}</li><li><i class="fa fa-thumbs-up fa-pad-right"></i>{{item.user.project_likes_count | number}}</li></ul></div><div class="separator-sm"></div><a class="activity-item-gallery" ng-href="/{{item.user.username}}"><ul><li ng-repeat="sample in item.user.sample_projects"><img ng-src="{{ sample.cover_url }}" /></li></ul></a></div></div></div></div></div><div class="activity-item" ng-if="item.isProject"><div class="activity-heading"><last-actors-for-feed feed-item="item" feeds-collection="feedsCollection"></last-actors-for-feed></div><div class="clearfix"></div><div class="activity-body"><div class="activity-timeline-container"><div class="activity-item-panel"><div class="activity-item-asset-container"><a artstation-open-feed-project="{{ item.id }}" class="asset" href="{{ item.project.url }}"><img class="img-responsive" ng-src="{{ item.project.small_cover_url }}" /></a><div class="activity-item-project-asset-count" ng-if="item.project.asset_count &gt; 1"><div class="counter"><div class="count">{{ item.project.asset_count }}</div><div class="assets">assets</div></div></div><ul class="activity-item-project-icons-list"><li ng-if="item.project.icons.model3d || item.project.icons.marmoset"><div class="icon-cube"></div></li><li ng-if="item.project.icons.video"><div class="icon-video-camera"></div></li><li ng-if="item.project.icons.pano"><div class="icon-pano"></div></li></ul></div><div class="separator-sm"></div><div class="activity-item-description-container"><div class="activity-item-actions"><as-resource-actions target="item.project" target-type="artwork"></as-resource-actions></div><div class="activity-item-user"><a class="activity-item-avatar" ng-href="{{ item.project.user.artstation_profile_url }}"><img ng-src="{{ item.project.user.medium_avatar_url }}" /></a><div class="activity-item-name"><a class="name" ng-bind-html="item.project.user.full_name" ng-href="{{ item.project.user.artstation_profile_url }}"></a><a class="pro-badge" href="/pro" ng-if="item.project.user.pro_member" target="_top">PRO</a><div class="headline" ng-bind-html="item.project.user.headline"></div></div><div class="clearfix"></div></div><div class="separator"></div><h3 class="activity-item-project-title" ng-bind-html="item.project.title"></h3><div class="activity-item-project-description" ng-bind-html="item.project.description"></div><div class="activity-item-project-timestamp">Posted {{ item.project.published_at | fromNow }} </div><div class="separator"></div><div class="activity-item-social"><a class="btn btn-sm btn-success btn-sm" ng-click="toggleLike(item.id)" ng-if="!item.project.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>Like</a><a class="btn btn-default btn-sm" ng-click="toggleLike(item.id)" ng-if="item.project.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>Liked</a><ul class="activity-item-project-stats"><li><i class="fa fa-eye fa-pad-right"></i>{{ item.project.views_count | number }}</li><li><i class="fa fa-thumbs-up fa-pad-right"></i>{{ item.project.likes_count | number }}</li><li><i class="fa fa-comment fa-pad-right"></i>{{ item.project.comments.total_count | number  }}</li></ul></div></div><div class="comments activity-feed-comments"><p class="text-center"><a class="load-more-comments" href="#" ng-click="loadMoreComments(item.id)" ng-hide="item.project.commentsCollection.isEnough()"><i class="fa fa-angle-up fa-pad-right"></i>Load <ng-pluralize count="item.project.commentsCollection.unloadedCount" when="{ &#39;1&#39;: &#39;1 older comment&#39;, &#39;other&#39;: &#39;{{ item.project.commentsCollection.unloadedCount }} older comments&#39; }"></ng-pluralize><i class="fa fa-angle-up fa-pad-left"></i></a></p><comments-list collection="item.project.commentsCollection"></comments-list></div><div class="activity-item-add-comment" ng-show="currentUser &amp;&amp; allowComment"><div class="activity-item-user"><a class="activity-item-avatar" ng-href="/{{currentUser.username}}"><img ng-src="{{ currentUser.avatar_url }}" /></a></div><div class="activity-item-add-comment-form-group" ng-class="{ &#39;has-error&#39;: item.project.commentError }"><textarea artstation-textarea-on-return="createComment(item.id)" class="form-control" ng-model="item.project.newCommentText" placeholder="Write a comment..."></textarea><div class="help-block" ng-show="item.project.commentError"><span ng-bind="item.project.commentError"></span></div><div class="separator-sm"></div><a class="btn btn-primary btn-sm" ng-click="createComment(item.id)" ng-href="#"><i class="fa fa-comment fa-pad-right"></i>Post comment</a></div></div></div></div></div></div></div><loading-spinner ng-if="showLoadingIcon"></loading-spinner></div><div class="activity-grid-aside-right"><aside class="activity-sidebar-section"><div class="sidebar-section-heading"><h4>Featured</h4></div><div class="sidebar-section-body"><a class="featured-item" ng-href="{{ item.url }}" ng-repeat="item in top_row_items" target="{{ item.is_target_blank ? &#39;_blank&#39; : (item.is_target_top ? &#39;_top&#39; : &#39;&#39;) }}"><div class="overlay"><div class="featured-item-info"><div class="featured-item-title">{{ item.title }}</div><div class="featured-item-description">{{ item.description }}</div></div></div><img class="img-responsive" ng-src="{{ item.image_url }}" /></a></div></aside><div class="separator"></div><aside class="activity-sidebar-section"><div class="sidebar-section-heading"><h4>Latest Industry Jobs</h4></div><div class="sidebar-section-body"><a class="job-item" ng-href="/jobs/{{ item.hash_id }}" ng-repeat="item in featured_jobs track by item.id" target="_self"><img class="job-logo" ng-src="{{ item.thumb_url }}" /><div class="job-info"><div class="job-title" ng-bind-html="item.title"></div><div class="job-company" ng-bind-html="item.company_name"></div><div class="job-location"><i class="fa icon-location fa-pad-right"></i>{{ item.location_formatted }}</div></div></a><a href="/jobs" target="_top">All jobs</a></div></aside><div class="separator"></div></div></div></div><abuse-report-modal ng-if="currentUser"></abuse-report-modal><block-user-modal ng-if="currentUser"></block-user-modal>'),e.put("community/activity/feed_list.html",e.get("community/activity/feed_list-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/activity/last_actors-ru.html",'<img class="avatar" ng-src="{{ ::lastActors[0].medium_avatar_url }}" /><div class="activity-label"><ng-repeat-start ng-repeat="user in ::lastActors track by user.id">{{ $first ? \'\' : $last ? \' \u0438 \' : \', \' }}<a ng-href="{{ ::user.artstation_profile_url }}">{{ actorName(user) }}</a><a class="pro-badge" href="/pro" ng-if="user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="user.is_staff">STAFF</div></ng-repeat-start><ng-repeat-end></ng-repeat-end><ng-if-start ng-if="::feedItem.isNewFollower"> {{ actionText() }}</ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.isFolloweeFollowed"> {{ actionText() }} <a ng-bind-html="feedItem.user.full_name" ng-href="{{ ::feedItem.user.artstation_profile_url }}"></a><a class="pro-badge" href="/pro" ng-if="::feedItem.user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="::feedItem.user.is_staff">STAFF</div></ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.isProject"> {{ actionText() }} <a artstation-open-feed-project="{{ ::feedItem.id }}" href="{{ ::feedItem.project.url }}" ng-bind-html="::feedItem.project.title"></a></ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.isSubmissionUpdate"><ng-if-start ng-if="::feedItem.isNewSubmissionUpdate"> \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043b(\u0430) </ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.isSubmissionUpdateLiked"><ng-if-start ng-if="::feedItem.submissionUpdate.user.id == currentUserId"> \u043e\u0446\u0435\u043d\u0438\u043b(\u0430) \u0432\u0430\u0448 </ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.submissionUpdate.user.id != currentUserId"> \u043e\u0446\u0435\u043d\u0438\u043b(\u0430) </ng-if-start><ng-if-end></ng-if-end></ng-if-start><ng-if-end></ng-if-end><a href="{{ ::feedItem.submissionUpdate.submission.url }}">\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 </a>\u0432 <a href="{{ ::feedItem.submissionUpdate.challenge.url }}">{{ ::feedItem.submissionUpdate.challenge.title }}</a></ng-if-start>.</div>'),e.put("community/activity/last_actors-en.html",'<img class="avatar" ng-src="{{ ::lastActors[0].medium_avatar_url }}" /><div class="activity-label"><ng-repeat-start ng-repeat="user in ::lastActors track by user.id">{{ $first ? \'\' : $last ? \' and \' : \', \' }}<a ng-href="{{ ::user.artstation_profile_url }}">{{ actorName(user) }}</a><a class="pro-badge" href="/pro" ng-if="user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="user.is_staff">STAFF</div></ng-repeat-start><ng-repeat-end></ng-repeat-end><ng-if-start ng-if="::feedItem.isNewFollower"> {{ actionText() }}</ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.isFolloweeFollowed"> {{ actionText() }} <a ng-bind-html="feedItem.user.full_name" ng-href="{{ ::feedItem.user.artstation_profile_url }}"></a><a class="pro-badge" href="/pro" ng-if="::feedItem.user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="::feedItem.user.is_staff">STAFF</div></ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.isProject"> {{ actionText() }} <a artstation-open-feed-project="{{ ::feedItem.id }}" href="{{ ::feedItem.project.url }}" ng-bind-html="::feedItem.project.title"></a></ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.isSubmissionUpdate"><ng-if-start ng-if="::feedItem.isNewSubmissionUpdate"> posted a </ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.isSubmissionUpdateLiked"><ng-if-start ng-if="::feedItem.submissionUpdate.user.id == currentUserId"> liked your </ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.submissionUpdate.user.id != currentUserId"> liked a </ng-if-start><ng-if-end></ng-if-end></ng-if-start><ng-if-end></ng-if-end><a href="{{ ::feedItem.submissionUpdate.submission.url }}">submission update </a>on <a href="{{ ::feedItem.submissionUpdate.challenge.url }}">{{ ::feedItem.submissionUpdate.challenge.title }}</a></ng-if-start>.</div>'),e.put("community/activity/last_actors.html",e.get("community/activity/last_actors-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/artist-ru.html",'<div class="user-profile-page" ng-class="{&#39;artist&#39;: user.is_artist}"><div class="user-profile"><user-header user="user"></user-header><div class="navbar-artist-user-sticky hidden-xs hidden-sm"><nav class="navbar-default navbar-artist-user"><div class="container-fluid"><div class="row"><div class="col-lg-8 inner-left"><span class="inner"><img alt="{{ user.full_name | unescapeHTML }}" class="circle" height="32" ng-src="{{ user.medium_avatar_url }}" width="32" /><span class="name">{{ user.full_name | unescapeHTML }}</span><a class="pro-badge" href="/pro" ng-if="user.pro_member" target="_self">PRO</a><div class="staff-badge top" ng-if="user.is_staff">STAFF</div></span><span class="inner limit-width"><span ng-bind-html="user.headline" ng-if="user.headline"></span></span><span class="inner limit-width"><span ng-if="user.location"><span class="fa fa-map-marker"></span><span ng-bind-html="user.location"></span></span></span><span class="inner"><span ng-if="user.is_artist"><a ng-href="{{ user.profile_artstation_website_url }}" target="_blank"><span class="meta-long">{{ user.profile_artstation_website }}</span><i class="fa fa-pad-left fa-external-link"></i></a></span></span></div><div class="col-lg-4 hidden-sm hidden-md inner-right text-right"><span class="inner"><span class="fa fa-group"></span><span class="meta-short">{{ formatNumber(user.followers_count) }}</span><span class="meta-long"><as-pluralize class="meta-long" count="user.followers_count" dict="counters.followers"></as-pluralize></span></span><span class="inner"><span class="fa fa-thumbs-o-up"></span><span class="meta-short">{{ formatNumber(user.projects_likes_count) }}</span><span class="meta-long"><as-pluralize class="meta-long" count="user.projects_likes_count" dict="counters.likes"></as-pluralize></span></span><span class="inner"><span class="fa fa-eye"></span><span class="meta-short">{{ formatNumber(user.project_views_count) }}</span><span class="meta-long"><as-pluralize class="meta-long" count="user.project_views_count" dict="counters.views"></as-pluralize></span></span></div></div></div></nav></div><nav class="navbar-default navbar-artist-profile"><ul class="nav navbar-nav"><li class="hidden-xs" ng-class="{active: isPortfolioPage()}" ng-if="user.is_artist"><a href="#" ng-click="changeAction(&#39;projects&#39;)" ng-href="/{{user.username}}">\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e</a></li><li class="visible-xs-inline-block" ng-class="{&quot;active dropdown&quot;: isPortfolioPage()}" ng-if="user.is_artist"><a href="#" ng-href="/{{user.username}}" ng-if="!showAlbumsNavbar">\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e</a><a class="dropdown-toggle" data-toggle="dropdown" href="#" ng-if="showAlbumsNavbar">\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e<i class="fa fa-chevron-down fa-pad-left"></i></a><ul class="dropdown-menu" ng-if="showAlbumsNavbar"><li ng-class="{active: isCurrentAlbum(album)}" ng-repeat="album in user.albums_with_community_projects"><a ng-click="changeAction(&#39;projects&#39;)" ng-href="/{{user.username}}" ng-if="album.album_type == &#39;all_projects&#39;"><i class="fa fa-fw fa-pad-right fa-picture-o"></i>\u0412\u0441\u0435</a><a href="/{{user.username}}/albums/{{album.id}}" ng-click="changeAlbum(album.id)" ng-if="album.album_type == &#39;custom&#39;"><i class="fa fa-fw fa-pad-right fa-folder"></i><span ng-bind-html="album.title"></span></a></li></ul></li><li ng-class="{active: action==&#39;profile&#39;}"><a href="#" ng-click="changeAction(&#39;profile&#39;)" ng-href="/{{user.username}}/profile">\u041e\u0431\u043e \u043c\u043d\u0435</a></li><li ng-class="{active: action==&#39;likes&#39;}"><a href="#" ng-click="changeAction(&#39;likes&#39;)" ng-href="/{{user.username}}/likes">\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f<span class="counter-number">({{ user.liked_projects_count | number }})</span></a></li><li ng-class="{active: action==&#39;following&#39;}"><a href="#" ng-click="changeAction(&#39;following&#39;)" ng-href="/{{user.username}}/following">\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438<span class="counter-number">({{ user.followees_count | number }})</span></a></li><li ng-class="{active: action==&#39;followers&#39;}"><a href="#" ng-click="changeAction(&#39;followers&#39;)" ng-href="/{{user.username}}/followers">\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0438<span class="counter-number">({{ user.followers_count | number }})</span></a></li><li ng-class="{active: action==&#39;challenges&#39;}" ng-if="user.is_artist"><a href="#" ng-click="changeAction(&#39;challenges&#39;)" ng-href="/{{user.username}}/challenges">\u0422\u0443\u0440\u043d\u0438\u0440\u044b</a></li><li class="action-buttons hidden-xs"><ul class="list-inline"><li ng-if="!user.blocked &amp;&amp; currentUser.id &amp;&amp; currentUser.id != user.id"><follow-button follow-text="\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f" user="user"></follow-button></li><li ng-if="(!user.blocked &amp;&amp; userCanReceiveMessages) || !currentUser"><button class="btn btn-success btn-sm" href="" ng-click="showUserMessageModal()" show-login-modal-if-not-signed-in=""><i class="icon icon-messages fa-pad-right"></i>\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c</button></li><li ng-if="previewMode &amp;&amp; !userCanReceiveMessages"><button class="btn btn-success btn-sm" disabled="true" href=""><i class="fa fa-pad-right fa-envelope"></i>\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c</button></li><li ng-if="currentUser.id &amp;&amp; currentUser.id != user.id"><div as-resource-actions="" class="btn-group btn-group-sm dropdown-menu-md-w" target="user" target-type="user"></div></li></ul></li></ul></nav><ul class="list-inline text-center visible-xs"><li ng-if="!user.blocked &amp;&amp; currentUser.id &amp;&amp; currentUser.id != user.id"><follow-button follow-text="\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f" user="user"></follow-button></li><li ng-if="(!user.blocked &amp;&amp; userCanReceiveMessages) || !currentUser"><button class="btn btn-success btn-sm" href="" ng-click="showUserMessageModal()" ng-show="userCanReceiveMessages || !currentUser" show-login-modal-if-not-signed-in=""><i class="fa fa-pad-right fa-envelope"></i>\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c</button></li><li ng-if="previewMode &amp;&amp; !userCanReceiveMessages"><button class="btn btn-success btn-sm" disabled="true" href=""><i class="fa fa-pad-right fa-envelope"></i>\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c</button></li><li ng-if="currentUser.id &amp;&amp; currentUser.id != user.id"><div as-resource-actions="" class="btn-group" target="user" target-type="user"></div></li></ul><user-resume ng-if="action == &#39;profile&#39;" username="user.username"></user-resume><div class="profile-help-bar hidden-xs" ng-if="isPortfolioPage() &amp;&amp; user.is_artist &amp;&amp; currentUser.id == user.id"><user-portfolio-display-options user="user"></user-portfolio-display-options></div><ul class="profile-albums list-unstyled hidden-xs" ng-if="user.is_artist &amp;&amp; showAlbumsNavbar"><li class="profile-album-item" ng-repeat="album in user.albums_with_community_projects"><a class="profile-album-link" href="#" ng-bind-html="album.title" ng-click="changeAlbum(album.id)" ng-href="/{{user.username}}/albums/{{album.id}}" ng-if="!isCurrentAlbum(album) &amp;&amp; album.album_type == &#39;custom&#39;"></a><a class="profile-album-link active" ng-bind-html="album.title" ng-if="isCurrentAlbum(album) &amp;&amp; album.album_type == &#39;custom&#39;"></a><a class="profile-album-link" href="/{{user.username}}/albums/all" ng-if="!isCurrentAlbum(album) &amp;&amp; album.album_type == &#39;all_projects&#39;">\u0412\u0441\u0435</a><a class="profile-album-link active" ng-if="isCurrentAlbum(album) &amp;&amp; album.album_type == &#39;all_projects&#39;">\u0412\u0441\u0435</a></li></ul><user-projects fetcher-method="readByUser" ng-if="action == &#39;projects&#39; &amp;&amp; !user.display_portfolio_as_albums &amp;&amp; user" user="user"></user-projects><user-albums ng-if="user.is_artist &amp;&amp; action == &quot;projects&quot; &amp;&amp; user.display_portfolio_as_albums" user="user"></user-albums><user-projects album-id="album_id" fetcher-method="readByUser" ng-if="user.is_artist &amp;&amp; action == &#39;albums&#39; &amp;&amp; user" user="user"></user-projects><div class="profile-help-bar" ng-if="action == &quot;likes&quot; &amp;&amp; currentUser.id == user.id"><a class="btn btn-default btn-sm" href="#" ng-href="/{{user.username}}/collections"><i class="fa icon-add-to-collection fa-pad-right"></i>\u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438</a></div><user-projects fetcher-method="likedByUser" ng-if="action == &#39;likes&#39; &amp;&amp; user" small-thumbs="true" user="user"></user-projects><div class="more_artwork" ng-if="user.is_artist &amp;&amp; showMoreArtwork"><div class="separator"></div><h3 class="text-center">More Artwork</h3><user-albums album-id="album_id" ng-if="album_id" user="user"></user-albums><user-albums album-id="default_album.id" ng-if="!album_id" user="user"></user-albums></div><div class="profile-help-bar pb" ng-if="(action == &quot;following&quot; || action == &quot;followers&quot;) &amp;&amp; currentUser.id == user.id"><a class="btn btn-default btn-sm" href="#" ng-href="/{{user.username}}/connections"><i class="fa fa-users fa-pad-right"></i>\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</a></div><user-following ng-if="action == &quot;following&quot;"></user-following><user-followers ng-if="action == &quot;followers&quot;"></user-followers><user-submissions ng-if="user.is_artist &amp;&amp; action == &quot;challenges&quot;" user="user"></user-submissions></div><user-message-modal user="user"></user-message-modal><abuse-report-modal ng-if="currentUser"></abuse-report-modal><block-user-modal ng-if="currentUser"></block-user-modal></div><script>$(document).ready(function() {\n  setTimeout(function() {\n\n    var userHeaderHeight = $(\'.artist-masthead\').outerHeight() - $(\'#main-nav\').outerHeight() - $(\'.navbar-artist-user\').outerHeight();\n\n    $(\'.user-profile-page\').css(\'min-height\', $(window).height() + userHeaderHeight);\n\n    var stickyUser = new Waypoint.Sticky({\n      element: $(\'.navbar-artist-user\')[0],\n      offset: 54\n    })\n    var stickyProfile = new Waypoint.Sticky({\n      element: $(\'.navbar-artist-profile\')[0],\n      offset: 103\n    })\n  }, 100)\n\n});</script>'),e.put("community/artist-en.html",'<div class="user-profile-page" ng-class="{&#39;artist&#39;: user.is_artist}"><div class="user-profile"><user-header user="user"></user-header><div class="navbar-artist-user-sticky hidden-xs hidden-sm"><nav class="navbar-default navbar-artist-user"><div class="container-fluid"><div class="row"><div class="col-lg-8 inner-left"><span class="inner"><img alt="{{ user.full_name | unescapeHTML }}" class="circle" height="32" ng-src="{{ user.medium_avatar_url }}" width="32" /><span class="name">{{ user.full_name | unescapeHTML }}</span><a class="pro-badge" href="/pro" ng-if="user.pro_member" target="_self">PRO</a><div class="staff-badge top" ng-if="user.is_staff">STAFF</div></span><span class="inner limit-width"><span ng-bind-html="user.headline" ng-if="user.headline"></span></span><span class="inner limit-width"><span ng-if="user.location"><span class="fa fa-map-marker"></span><span ng-bind-html="user.location"></span></span></span><span class="inner"><span ng-if="user.is_artist"><a ng-href="{{ user.profile_artstation_website_url }}" target="_blank"><span class="meta-long">{{ user.profile_artstation_website }}</span><i class="fa fa-pad-left fa-external-link"></i></a></span></span></div><div class="col-lg-4 hidden-sm hidden-md inner-right text-right"><span class="inner"><span class="fa fa-group"></span><span class="meta-short">{{ formatNumber(user.followers_count) }}</span><span class="meta-long"><as-pluralize class="meta-long" count="user.followers_count" dict="counters.followers"></as-pluralize></span></span><span class="inner"><span class="fa fa-thumbs-o-up"></span><span class="meta-short">{{ formatNumber(user.projects_likes_count) }}</span><span class="meta-long"><as-pluralize class="meta-long" count="user.projects_likes_count" dict="counters.likes"></as-pluralize></span></span><span class="inner"><span class="fa fa-eye"></span><span class="meta-short">{{ formatNumber(user.project_views_count) }}</span><span class="meta-long"><as-pluralize class="meta-long" count="user.project_views_count" dict="counters.views"></as-pluralize></span></span></div></div></div></nav></div><nav class="navbar-default navbar-artist-profile"><ul class="nav navbar-nav"><li class="hidden-xs" ng-class="{active: isPortfolioPage()}" ng-if="user.is_artist"><a href="#" ng-click="changeAction(&#39;projects&#39;)" ng-href="/{{user.username}}">Portfolio</a></li><li class="visible-xs-inline-block" ng-class="{&quot;active dropdown&quot;: isPortfolioPage()}" ng-if="user.is_artist"><a href="#" ng-href="/{{user.username}}" ng-if="!showAlbumsNavbar">Portfolio</a><a class="dropdown-toggle" data-toggle="dropdown" href="#" ng-if="showAlbumsNavbar">Portfolio<i class="fa fa-chevron-down fa-pad-left"></i></a><ul class="dropdown-menu" ng-if="showAlbumsNavbar"><li ng-class="{active: isCurrentAlbum(album)}" ng-repeat="album in user.albums_with_community_projects"><a ng-click="changeAction(&#39;projects&#39;)" ng-href="/{{user.username}}" ng-if="album.album_type == &#39;all_projects&#39;"><i class="fa fa-fw fa-pad-right fa-picture-o"></i>All</a><a href="/{{user.username}}/albums/{{album.id}}" ng-click="changeAlbum(album.id)" ng-if="album.album_type == &#39;custom&#39;"><i class="fa fa-fw fa-pad-right fa-folder"></i><span ng-bind-html="album.title"></span></a></li></ul></li><li ng-class="{active: action==&#39;profile&#39;}"><a href="#" ng-click="changeAction(&#39;profile&#39;)" ng-href="/{{user.username}}/profile">About</a></li><li ng-class="{active: action==&#39;likes&#39;}"><a href="#" ng-click="changeAction(&#39;likes&#39;)" ng-href="/{{user.username}}/likes">Likes<span class="counter-number">({{ user.liked_projects_count | number }})</span></a></li><li ng-class="{active: action==&#39;following&#39;}"><a href="#" ng-click="changeAction(&#39;following&#39;)" ng-href="/{{user.username}}/following">Following<span class="counter-number">({{ user.followees_count | number }})</span></a></li><li ng-class="{active: action==&#39;followers&#39;}"><a href="#" ng-click="changeAction(&#39;followers&#39;)" ng-href="/{{user.username}}/followers">Followers<span class="counter-number">({{ user.followers_count | number }})</span></a></li><li ng-class="{active: action==&#39;challenges&#39;}" ng-if="user.is_artist"><a href="#" ng-click="changeAction(&#39;challenges&#39;)" ng-href="/{{user.username}}/challenges">Challenges</a></li><li class="action-buttons hidden-xs"><ul class="list-inline"><li ng-if="!user.blocked &amp;&amp; currentUser.id &amp;&amp; currentUser.id != user.id"><follow-button follow-text="Follow" user="user"></follow-button></li><li ng-if="(!user.blocked &amp;&amp; userCanReceiveMessages) || !currentUser"><button class="btn btn-success btn-sm" href="" ng-click="showUserMessageModal()" show-login-modal-if-not-signed-in=""><i class="icon icon-messages fa-pad-right"></i>Message</button></li><li ng-if="previewMode &amp;&amp; !userCanReceiveMessages"><button class="btn btn-success btn-sm" disabled="true" href=""><i class="fa fa-pad-right fa-envelope"></i>Message</button></li><li ng-if="currentUser.id &amp;&amp; currentUser.id != user.id"><div as-resource-actions="" class="btn-group btn-group-sm dropdown-menu-md-w" target="user" target-type="user"></div></li></ul></li></ul></nav><ul class="list-inline text-center visible-xs"><li ng-if="!user.blocked &amp;&amp; currentUser.id &amp;&amp; currentUser.id != user.id"><follow-button follow-text="Follow" user="user"></follow-button></li><li ng-if="(!user.blocked &amp;&amp; userCanReceiveMessages) || !currentUser"><button class="btn btn-success btn-sm" href="" ng-click="showUserMessageModal()" ng-show="userCanReceiveMessages || !currentUser" show-login-modal-if-not-signed-in=""><i class="fa fa-pad-right fa-envelope"></i>Message</button></li><li ng-if="previewMode &amp;&amp; !userCanReceiveMessages"><button class="btn btn-success btn-sm" disabled="true" href=""><i class="fa fa-pad-right fa-envelope"></i>Message</button></li><li ng-if="currentUser.id &amp;&amp; currentUser.id != user.id"><div as-resource-actions="" class="btn-group" target="user" target-type="user"></div></li></ul><user-resume ng-if="action == &#39;profile&#39;" username="user.username"></user-resume><div class="profile-help-bar hidden-xs" ng-if="isPortfolioPage() &amp;&amp; user.is_artist &amp;&amp; currentUser.id == user.id"><user-portfolio-display-options user="user"></user-portfolio-display-options></div><ul class="profile-albums list-unstyled hidden-xs" ng-if="user.is_artist &amp;&amp; showAlbumsNavbar"><li class="profile-album-item" ng-repeat="album in user.albums_with_community_projects"><a class="profile-album-link" href="#" ng-bind-html="album.title" ng-click="changeAlbum(album.id)" ng-href="/{{user.username}}/albums/{{album.id}}" ng-if="!isCurrentAlbum(album) &amp;&amp; album.album_type == &#39;custom&#39;"></a><a class="profile-album-link active" ng-bind-html="album.title" ng-if="isCurrentAlbum(album) &amp;&amp; album.album_type == &#39;custom&#39;"></a><a class="profile-album-link" href="/{{user.username}}/albums/all" ng-if="!isCurrentAlbum(album) &amp;&amp; album.album_type == &#39;all_projects&#39;">All</a><a class="profile-album-link active" ng-if="isCurrentAlbum(album) &amp;&amp; album.album_type == &#39;all_projects&#39;">All</a></li></ul><user-projects fetcher-method="readByUser" ng-if="action == &#39;projects&#39; &amp;&amp; !user.display_portfolio_as_albums &amp;&amp; user" user="user"></user-projects><user-albums ng-if="user.is_artist &amp;&amp; action == &quot;projects&quot; &amp;&amp; user.display_portfolio_as_albums" user="user"></user-albums><user-projects album-id="album_id" fetcher-method="readByUser" ng-if="user.is_artist &amp;&amp; action == &#39;albums&#39; &amp;&amp; user" user="user"></user-projects><div class="profile-help-bar" ng-if="action == &quot;likes&quot; &amp;&amp; currentUser.id == user.id"><a class="btn btn-default btn-sm" href="#" ng-href="/{{user.username}}/collections"><i class="fa icon-add-to-collection fa-pad-right"></i>Collections</a></div><user-projects fetcher-method="likedByUser" ng-if="action == &#39;likes&#39; &amp;&amp; user" small-thumbs="true" user="user"></user-projects><div class="more_artwork" ng-if="user.is_artist &amp;&amp; showMoreArtwork"><div class="separator"></div><h3 class="text-center">More Artwork</h3><user-albums album-id="album_id" ng-if="album_id" user="user"></user-albums><user-albums album-id="default_album.id" ng-if="!album_id" user="user"></user-albums></div><div class="profile-help-bar pb" ng-if="(action == &quot;following&quot; || action == &quot;followers&quot;) &amp;&amp; currentUser.id == user.id"><a class="btn btn-default btn-sm" href="#" ng-href="/{{user.username}}/connections"><i class="fa fa-users fa-pad-right"></i>Connections</a></div><user-following ng-if="action == &quot;following&quot;"></user-following><user-followers ng-if="action == &quot;followers&quot;"></user-followers><user-submissions ng-if="user.is_artist &amp;&amp; action == &quot;challenges&quot;" user="user"></user-submissions></div><user-message-modal user="user"></user-message-modal><abuse-report-modal ng-if="currentUser"></abuse-report-modal><block-user-modal ng-if="currentUser"></block-user-modal></div><script>$(document).ready(function() {\n  setTimeout(function() {\n\n    var userHeaderHeight = $(\'.artist-masthead\').outerHeight() - $(\'#main-nav\').outerHeight() - $(\'.navbar-artist-user\').outerHeight();\n\n    $(\'.user-profile-page\').css(\'min-height\', $(window).height() + userHeaderHeight);\n\n    var stickyUser = new Waypoint.Sticky({\n      element: $(\'.navbar-artist-user\')[0],\n      offset: 54\n    })\n    var stickyProfile = new Waypoint.Sticky({\n      element: $(\'.navbar-artist-profile\')[0],\n      offset: 103\n    })\n  }, 100)\n\n});</script>'),e.put("community/artist.html",e.get("community/artist-en.html"))
}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/artist_likes-ru.html",'<div class="container"><div class="page-header"><h1>\u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438</h1></div><ul class="breadcrumb text-center"><li><a href="/{{ artist.username }}/collections">\u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438</a></li><li class="active">\u041f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c</li></ul></div><div class="gallery-container" ng-if="collection.totalCount == 0"><div class="lead text-center">\u042d\u0442\u0430 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f \u043f\u0443\u0441\u0442\u0430\u044f</div></div><div class="gallery-container"><div class="gallery" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="project small" ng-repeat="project in collection.items"><a class="remove" href="#" ng-click="deleteFromCollection(project)" ng-if="current_user.id == artist.id" title="\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"><i class="fa fa-times fa-lg"></i></a><a artstation-open-project="{{ project.id }}" class="project-image" ng-href="/artwork/{{ project.hash_id }}"><ul class="icons-list"><li ng-if="project.icons.image"><div class="icon-gallery"></div></li><li ng-if="project.icons.model3d || project.icons.marmoset"><div class="icon-cube"></div></li><li ng-if="project.icons.video"><div class="icon-video-camera"></div></li><li ng-if="project.icons.pano"><div class="icon-pano"></div></li></ul><div class="overlay"><div class="info"><img class="avatar" ng-src="{{ project.user.medium_avatar_url }}" /><div class="title">{{ ::project.title }}</div><div class="name">{{ ::project.user.full_name | unescapeHTML }}<div class="pro-badge smaller" ng-if="project.user.pro_member">PRO</div><div class="staff-badge smaller" ng-if="project.user.is_staff">STAFF</div></div></div></div><img class="image" ng-src="{{ project.cover.thumb_url }}" /></a></div><div class="clearfix"></div></div><div class="text-center" ng-show="showLoadingIcon"><div class="separator"></div><i class="fa fa-circle-o-notch fa-spin fa-2x"></i><div class="separator"></div></div></div>'),e.put("community/artist_likes-en.html",'<div class="container"><div class="page-header"><h1>Collections</h1></div><ul class="breadcrumb text-center"><li><a href="/{{ artist.username }}/collections">Collections</a></li><li class="active">Likes</li></ul></div><div class="gallery-container" ng-if="collection.totalCount == 0"><div class="lead text-center">This collection is empty</div></div><div class="gallery-container"><div class="gallery" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="project small" ng-repeat="project in collection.items"><a class="remove" href="#" ng-click="deleteFromCollection(project)" ng-if="current_user.id == artist.id" title="Delete from collection"><i class="fa fa-times fa-lg"></i></a><a artstation-open-project="{{ project.id }}" class="project-image" ng-href="/artwork/{{ project.hash_id }}"><ul class="icons-list"><li ng-if="project.icons.image"><div class="icon-gallery"></div></li><li ng-if="project.icons.model3d || project.icons.marmoset"><div class="icon-cube"></div></li><li ng-if="project.icons.video"><div class="icon-video-camera"></div></li><li ng-if="project.icons.pano"><div class="icon-pano"></div></li></ul><div class="overlay"><div class="info"><img class="avatar" ng-src="{{ project.user.medium_avatar_url }}" /><div class="title">{{ ::project.title }}</div><div class="name">{{ ::project.user.full_name | unescapeHTML }}<div class="pro-badge smaller" ng-if="project.user.pro_member">PRO</div><div class="staff-badge smaller" ng-if="project.user.is_staff">STAFF</div></div></div></div><img class="image" ng-src="{{ project.cover.thumb_url }}" /></a></div><div class="clearfix"></div></div><div class="text-center" ng-show="showLoadingIcon"><div class="separator"></div><i class="fa fa-circle-o-notch fa-spin fa-2x"></i><div class="separator"></div></div></div>'),e.put("community/artist_likes.html",e.get("community/artist_likes-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/artwork-ru.html",'<div class="home-top-row"><div class="top-row-item top-row-{{ ::$index + 1 }}" ng-repeat="item in top_row_items"><a href="{{ ::item.url }}" target="{{ item.is_target_blank ? &#39;_blank&#39; : (item.is_target_top ? &#39;_top&#39; : &#39;&#39;) }}"><div class="overlay"><div class="info"><div class="title">{{ ::item.title }}</div><div class="name">{{ ::item.description }}</div></div></div><img class="image" ng-src="{{ ::item.image_url }}" /></a></div></div><div class="clearfix"></div><div ng-if="tabletAndAbove()"><div class="separator"></div><support-artstation-please asset-size="large" takeover="true"></support-artstation-please><div class="separator"></div></div><projects-list fetcher-method="readAll" fetcher-options-with="getFetcherOptions" mosaic="true" small="true" with-navigation="true"></projects-list>'),e.put("community/artwork-en.html",'<div class="home-top-row"><div class="top-row-item top-row-{{ ::$index + 1 }}" ng-repeat="item in top_row_items"><a href="{{ ::item.url }}" target="{{ item.is_target_blank ? &#39;_blank&#39; : (item.is_target_top ? &#39;_top&#39; : &#39;&#39;) }}"><div class="overlay"><div class="info"><div class="title">{{ ::item.title }}</div><div class="name">{{ ::item.description }}</div></div></div><img class="image" ng-src="{{ ::item.image_url }}" /></a></div></div><div class="clearfix"></div><div ng-if="tabletAndAbove()"><div class="separator"></div><support-artstation-please asset-size="large" takeover="true"></support-artstation-please><div class="separator"></div></div><projects-list fetcher-method="readAll" fetcher-options-with="getFetcherOptions" mosaic="true" small="true" with-navigation="true"></projects-list>'),e.put("community/artwork.html",e.get("community/artwork-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/collection-ru.html",'<div class="container"><div class="page-header"><h1>\u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438</h1></div><ul class="breadcrumb text-center"><li><a href="/{{ artist.username }}/collections">\u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438</a></li><li class="active" ng-bind-html="collectionItem.name"></li></ul><div class="sub-nav" ng-if="currentUser.id == collectionItem.user_id"><div class="btn-toolbar"><div class="btn-group"><a class="btn btn-default" href="#" ng-click="editCollection()"><i class="fa fa-pencil fa-pad-right"></i>\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a></div><div class="btn-group"><a class="btn btn-default" href="#" ng-click="deleteCollection()"><i class="fa fa-trash fa-pad-right"></i>\u0423\u0434\u0430\u043b\u0438\u0442\u044c</a></div></div></div></div><div class="gallery-container" ng-if="collection.totalCount == 0"><div class="lead text-center">\u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f \u043f\u0443\u0441\u0442\u0430\u044f</div></div><div class="gallery-container"><div class="gallery" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="project" ng-repeat="project in collection.items"><a class="remove" href="#" ng-click="deleteFromCollection(project)" ng-if="currentUser.id == collectionItem.user_id" title="\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"><i class="fa fa-times fa-lg"></i></a><a artstation-open-project="{{ project.id }}" class="project-image" ng-href="/artwork/{{ project.hash_id }}"><ul class="icons-list"><li ng-if="project.icons.image"><div class="icon-gallery"></div></li><li ng-if="project.icons.model3d || project.icons.marmoset"><div class="icon-cube"></div></li><li ng-if="project.icons.video"><div class="icon-video-camera"></div></li><li ng-if="project.icons.pano"><div class="icon-pano"></div></li></ul><div class="overlay"><div class="info"><img class="avatar" ng-src="{{ project.user.medium_avatar_url }}" /><div class="title" ng-bind-html="project.title"></div><div class="name">{{ ::project.user.full_name | unescapeHTML }}<div class="pro-badge smaller" ng-if="project.user.pro_member">PRO</div><div class="staff-badge smaller" ng-if="project.user.is_staff">STAFF</div></div></div></div><img class="image" ng-src="{{ project.cover.thumb_url }}" /></a></div><div class="clearfix"></div></div><div class="text-center" ng-show="showLoadingIcon"><div class="separator"></div><i class="fa fa-circle-o-notch fa-spin fa-2x"></i><div class="separator"></div></div></div><edit-collection-modal collection="collectionItem"></edit-collection-modal>'),e.put("community/collection-en.html",'<div class="container"><div class="page-header"><h1>Collections</h1></div><ul class="breadcrumb text-center"><li><a href="/{{ artist.username }}/collections">Collections</a></li><li class="active" ng-bind-html="collectionItem.name"></li></ul><div class="sub-nav" ng-if="currentUser.id == collectionItem.user_id"><div class="btn-toolbar"><div class="btn-group"><a class="btn btn-default" href="#" ng-click="editCollection()"><i class="fa fa-pencil fa-pad-right"></i>Edit</a></div><div class="btn-group"><a class="btn btn-default" href="#" ng-click="deleteCollection()"><i class="fa fa-trash fa-pad-right"></i>Delete</a></div></div></div></div><div class="gallery-container" ng-if="collection.totalCount == 0"><div class="lead text-center">This collection is empty</div></div><div class="gallery-container"><div class="gallery" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="project" ng-repeat="project in collection.items"><a class="remove" href="#" ng-click="deleteFromCollection(project)" ng-if="currentUser.id == collectionItem.user_id" title="Delete from collection"><i class="fa fa-times fa-lg"></i></a><a artstation-open-project="{{ project.id }}" class="project-image" ng-href="/artwork/{{ project.hash_id }}"><ul class="icons-list"><li ng-if="project.icons.image"><div class="icon-gallery"></div></li><li ng-if="project.icons.model3d || project.icons.marmoset"><div class="icon-cube"></div></li><li ng-if="project.icons.video"><div class="icon-video-camera"></div></li><li ng-if="project.icons.pano"><div class="icon-pano"></div></li></ul><div class="overlay"><div class="info"><img class="avatar" ng-src="{{ project.user.medium_avatar_url }}" /><div class="title" ng-bind-html="project.title"></div><div class="name">{{ ::project.user.full_name | unescapeHTML }}<div class="pro-badge smaller" ng-if="project.user.pro_member">PRO</div><div class="staff-badge smaller" ng-if="project.user.is_staff">STAFF</div></div></div></div><img class="image" ng-src="{{ project.cover.thumb_url }}" /></a></div><div class="clearfix"></div></div><div class="text-center" ng-show="showLoadingIcon"><div class="separator"></div><i class="fa fa-circle-o-notch fa-spin fa-2x"></i><div class="separator"></div></div></div><edit-collection-modal collection="collectionItem"></edit-collection-modal>'),e.put("community/collection.html",e.get("community/collection-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/collections-ru.html",'<div class="container"><div class="page-header"><h1>\u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438</h1></div><div class="sub-nav"><div class="btn-group"><a class="btn btn-default" ng-click="showCreateCollectionModal()">\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e</a></div></div><div class="collections"><div class="collection"><div class="thumbnail"><a ng-href="/{{artist.username}}/collections/likes"><img ng-src="{{ likes[0].cover.small_square_url }}" /></a><div class="caption"><h4><a ng-href="/{{artist.username}}/collections/likes">\u041f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c</a></h4><p><i class="fa fa-pad-right icon-add-to-collection"></i><as-pluralize count="likes_total_count" dict="counters.projects"></as-pluralize></p></div></div></div><div class="collection" ng-repeat="collection in collections"><div class="thumbnail"><a ng-href="/{{artist.username}}/collections/{{collection.id}}"><img ng-src="{{ collection.small_square_image_url }}" /></a><div class="caption"><h4><a ng-bind-html="collection.name" ng-href="/{{artist.username}}/collections/{{collection.id}}"></a></h4><p><i class="fa fa-pad-right icon-add-to-collection"></i><as-pluralize count="collection.active_projects_count" dict="counters.projects"></as-pluralize></p></div></div></div></div><loading-spinner ng-if="!(likesLoaded &amp;&amp; collectionsLoaded)"></loading-spinner></div><create-collection-modal collections="collections"></create-collection-modal>'),e.put("community/collections-en.html",'<div class="container"><div class="page-header"><h1>Collections</h1></div><div class="sub-nav"><div class="btn-group"><a class="btn btn-default" ng-click="showCreateCollectionModal()">Create Collection</a></div></div><div class="collections"><div class="collection"><div class="thumbnail"><a ng-href="/{{artist.username}}/collections/likes"><img ng-src="{{ likes[0].cover.small_square_url }}" /></a><div class="caption"><h4><a ng-href="/{{artist.username}}/collections/likes">Likes</a></h4><p><i class="fa fa-pad-right icon-add-to-collection"></i><as-pluralize count="likes_total_count" dict="counters.projects"></as-pluralize></p></div></div></div><div class="collection" ng-repeat="collection in collections"><div class="thumbnail"><a ng-href="/{{artist.username}}/collections/{{collection.id}}"><img ng-src="{{ collection.small_square_image_url }}" /></a><div class="caption"><h4><a ng-bind-html="collection.name" ng-href="/{{artist.username}}/collections/{{collection.id}}"></a></h4><p><i class="fa fa-pad-right icon-add-to-collection"></i><as-pluralize count="collection.active_projects_count" dict="counters.projects"></as-pluralize></p></div></div></div></div><loading-spinner ng-if="!(likesLoaded &amp;&amp; collectionsLoaded)"></loading-spinner></div><create-collection-modal collections="collections"></create-collection-modal>'),e.put("community/collections.html",e.get("community/collections-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/connections-ru.html",'<div class="container"><div class="page-header"><h1>\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</h1></div><div class="sub-nav"><div class="btn-group"><a class="btn btn-default" ng-class="{ active:(action == &#39;following&#39;) }" ng-href="/{{ user.username }}/connections?q={{ searchTerm }}&amp;order={{ order }}">\u041c\u043e\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438 ({{ user.followees_count | number }})</a><a class="btn btn-default" ng-class="{ active:(action == &#39;followers&#39;) }" ng-href="/{{ user.username }}/connections/followers?q={{ searchTerm }}&amp;order={{ order }}">\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0438 ({{ user.followers_count | number }})</a></div></div><div class="row"><div class="col-md-8 col-md-offset-2"><div class="row"><div class="col-md-9"><div class="form-group"><label>\u041f\u043e\u0438\u0441\u043a</label><input autofocus="" class="form-control" id="connections-search" ng-change="updateSearchDebounced()" ng-model="searchTerm" placeholder="\u041f\u043e\u0438\u0441\u043a..." /></div></div><div class="col-md-3"><div class="form-group connections-sort"><label>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430:</label><select class="form-control" data-enable-select2="true" ng-change="updateOrder()" ng-model="order"><option value="last_name">\u041f\u043e \u0438\u043c\u0435\u043d\u0438</option><option value="recent">\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435</option></select></div></div></div><div infinite-scroll="loadMore()" infinite-scroll-distance="0"><div ng-repeat="user in collection.items"><user-card user="user"></user-card></div><div class="clearfix"></div><div class="text-center" ng-show="showLoadingIcon"><div class="separator"></div><i class="fa fa-circle-o-notch fa-spin fa-2x loading-icon-light"></i><div class="separator"></div></div></div></div></div></div>'),e.put("community/connections-en.html",'<div class="container"><div class="page-header"><h1>Connections</h1></div><div class="sub-nav"><div class="btn-group"><a class="btn btn-default" ng-class="{ active:(action == &#39;following&#39;) }" ng-href="/{{ user.username }}/connections?q={{ searchTerm }}&amp;order={{ order }}">Following ({{ user.followees_count | number }})</a><a class="btn btn-default" ng-class="{ active:(action == &#39;followers&#39;) }" ng-href="/{{ user.username }}/connections/followers?q={{ searchTerm }}&amp;order={{ order }}">Followers ({{ user.followers_count | number }})</a></div></div><div class="row"><div class="col-md-8 col-md-offset-2"><div class="row"><div class="col-md-9"><div class="form-group"><label>Search</label><input autofocus="" class="form-control" id="connections-search" ng-change="updateSearchDebounced()" ng-model="searchTerm" placeholder="Search..." /></div></div><div class="col-md-3"><div class="form-group connections-sort"><label>Sort by</label><select class="form-control" data-enable-select2="true" ng-change="updateOrder()" ng-model="order"><option value="last_name">Last Name</option><option value="recent">Recent</option></select></div></div></div><div infinite-scroll="loadMore()" infinite-scroll-distance="0"><div ng-repeat="user in collection.items"><user-card user="user"></user-card></div><div class="clearfix"></div><div class="text-center" ng-show="showLoadingIcon"><div class="separator"></div><i class="fa fa-circle-o-notch fa-spin fa-2x loading-icon-light"></i><div class="separator"></div></div></div></div></div></div>'),e.put("community/connections.html",e.get("community/connections-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/abuse_report_modal-ru.html",'<div class="modal fade" id="artstation-report-abuse-modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button"><i class="fa fa-times"></i></button><h3 class="modal-title">Report Abuse</h3></div><div class="modal-body"><form class="form" name="abuseReportForm" ng-submit="submit()"><div class="form-group"><label>This is:</label><div class="radio"><label><input name="kind" ng-model="abuseReport.kind" required="" type="radio" value="spam">Spam</input></label></div><div class="radio"><label><input name="kind" ng-model="abuseReport.kind" required="" type="radio" value="inappropriate">Inappropriate</input></label></div></div><p class="small">Reporting copyright infringement? <a href="http://support.artstation.com/knowledge_base/topics/copyright-infringement-claims" target="_blank">Read this first</a></p><div class="form-group" ng-class="{ &#39;has-error&#39;: abuseReportForm.description.$invalid &amp;&amp; abuseReportForm.description.$dirty }"><label>Ok, what&#39;s wrong with this?</label><textarea class="form-control" name="description" ng-model="abuseReport.description" required=""></textarea><div class="help-block" ng-messages="abuseReportForm.description.$error" ng-show="abuseReportForm.description.$invalid &amp;&amp; abuseReportForm.description.$dirty"><div ng-message="required">\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e</div></div></div><div class="checkbox" ng-if="allowUserBlock"><label><input ng-model="abuseReport.block_user" type="checkbox" />Block <span ng-bind-html="userBlockName"></span></label></div><div class="btn-toolbar"><div class="btn-group"><button class="btn btn-primary btn-sm" ng-disabled="abuseReportForm.$invalid">Report abuse</button></div><div class="btn-group"><a class="btn btn-default btn-sm" href="" ng-click="cancel()">\u041e\u0442\u043c\u0435\u043d\u0430</a></div></div></form></div></div></div></div>'),e.put("community/directives/abuse_report_modal-en.html",'<div class="modal fade" id="artstation-report-abuse-modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button"><i class="fa fa-times"></i></button><h3 class="modal-title">Report Abuse</h3></div><div class="modal-body"><form class="form" name="abuseReportForm" ng-submit="submit()"><div class="form-group"><label>This is:</label><div class="radio"><label><input name="kind" ng-model="abuseReport.kind" required="" type="radio" value="spam">Spam</input></label></div><div class="radio"><label><input name="kind" ng-model="abuseReport.kind" required="" type="radio" value="inappropriate">Inappropriate</input></label></div></div><p class="small">Reporting copyright infringement? <a href="http://support.artstation.com/knowledge_base/topics/copyright-infringement-claims" target="_blank">Read this first</a></p><div class="form-group" ng-class="{ &#39;has-error&#39;: abuseReportForm.description.$invalid &amp;&amp; abuseReportForm.description.$dirty }"><label>Ok, what&#39;s wrong with this?</label><textarea class="form-control" name="description" ng-model="abuseReport.description" required=""></textarea><div class="help-block" ng-messages="abuseReportForm.description.$error" ng-show="abuseReportForm.description.$invalid &amp;&amp; abuseReportForm.description.$dirty"><div ng-message="required">Required</div></div></div><div class="checkbox" ng-if="allowUserBlock"><label><input ng-model="abuseReport.block_user" type="checkbox" />Block <span ng-bind-html="userBlockName"></span></label></div><div class="btn-toolbar"><div class="btn-group"><button class="btn btn-primary btn-sm" ng-disabled="abuseReportForm.$invalid">Report abuse</button></div><div class="btn-group"><a class="btn btn-default btn-sm" href="" ng-click="cancel()">Cancel</a></div></div></form></div></div></div></div>'),e.put("community/directives/abuse_report_modal.html",e.get("community/directives/abuse_report_modal-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/activity-item-description-ru.html",'<img class="avatar" ng-src="{{ ::sorted_users(feedItem)[0].medium_avatar_url }}" /><div class="activity-label"><ng-repeat-start ng-repeat="user in ::sorted_users(feedItem) track by user.id">{{ $first ? \'\' : $last ? \' and \' : \', \' }}<a ng-href="/{{ ::user.username }}" ng-if="user.id == current_user_id"> \u0412\u044b</a><a ng-bind-html="user.full_name" ng-href="/{{ ::user.username }}" ng-if="user.id != current_user_id"></a><a class="pro-badge" href="/pro" ng-if="user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="user.is_staff">STAFF</div></ng-repeat-start><ng-repeat-end></ng-repeat-end><ng-if-start ng-if="::feedItem.activity_desc.type == &#39;follow_me&#39;"> {{humanized_action(feedItem)}}</ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.activity_desc.type == &#39;follow_user&#39;"> {{humanized_action(feedItem)}} <a ng-bind-html="feedItem.user.full_name" ng-href="/{{ ::feedItem.user.username }}"></a><a class="pro-badge" href="/pro" ng-if="user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="user.is_staff">STAFF</div></ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.for_project"> {{humanized_action(feedItem)}} <a artstation-open-feed-project="{{ ::feedItem.id }}" href="/artwork/{{ ::feedItem.project.hash_id }}" ng-bind-html="feedItem.project.title"></a></ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.for_submission_update"><ng-if-start ng-if="::feedItem.activity_desc.type == &#39;submission_update&#39;"> posted a </ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.activity_desc.type == &#39;submission_update_like&#39;"><ng-if-start ng-if="::feedItem.submission_update.user.id == current_user_id"> liked your </ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.submission_update.user.id != current_user_id"> liked a </ng-if-start><ng-if-end></ng-if-end></ng-if-start><ng-if-end></ng-if-end><a href="/contests/{{ ::feedItem.submission_update.submission.contest.slug }}/challenges/{{ ::feedItem.submission_update.submission.challenge.id }}/submissions/{{ ::feedItem.submission_update.submission.id }}">submission update </a>on <a href="/contests/{{ ::feedItem.submission_update.submission.contest.slug }}/challenges/{{ ::feedItem.submission_update.submission.challenge.id }}">{{::feedItem.submission_update.submission.challenge.title | unescapeHTML}}</a></ng-if-start>.</div>'),e.put("community/directives/activity-item-description-en.html",'<img class="avatar" ng-src="{{ ::sorted_users(feedItem)[0].medium_avatar_url }}" /><div class="activity-label"><ng-repeat-start ng-repeat="user in ::sorted_users(feedItem) track by user.id">{{ $first ? \'\' : $last ? \' and \' : \', \' }}<a ng-href="/{{ ::user.username }}" ng-if="user.id == current_user_id"> You</a><a ng-bind-html="user.full_name" ng-href="/{{ ::user.username }}" ng-if="user.id != current_user_id"></a><a class="pro-badge" href="/pro" ng-if="user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="user.is_staff">STAFF</div></ng-repeat-start><ng-repeat-end></ng-repeat-end><ng-if-start ng-if="::feedItem.activity_desc.type == &#39;follow_me&#39;"> {{humanized_action(feedItem)}}</ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.activity_desc.type == &#39;follow_user&#39;"> {{humanized_action(feedItem)}} <a ng-bind-html="feedItem.user.full_name" ng-href="/{{ ::feedItem.user.username }}"></a><a class="pro-badge" href="/pro" ng-if="user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="user.is_staff">STAFF</div></ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.for_project"> {{humanized_action(feedItem)}} <a artstation-open-feed-project="{{ ::feedItem.id }}" href="/artwork/{{ ::feedItem.project.hash_id }}" ng-bind-html="feedItem.project.title"></a></ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.for_submission_update"><ng-if-start ng-if="::feedItem.activity_desc.type == &#39;submission_update&#39;"> posted a </ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.activity_desc.type == &#39;submission_update_like&#39;"><ng-if-start ng-if="::feedItem.submission_update.user.id == current_user_id"> liked your </ng-if-start><ng-if-end></ng-if-end><ng-if-start ng-if="::feedItem.submission_update.user.id != current_user_id"> liked a </ng-if-start><ng-if-end></ng-if-end></ng-if-start><ng-if-end></ng-if-end><a href="/contests/{{ ::feedItem.submission_update.submission.contest.slug }}/challenges/{{ ::feedItem.submission_update.submission.challenge.id }}/submissions/{{ ::feedItem.submission_update.submission.id }}">submission update </a>on <a href="/contests/{{ ::feedItem.submission_update.submission.contest.slug }}/challenges/{{ ::feedItem.submission_update.submission.challenge.id }}">{{::feedItem.submission_update.submission.challenge.title | unescapeHTML}}</a></ng-if-start>.</div>'),e.put("community/directives/activity-item-description.html",e.get("community/directives/activity-item-description-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/add_to_collection_modal-ru.html",'<div class="modal-collection modal fade" data-backdrop="static" id="collection-modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button"><i class="fa fa-times"></i></button><h3 class="modal-title">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442 \u0432 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e</h3></div><div class="modal-body"><div ng-if="!newCollectionMode"><a class="btn btn-default" ng-click="setNewCollectionMode(true)"><i class="fa fa-plus-circle fa-pad-right"></i>\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u041d\u043e\u0432\u0443\u044e \u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e</a><div class="separator"></div><div class="form-group"><div class="input-group"><span class="input-group-addon"><i class="fa fa-search"></i></span><input class="form-control" id="collection-modal-search" maxlength="250" ng-model="collectionFilter.name" placeholder="\u041d\u0430\u0439\u0442\u0438 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e..." type="text" /></div></div></div><div ng-if="newCollectionMode"><form name="collectionForm" ng-submit="createCollection()"><div class="form-group" ng-class="{ &#39;has-error&#39;: collectionForm.name.$invalid &amp;&amp; collectionForm.name.$dirty }"><input as-set-focus="" class="form-control" maxlength="250" name="name" ng-model="newCollection.name" placeholder="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438" required="true" type="text" /><div class="help-block" ng-messages="collectionForm.name.$error" ng-show="collectionForm.name.$invalid &amp;&amp; collectionForm.name.$dirty"><div ng-message="required">Required</div></div></div><div><a class="btn btn-default pull-right" ng-click="setNewCollectionMode(false)">\u041e\u0442\u043c\u0435\u043d\u0430</a><button class="btn btn-success" type="submit">\u0421\u043e\u0437\u0434\u0430\u0442\u044c</button></div></form></div><div class="collections-list" ng-show="!newCollectionMode"><div class="empty" ng-if="!collections.length">\u0412\u044b \u0435\u0449\u0435 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u043b\u0438 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0439. <a href="" ng-click="setNewCollectionMode(true)"> \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0435\u0439\u0447\u0430\u0441 </a></div><table class="table"><colgroup><col width="90" /><col /><col width="102" /></colgroup><tbody><tr ng-repeat="collection in collections | filter:collectionFilter | filter:newCollection | orderBy: &#39;name&#39;"><td class="td-avatar"><img alt="" class="avatar" height="70" ng-src="{{ collection.micro_square_image_url }}" width="70" /></td><td><div class="title" ng-bind-html="collection.name"></div><div class="count"><as-pluralize count="collection.active_projects_count" dict="counters.projects"></as-pluralize></div><div class="visible-xs"><div class="separator-xs"></div><a class="btn btn-primary display-block btn-xs" ng-click="addToCollection(collection.id)" ng-if="!isProjectAddedToCollection(collection.id)">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e</a><a class="btn btn-default display-block btn-xs" disabled="disabled" ng-if="isProjectAddedToCollection(collection.id)"><div class="fa fa-check fa-pad-right"></div>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e</a></div></td><td class="td-add hidden-xs"><a class="btn btn-primary display-block" ng-click="addToCollection(collection.id)" ng-if="!isProjectAddedToCollection(collection.id)">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e</a><a class="btn btn-default" disabled="disabled" ng-if="isProjectAddedToCollection(collection.id)"><div class="fa fa-check fa-pad-right"></div>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e</a></td></tr></tbody></table><loading-spinner ng-if="!collectionsLoaded"></loading-spinner></div></div></div></div></div>'),e.put("community/directives/add_to_collection_modal-en.html",'<div class="modal-collection modal fade" data-backdrop="static" id="collection-modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button"><i class="fa fa-times"></i></button><h3 class="modal-title">Add project to collection</h3></div><div class="modal-body"><div ng-if="!newCollectionMode"><a class="btn btn-default" ng-click="setNewCollectionMode(true)"><i class="fa fa-plus-circle fa-pad-right"></i>Create New Collection</a><div class="separator"></div><div class="form-group"><div class="input-group"><span class="input-group-addon"><i class="fa fa-search"></i></span><input class="form-control" id="collection-modal-search" maxlength="250" ng-model="collectionFilter.name" placeholder="Search Collections..." type="text" /></div></div></div><div ng-if="newCollectionMode"><form name="collectionForm" ng-submit="createCollection()"><div class="form-group" ng-class="{ &#39;has-error&#39;: collectionForm.name.$invalid &amp;&amp; collectionForm.name.$dirty }"><input as-set-focus="" class="form-control" maxlength="250" name="name" ng-model="newCollection.name" placeholder="Collection name" required="true" type="text" /><div class="help-block" ng-messages="collectionForm.name.$error" ng-show="collectionForm.name.$invalid &amp;&amp; collectionForm.name.$dirty"><div ng-message="required">Required</div></div></div><div><a class="btn btn-default pull-right" ng-click="setNewCollectionMode(false)">Cancel</a><button class="btn btn-success" type="submit">Create</button></div></form></div><div class="collections-list" ng-show="!newCollectionMode"><div class="empty" ng-if="!collections.length">You don&#39;t have any collections. <a href="" ng-click="setNewCollectionMode(true)"> Create one now </a></div><table class="table"><colgroup><col width="90" /><col /><col width="102" /></colgroup><tbody><tr ng-repeat="collection in collections | filter:collectionFilter | filter:newCollection | orderBy: &#39;name&#39;"><td class="td-avatar"><img alt="" class="avatar" height="70" ng-src="{{ collection.micro_square_image_url }}" width="70" /></td><td><div class="title" ng-bind-html="collection.name"></div><div class="count"><as-pluralize count="collection.active_projects_count" dict="counters.projects"></as-pluralize></div><div class="visible-xs"><div class="separator-xs"></div><a class="btn btn-primary display-block btn-xs" ng-click="addToCollection(collection.id)" ng-if="!isProjectAddedToCollection(collection.id)">Add to Collection</a><a class="btn btn-default display-block btn-xs" disabled="disabled" ng-if="isProjectAddedToCollection(collection.id)"><div class="fa fa-check fa-pad-right"></div>Added</a></div></td><td class="td-add hidden-xs"><a class="btn btn-primary display-block" ng-click="addToCollection(collection.id)" ng-if="!isProjectAddedToCollection(collection.id)">Add to Collection</a><a class="btn btn-default" disabled="disabled" ng-if="isProjectAddedToCollection(collection.id)"><div class="fa fa-check fa-pad-right"></div>Added</a></td></tr></tbody></table><loading-spinner ng-if="!collectionsLoaded"></loading-spinner></div></div></div></div></div>'),e.put("community/directives/add_to_collection_modal.html",e.get("community/directives/add_to_collection_modal-en.html"))
}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/as_datepicker-ru.html",'<input class="string required form-control" />'),e.put("community/directives/as_datepicker-en.html",'<input class="string required form-control" />'),e.put("community/directives/as_datepicker.html",e.get("community/directives/as_datepicker-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/as_edit_tags-ru.html",'<div class="edit-tags"><a href="#" ng-click="showEdit()" ng-show="!showEditTags">Edit tags</a><div class="edit-tags-form" ng-show="showEditTags"><label for="tags_edit">Tags</label><select class="tags_edit" id="tags_edit"></select><div class="separator"></div><label for="categories_select">Categories</label><select id="categories-select" multiple=""><option ng-repeat="category in project_categories" ng-selected="categorySelected(category.id)" value="{{category.id}}">{{ category.name }}</option></select><div class="separator"></div><label for="mediums_select">Medium</label><select id="mediums-select"><option ng-repeat="medium in project_mediums" ng-selected="medium.id == project.medium.id" value="{{medium.id}}">{{ medium.name }}</option></select><div class="separator"></div><input class="btn btn-primary" ng-click="saveTags()" type="button" value="Save" />&nbsp;<input class="btn btn-default" ng-click="toggleEditMode()" type="button" value="Cancel" /></div></div>'),e.put("community/directives/as_edit_tags-en.html",'<div class="edit-tags"><a href="#" ng-click="showEdit()" ng-show="!showEditTags">Edit tags</a><div class="edit-tags-form" ng-show="showEditTags"><label for="tags_edit">Tags</label><select class="tags_edit" id="tags_edit"></select><div class="separator"></div><label for="categories_select">Categories</label><select id="categories-select" multiple=""><option ng-repeat="category in project_categories" ng-selected="categorySelected(category.id)" value="{{category.id}}">{{ category.name }}</option></select><div class="separator"></div><label for="mediums_select">Medium</label><select id="mediums-select"><option ng-repeat="medium in project_mediums" ng-selected="medium.id == project.medium.id" value="{{medium.id}}">{{ medium.name }}</option></select><div class="separator"></div><input class="btn btn-primary" ng-click="saveTags()" type="button" value="Save" />&nbsp;<input class="btn btn-default" ng-click="toggleEditMode()" type="button" value="Cancel" /></div></div>'),e.put("community/directives/as_edit_tags.html",e.get("community/directives/as_edit_tags-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/as_footer-ru.html",'<footer class="community-footer"><div class="container"><div class="col-md-3 col-lg-3"><h4>\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0430</h4><p>\u041f\u043e\u0434\u043f\u0438\u0448\u0438\u0442\u0435\u0441\u044c \u043d\u0430 \u043d\u0430\u0448\u0443 \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u043a\u0430\u0436\u0434\u0443\u044e \u043d\u0435\u0434\u0435\u043b\u044e \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u043d\u0430 \u043f\u043e\u0447\u0442\u0443 \u0441\u0430\u043c\u044b\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b \u0445\u0443\u0434\u043e\u0436\u043d\u0438\u043a\u043e\u0432 \u0441 Artstation.</p><form action="//artstation.us7.list-manage.com/subscribe/post?u=b52a9d5d3d54233d936a84d01&amp;amp;id=8cb9126a4a" class="form-inline" method="post" role="form" target="_blank"><div class="form-group"><input class="form-control" name="EMAIL" placeholder="Email" type="email" /></div>&nbsp;<button class="btn btn-sm btn-default" type="submit"><i class="fa fa-pad-right fa-envelope"></i>\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f</button></form></div><div class="col-md-6 col-lg-6"><div class="separator visible-xs visible-sm"></div><h4>Connect with us</h4><div class="community-footer-social"><a class="socialbox facebook" href="https://www.facebook.com/artstationhq" style="display: flex !important;"><div class="social-icon" style="display: block !important;"><i class="fa fa-facebook"></i></div><div class="description"><div class="counter">{{ ::facebook_likes }} </div><span>Facebook Fans</span></div></a><div class="socialbox-separate"></div><a class="socialbox twitter" href="https://twitter.com/artstationhq" style="display: flex !important;"><div class="social-icon" style="display: block !important;"><i class="fa fa-twitter"></i></div><div class="description"><div class="counter">{{ ::twitter_followers }} </div><span>Twitter Followers</span></div></a><div class="socialbox-separate"></div><a class="socialbox instagram" href="https://instagram.com/artstationhq/" style="display: flex !important;"><div class="social-icon" style="display: block !important;"><i class="fa fa-instagram"></i></div><div class="description"><div class="counter">{{ ::instagram_followers }} </div><span>Instagram Followers</span></div></a></div></div><div class="col-md-3 col-lg-3"><div class="separator visible-xs visible-sm"></div><h4>Mobile App</h4><div class="community-footer-apps"><a class="appbox" href="https://itunes.apple.com/us/app/artstation-app/id924645286" target="_blank"><img width="155" height="42" alt="Download ArtStation.com on the App Store" class="img-responsive" src="/assets/app-ios-f2a3082f8ad4608adf8ab75a6376f0ce.svg" /></a><div class="appbox-separate"></div><a class="appbox" href="https://play.google.com/store/apps/details?id=com.ballistiq.artstation" target="_blank"><img width="155" height="42" alt="Get ArtStation.com on Google Play" class="img-responsive" src="/assets/app-android-c250de9a024c6f4333f64424ff2dc21c.svg" /></a></div></div></div></footer>'),e.put("community/directives/as_footer-en.html",'<footer class="community-footer"><div class="container"><div class="col-md-3 col-lg-3"><h4>Newsletter</h4><p>Subscribe to the ArtStation newsletter to get awesome artwork in your mailbox weekly.</p><form action="//artstation.us7.list-manage.com/subscribe/post?u=b52a9d5d3d54233d936a84d01&amp;amp;id=8cb9126a4a" class="form-inline" method="post" role="form" target="_blank"><div class="form-group"><input class="form-control" name="EMAIL" placeholder="Email" type="email" /></div>&nbsp;<button class="btn btn-sm btn-default" type="submit"><i class="fa fa-pad-right fa-envelope"></i>Subscribe</button></form></div><div class="col-md-6 col-lg-6"><div class="separator visible-xs visible-sm"></div><h4>Connect with us</h4><div class="community-footer-social"><a class="socialbox facebook" href="https://www.facebook.com/artstationhq" style="display: flex !important;"><div class="social-icon" style="display: block !important;"><i class="fa fa-facebook"></i></div><div class="description"><div class="counter">{{ ::facebook_likes }} </div><span>Facebook Fans</span></div></a><div class="socialbox-separate"></div><a class="socialbox twitter" href="https://twitter.com/artstationhq" style="display: flex !important;"><div class="social-icon" style="display: block !important;"><i class="fa fa-twitter"></i></div><div class="description"><div class="counter">{{ ::twitter_followers }} </div><span>Twitter Followers</span></div></a><div class="socialbox-separate"></div><a class="socialbox instagram" href="https://instagram.com/artstationhq/" style="display: flex !important;"><div class="social-icon" style="display: block !important;"><i class="fa fa-instagram"></i></div><div class="description"><div class="counter">{{ ::instagram_followers }} </div><span>Instagram Followers</span></div></a></div></div><div class="col-md-3 col-lg-3"><div class="separator visible-xs visible-sm"></div><h4>Mobile App</h4><div class="community-footer-apps"><a class="appbox" href="https://itunes.apple.com/us/app/artstation-app/id924645286" target="_blank"><img width="155" height="42" alt="Download ArtStation.com on the App Store" class="img-responsive" src="/assets/app-ios-f2a3082f8ad4608adf8ab75a6376f0ce.svg" /></a><div class="appbox-separate"></div><a class="appbox" href="https://play.google.com/store/apps/details?id=com.ballistiq.artstation" target="_blank"><img width="155" height="42" alt="Get ArtStation.com on Google Play" class="img-responsive" src="/assets/app-android-c250de9a024c6f4333f64424ff2dc21c.svg" /></a></div></div></div></footer>'),e.put("community/directives/as_footer.html",e.get("community/directives/as_footer-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/as_likes-ru.html",'<a href="" ng-click="showLikesModal()" ng-init="showLikesPopup = false" ng-show="allowViewingAdditionalData"><as-pluralize count="votable.likes_count" dict="counters.like_button_likes"></as-pluralize></a><span ng-show="!allowViewingAdditionalData"><as-pluralize count="votable.likes_count" dict="counters.like_button_likes"></as-pluralize></span><div class="likes-modal modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button"><i class="fa fa-times"></i></button><h3 class="modal-title">\u041a\u043e\u043c\u0443 \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f \u044d\u0442\u0430 \u0440\u0430\u0431\u043e\u0442\u0430</h3></div><div class="modal-body"><table class="artist"><tr ng-repeat="like in likes"><td class="avatar"><a artstation-modal-href="/{{ ::like.user.username }}"><img ng-src="{{ ::like.user.medium_avatar_url }}" /></a></td><td class="artist-info"><div class="name"><a artstation-modal-href="/{{ ::like.user.username }}" ng-bind-html="::like.user.full_name"></a><span class="stat"><i class="fa fa-picture-o"></i> <as-pluralize count="like.user.projects_count" dict="counters.artworks"></as-pluralize></span><span class="stat"><i class="fa fa-users"></i> <as-pluralize count="like.user.followers_count" dict="counters.followers"></as-pluralize></span></div><div class="headline" ng-bind-html="::like.user.headline"></div></td><td class="action" ng-if="user_id != like.user.id"><follow-button user="like.user"></follow-button></td><td class="action" ng-if="user_id == like.user.id"></td></tr></table><div class="separator"></div><div class="text-center" ng-show="loadingData"><i class="fa fa-circle-o-notch fa-lg fa-spin"></i></div><div class="text-center" ng-if="!loadingData &amp;&amp; hasMoreLikes()"><a class="btn btn-primary" href="" ng-click="loadMoreLikes()">\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435</a></div></div></div></div></div>'),e.put("community/directives/as_likes-en.html",'<a href="" ng-click="showLikesModal()" ng-init="showLikesPopup = false" ng-show="allowViewingAdditionalData"><as-pluralize count="votable.likes_count" dict="counters.like_button_likes"></as-pluralize></a><span ng-show="!allowViewingAdditionalData"><as-pluralize count="votable.likes_count" dict="counters.like_button_likes"></as-pluralize></span><div class="likes-modal modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button"><i class="fa fa-times"></i></button><h3 class="modal-title">People Who Like This</h3></div><div class="modal-body"><table class="artist"><tr ng-repeat="like in likes"><td class="avatar"><a artstation-modal-href="/{{ ::like.user.username }}"><img ng-src="{{ ::like.user.medium_avatar_url }}" /></a></td><td class="artist-info"><div class="name"><a artstation-modal-href="/{{ ::like.user.username }}" ng-bind-html="::like.user.full_name"></a><span class="stat"><i class="fa fa-picture-o"></i> <as-pluralize count="like.user.projects_count" dict="counters.artworks"></as-pluralize></span><span class="stat"><i class="fa fa-users"></i> <as-pluralize count="like.user.followers_count" dict="counters.followers"></as-pluralize></span></div><div class="headline" ng-bind-html="::like.user.headline"></div></td><td class="action" ng-if="user_id != like.user.id"><follow-button user="like.user"></follow-button></td><td class="action" ng-if="user_id == like.user.id"></td></tr></table><div class="separator"></div><div class="text-center" ng-show="loadingData"><i class="fa fa-circle-o-notch fa-lg fa-spin"></i></div><div class="text-center" ng-if="!loadingData &amp;&amp; hasMoreLikes()"><a class="btn btn-primary" href="" ng-click="loadMoreLikes()">Load more</a></div></div></div></div></div>'),e.put("community/directives/as_likes.html",e.get("community/directives/as_likes-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/as_pluralize-ru.html","{{textCount}} {{textValue}}"),e.put("community/directives/as_pluralize-en.html","{{textCount}} {{textValue}}"),e.put("community/directives/as_pluralize.html",e.get("community/directives/as_pluralize-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/as_poll-ru.html",'<div class="poll-container" ng-if="showPoll"><div class="alert alert-info"><h4>New profile sidebar Beta 2</h4><p>We are currently testing this new profile sidebar, that makes artist\'s information more visible at a glance. </p><p>Update: We\'ve improved the functionality so that it can either be hidden or shown depending on your viewing preference.</p></div><p>What do you think of this new sidebar design?</p><div class="reaction-list"><a class="reaction" href="#" ng-class="{selected: betaAnswer.reaction == &#39;like&#39;}" ng-click="betaAnswer.reaction = &#39;like&#39;"><i class="fa fa-smile-o"></i></a><a class="reaction" href="#" ng-class="{selected: betaAnswer.reaction == &#39;neutral&#39;}" ng-click="betaAnswer.reaction = &#39;neutral&#39;"><i class="fa fa-meh-o"></i></a><a class="reaction" href="#" ng-class="{selected: betaAnswer.reaction == &#39;dislike&#39;}" ng-click="betaAnswer.reaction = &#39;dislike&#39;"><i class="fa fa-frown-o"></i></a></div><div ng-show="betaAnswer.reaction.length"><div class="form-group"><textarea class="form-control" ng-model="betaAnswer.comment" placeholder="Please share any comments why you feel this way?"></textarea></div><div class="help-block" ng-show="errors.comment">Comment is too long, maximum is 10 000 characters</div><button class="btn btn-primary btn-sm" ng-click="saveAnswer()" ng-disabled="betaAnswer.reaction == &#39;&#39;" type="submit"><i class="fa fa-pad-right fa-comment"></i>Submit</button></div><div class="separator"></div></div><div class="poll-container" ng-if="dafaLoaded &amp;&amp; !showPoll"><div class="alert alert-info"><h4>New profile sidebar Beta 2</h4><p>Thanks for your feedback on the new profile sidebar currently in Beta! We\'ll let the community know of the results shortly.</p></div></div>'),e.put("community/directives/as_poll-en.html",'<div class="poll-container" ng-if="showPoll"><div class="alert alert-info"><h4>New profile sidebar Beta 2</h4><p>We are currently testing this new profile sidebar, that makes artist\'s information more visible at a glance. </p><p>Update: We\'ve improved the functionality so that it can either be hidden or shown depending on your viewing preference.</p></div><p>What do you think of this new sidebar design?</p><div class="reaction-list"><a class="reaction" href="#" ng-class="{selected: betaAnswer.reaction == &#39;like&#39;}" ng-click="betaAnswer.reaction = &#39;like&#39;"><i class="fa fa-smile-o"></i></a><a class="reaction" href="#" ng-class="{selected: betaAnswer.reaction == &#39;neutral&#39;}" ng-click="betaAnswer.reaction = &#39;neutral&#39;"><i class="fa fa-meh-o"></i></a><a class="reaction" href="#" ng-class="{selected: betaAnswer.reaction == &#39;dislike&#39;}" ng-click="betaAnswer.reaction = &#39;dislike&#39;"><i class="fa fa-frown-o"></i></a></div><div ng-show="betaAnswer.reaction.length"><div class="form-group"><textarea class="form-control" ng-model="betaAnswer.comment" placeholder="Please share any comments why you feel this way?"></textarea></div><div class="help-block" ng-show="errors.comment">Comment is too long, maximum is 10 000 characters</div><button class="btn btn-primary btn-sm" ng-click="saveAnswer()" ng-disabled="betaAnswer.reaction == &#39;&#39;" type="submit"><i class="fa fa-pad-right fa-comment"></i>Submit</button></div><div class="separator"></div></div><div class="poll-container" ng-if="dafaLoaded &amp;&amp; !showPoll"><div class="alert alert-info"><h4>New profile sidebar Beta 2</h4><p>Thanks for your feedback on the new profile sidebar currently in Beta! We\'ll let the community know of the results shortly.</p></div></div>'),e.put("community/directives/as_poll.html",e.get("community/directives/as_poll-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/as_resource_actions-ru.html",'<button class="dropdown-toggle btn btn-default btn-xs" data-toggle="dropdown" href="#" ng-click="dropdownShown = !dropdownShown" ng-show="buttonShown" type="button"><i class="fa fa-chevron-down"></i></button><ul class="dropdown-menu dropdown-menu-right dropdown-menu-sm"><li ng-if="showRemoveLinks()"><a href="#" ng-click="removeComment()" ng-if="!target.hidden_by_user">\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439</a></li><li><a href="#" ng-click="reportAbuse()">\u0421\u043e\u043e\u0431\u0449\u0438\u0442\u044c \u043e \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435</a></li><li><a href="#" ng-click="blockUser()" ng-hide="isBlocked()">\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f</a></li><li><a href="#" ng-click="unblockUser()" ng-show="isBlocked()">\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f</a></li><li ng-show="allowAddToTopRow"><a href="#" ng-click="addToTopRow()">Add to Top Row</a></li><li ng-show="allowMarkAsEditorsPick"><a href="#" ng-click="toggleEditorPick()" ng-if="target.editor_pick">\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0412\u044b\u0431\u043e\u0440\u0430 \u0420\u0435\u0434\u0430\u043a\u0446\u0438\u0438</a><a href="#" ng-click="toggleEditorPick()" ng-if="!target.editor_pick">\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0412\u044b\u0431\u043e\u0440\u043e\u043c \u0420\u0435\u0434\u0430\u043a\u0446\u0438\u0438</a></li><li ng-show="allowMarkAsMatureContent"><a href="#" ng-click="toggleMatureContent()">{{ target.admin_adult_content ? "No mature content" : "Has mature content" }}</a></li><li ng-show="allowMarkAsSuppressed"><a href="#" ng-click="toggleSuppression()">{{ target.suppressed ? "Remove Suppression" : "Suppress Trending" }}</a></li></ul>'),e.put("community/directives/as_resource_actions-en.html",'<button class="dropdown-toggle btn btn-default btn-xs" data-toggle="dropdown" href="#" ng-click="dropdownShown = !dropdownShown" ng-show="buttonShown" type="button"><i class="fa fa-chevron-down"></i></button><ul class="dropdown-menu dropdown-menu-right dropdown-menu-sm"><li ng-if="showRemoveLinks()"><a href="#" ng-click="removeComment()" ng-if="!target.hidden_by_user">Remove comment</a></li><li><a href="#" ng-click="reportAbuse()">Report abuse</a></li><li><a href="#" ng-click="blockUser()" ng-hide="isBlocked()">Block user</a></li><li><a href="#" ng-click="unblockUser()" ng-show="isBlocked()">Unblock user</a></li><li ng-show="allowAddToTopRow"><a href="#" ng-click="addToTopRow()">Add to Top Row</a></li><li ng-show="allowMarkAsEditorsPick"><a href="#" ng-click="toggleEditorPick()" ng-if="target.editor_pick">Remove &quot;Editor&#39;s Pick&quot;</a><a href="#" ng-click="toggleEditorPick()" ng-if="!target.editor_pick">Award &quot;Editor&#39;s Pick&quot;</a></li><li ng-show="allowMarkAsMatureContent"><a href="#" ng-click="toggleMatureContent()">{{ target.admin_adult_content ? "No mature content" : "Has mature content" }}</a></li><li ng-show="allowMarkAsSuppressed"><a href="#" ng-click="toggleSuppression()">{{ target.suppressed ? "Remove Suppression" : "Suppress Trending" }}</a></li></ul>'),e.put("community/directives/as_resource_actions.html",e.get("community/directives/as_resource_actions-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/as_star_rating-ru.html",'<div class="star-rating"><span class="active" ng-repeat="i in fullStars"><i class="fa fa-star"></i></span><span class="active" ng-if="halfStar"><i class="fa fa-star-half"></i></span><span class="desc" ng-if="showCount">{{ rating | number:2 }}</span></div>'),e.put("community/directives/as_star_rating-en.html",'<div class="star-rating"><span class="active" ng-repeat="i in fullStars"><i class="fa fa-star"></i></span><span class="active" ng-if="halfStar"><i class="fa fa-star-half"></i></span><span class="desc" ng-if="showCount">{{ rating | number:2 }}</span></div>'),e.put("community/directives/as_star_rating.html",e.get("community/directives/as_star_rating-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/as_video_briefing_upload-ru.html",'<div class="video-briefing"><div class="panel panel-default" id="video-briefing-preview-form" ng-show="model.video_embedded"><div class="panel-heading"><h3 class="panel-title">Video Briefing</h3></div><div class="panel-body-no-padding"><div class="form-group"><div id="video-briefing-preview" ng-bind-html="model.video_embedded | trustAsHtml"></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Video Briefing URL (Vimeo or YouTube)</h3></div><div class="panel-body-no-padding"><input class="form-control" id="video-briefing-url" ng-model="model.video_url" /></div></div></div>'),e.put("community/directives/as_video_briefing_upload-en.html",'<div class="video-briefing"><div class="panel panel-default" id="video-briefing-preview-form" ng-show="model.video_embedded"><div class="panel-heading"><h3 class="panel-title">Video Briefing</h3></div><div class="panel-body-no-padding"><div class="form-group"><div id="video-briefing-preview" ng-bind-html="model.video_embedded | trustAsHtml"></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Video Briefing URL (Vimeo or YouTube)</h3></div><div class="panel-body-no-padding"><input class="form-control" id="video-briefing-url" ng-model="model.video_url" /></div></div></div>'),e.put("community/directives/as_video_briefing_upload.html",e.get("community/directives/as_video_briefing_upload-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/block_user_modal-ru.html",'<div class="modal fade text-left" id="block-user-modal"><div class="modal-dialog"><div class="modal-content"><form name="portfolioOptionsForm" ng-submit="submit()"><div class="modal-header"><button aria-label="close" class="close" data-dismiss="modal"><i class="fa fa-times"></i></button><h3 class="modal-title">Block user  {{username | unescapeHTML}}</h3></div><div class="modal-body"><p>Blocking a user will prevent that user from commenting on your posts and messaging you. If a user is being abusive, please also submit an abuse report for our moderation team to review.</p><p>Note that you will still see this person&#39;s artwork on the public community gallery.</p><p>Do you want to continue?</p></div><div class="modal-footer"><div class="btn-toolbar"><div class="btn-group"><button class="btn btn-primary" type="submit">Yes- Block user</button></div><div class="btn-group"><button class="btn btn-default" data-dismiss="modal">\u041e\u0442\u043c\u0435\u043d\u0430</button></div></div></div></form></div></div></div>'),e.put("community/directives/block_user_modal-en.html",'<div class="modal fade text-left" id="block-user-modal"><div class="modal-dialog"><div class="modal-content"><form name="portfolioOptionsForm" ng-submit="submit()"><div class="modal-header"><button aria-label="close" class="close" data-dismiss="modal"><i class="fa fa-times"></i></button><h3 class="modal-title">Block user  {{username | unescapeHTML}}</h3></div><div class="modal-body"><p>Blocking a user will prevent that user from commenting on your posts and messaging you. If a user is being abusive, please also submit an abuse report for our moderation team to review.</p><p>Note that you will still see this person&#39;s artwork on the public community gallery.</p><p>Do you want to continue?</p></div><div class="modal-footer"><div class="btn-toolbar"><div class="btn-group"><button class="btn btn-primary" type="submit">Yes - Block user</button></div><div class="btn-group"><button class="btn btn-default" data-dismiss="modal">Cancel</button></div></div></div></form></div></div></div>'),e.put("community/directives/block_user_modal.html",e.get("community/directives/block_user_modal-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/comment_item-ru.html",'<div class="media-left"><a class="avatar" href="/{{ comment.user.username }}"><img class="media-object" ng-src="{{ comment.user.medium_avatar_url }}" /></a></div><div class="media-body"><div class="btn-toolbar"><div class="btn-group" ng-if="user_id == comment.user.id"><a class="btn btn-default btn-xs" href="#" ng-click="deleteComment(comment)"><i class="fa fa-times"></i></a></div><div class="btn-group" ng-if="user_id == comment.user.id" ng-show="!comment.editing"><a class="btn btn-default btn-xs" href="#" ng-click="editComment(comment)"><i class="fa fa-pencil"></i></a></div><div as-resource-actions="" class="btn-group" ng-if="user_id != comment.user.id" ng-show="!comment.editing &amp;&amp; user_id" project_user_id="{{ project.user_id }}" target="comment" target-type="comment"></div></div><form ng-if="comment.editing &amp;&amp; user_id == comment.user.id"><div class="form-group"><textarea artstation-textarea-on-return="updateComment(comment)" as-set-focus="true" class="form-control" ng-keyup="keyUp($event, comment)" ng-model="comment.editable_text"></textarea></div><button class="btn btn-primary btn-sm" ng-click="updateComment(comment)" ng-disabled="emptyText(comment.editable_text)" type="submit"><i class="fa fa-pad-right fa-comment"></i>\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439</button><button class="btn btn-default btn-sm pull-right" ng-click="cancelEditingComment(comment)" type="button"><i class="fa fa-pad-right fa-times"></i>\u041e\u0442\u043c\u0435\u043d\u0430</button></form><div class="comment-body" ng-if="!comment.editing"><div class="commenter {{ user_id == comment.user.id ? &#39;owner&#39; : &#39;commenter&#39; }}"><a class="commenter-name" href="/{{ comment.user.username }}" ng-bind-html="comment.user.full_name"></a><a class="pro-badge" href="/pro" ng-if="comment.user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="comment.user.is_staff">STAFF</div></div><div class="commenter-headline" ng-bind-html="comment.user.headline"></div><div class="comment-text" ng-bind-html="comment.text_as_html"></div><ul class="social-actions"><li ng-if="user_id"><a href="#" ng-click="toggleLike(comment)" ng-if="!comment.liked">\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</a><a class="liked" href="#" ng-click="toggleLike(comment)" ng-if="comment.liked"><i class="fa fa-check fa-pad-right"></i>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</a></li><li ng-show="comment.likes_count &gt; 0"><i class="fa fa-thumbs-up fa-pad-right"></i><as-likes votable="comment" votable-type="Comment"></as-likes></li><li ng-show="allowCommentRespond"><a href="#" ng-click="commentRespondFormOpen()">Reply</a></li><li class="pull-right"><i class="posted">{{ comment.created_at | fromNow }}</i></li></ul></div><div class="nested-comments" ng-if="comment.child_comments.length &gt; 0"><div class="clearfix"></div><ul class="media-list"><li class="media" ng-repeat="child_comment in comment.child_comments | orderBy:&#39;created_at&#39;"><div class="media-left"><a class="avatar" href="/{{ child_comment.user.username }}"><img class="media-object" ng-src="{{ child_comment.user.medium_avatar_url }}" /></a></div><div class="media-body"><div class="btn-toolbar"><div class="btn-group" ng-if="user_id == child_comment.user.id"><a class="btn btn-default btn-xs" href="#" ng-click="deleteComment(child_comment)"><i class="fa fa-times"></i></a></div><div class="btn-group" ng-if="user_id == child_comment.user.id" ng-show="!child_comment.editing"><a class="btn btn-default btn-xs" href="#" ng-click="editComment(child_comment)"><i class="fa fa-pencil"></i></a></div><div as-resource-actions="" class="btn-group" ng-if="user_id != child_comment.user.id" ng-show="!child_comment.editing &amp;&amp; user_id" project_user_id="{{ project.user_id }}" target="child_comment" target-type="child_comment"></div></div><form ng-if="child_comment.editing &amp;&amp; user_id == child_comment.user.id"><div class="form-group"><textarea artstation-textarea-on-return="updateComment(child_comment)" as-set-focus="true" class="form-control" ng-keyup="keyUp($event, child_comment)" ng-model="child_comment.editable_text"></textarea></div><button class="btn btn-primary btn-sm" ng-click="updateComment(child_comment)" ng-disabled="emptyText(child_comment.editable_text)" type="submit"><i class="fa fa-pad-right fa-comment"></i>\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439</button><button class="btn btn-default btn-sm pull-right" ng-click="cancelEditingComment(child_comment)" type="button"><i class="fa fa-pad-right fa-times"></i>\u041e\u0442\u043c\u0435\u043d\u0430</button></form><div class="child_comment-body" ng-if="!child_comment.editing"><div class="commenter"><a href="/{{ child_comment.user.username }}" ng-bind-html="child_comment.user.full_name"></a><a class="pro-badge" href="/pro" ng-if="child_comment.user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="child_comment.user.is_staff">STAFF</div></div><div class="commenter-headline" ng-bind-html="child_comment.user.headline"></div><div class="child_comment-text" ng-bind-html="child_comment.text_as_html"></div><ul class="social-actions"><li ng-if="user_id"><a href="#" ng-click="toggleLike(child_comment)" ng-if="!child_comment.liked">\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</a><a class="liked" href="#" ng-click="toggleLike(child_comment)" ng-if="child_comment.liked"><i class="fa fa-check fa-pad-right"></i>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</a></li><li ng-show="child_comment.likes_count &gt; 0"><i class="fa fa-thumbs-up fa-pad-right"></i><as-likes votable="child_comment" votable-type="Comment"></as-likes></li><li ng-show="allowCommentRespond"><a href="#" ng-click="commentRespondFormOpen()">Reply</a></li><li class="pull-right"><i class="posted">{{ child_comment.created_at | fromNow }}</i></li></ul></div></div></li></ul></div><form name="commentRespondForm.Form" ng-if="responding"><div class="separator"></div><div class="form-group" ng-class="{ &#39;has-error&#39;: commentRespondForm.Form.$invalid &amp;&amp; commentRespondForm.Form.respondText.$dirty }"><textarea artstation-textarea-on-return="commentRespond(comment)" as-set-focus="true" class="form-control" name="respondText" ng-model="comment.respond_text"></textarea><div class="help-block" ng-show="commentRespondForm.Form.$invalid &amp;&amp; commentRespondForm.Form.respondText.$dirty"><span ng-bind="commentRespondForm.Form.limitError" ng-if="commentRespondForm.Form.limitError"></span><span ng-if="!commentRespondForm.Form.limitError">Your comment is empty or incorrect</span></div></div><button class="btn btn-primary btn-sm" ng-click="commentRespond(comment)" ng-disabled="emptyText(comment.respond_text)" type="submit"><i class="fa fa-pad-right fa-comment"></i>Post Comment</button><button class="btn btn-default btn-sm pull-right" ng-click="cancelCommentRespond()" type="button"><i class="fa fa-pad-right fa-times"></i>\u041e\u0442\u043c\u0435\u043d\u0430</button></form></div>'),e.put("community/directives/comment_item-en.html",'<div class="media-left"><a class="avatar" href="/{{ comment.user.username }}"><img class="media-object" ng-src="{{ comment.user.medium_avatar_url }}" /></a></div><div class="media-body"><div class="btn-toolbar"><div class="btn-group" ng-if="user_id == comment.user.id"><a class="btn btn-default btn-xs" href="#" ng-click="deleteComment(comment)"><i class="fa fa-times"></i></a></div><div class="btn-group" ng-if="user_id == comment.user.id" ng-show="!comment.editing"><a class="btn btn-default btn-xs" href="#" ng-click="editComment(comment)"><i class="fa fa-pencil"></i></a></div><div as-resource-actions="" class="btn-group" ng-if="user_id != comment.user.id" ng-show="!comment.editing &amp;&amp; user_id" project_user_id="{{ project.user_id }}" target="comment" target-type="comment"></div></div><form ng-if="comment.editing &amp;&amp; user_id == comment.user.id"><div class="form-group"><textarea artstation-textarea-on-return="updateComment(comment)" as-set-focus="true" class="form-control" ng-keyup="keyUp($event, comment)" ng-model="comment.editable_text"></textarea></div><button class="btn btn-primary btn-sm" ng-click="updateComment(comment)" ng-disabled="emptyText(comment.editable_text)" type="submit"><i class="fa fa-pad-right fa-comment"></i>Update Comment</button><button class="btn btn-default btn-sm pull-right" ng-click="cancelEditingComment(comment)" type="button"><i class="fa fa-pad-right fa-times"></i>Cancel</button></form><div class="comment-body" ng-if="!comment.editing"><div class="commenter {{ user_id == comment.user.id ? &#39;owner&#39; : &#39;commenter&#39; }}"><a class="commenter-name" href="/{{ comment.user.username }}" ng-bind-html="comment.user.full_name"></a><a class="pro-badge" href="/pro" ng-if="comment.user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="comment.user.is_staff">STAFF</div></div><div class="commenter-headline" ng-bind-html="comment.user.headline"></div><div class="comment-text" ng-bind-html="comment.text_as_html"></div><ul class="social-actions"><li ng-if="user_id"><a href="#" ng-click="toggleLike(comment)" ng-if="!comment.liked">Like</a><a class="liked" href="#" ng-click="toggleLike(comment)" ng-if="comment.liked"><i class="fa fa-check fa-pad-right"></i>Liked</a></li><li ng-show="comment.likes_count &gt; 0"><i class="fa fa-thumbs-up fa-pad-right"></i><as-likes votable="comment" votable-type="Comment"></as-likes></li><li ng-show="allowCommentRespond"><a href="#" ng-click="commentRespondFormOpen()">Reply</a></li><li class="pull-right"><i class="posted">{{ comment.created_at | fromNow }}</i></li></ul></div><div class="nested-comments" ng-if="comment.child_comments.length &gt; 0"><div class="clearfix"></div><ul class="media-list"><li class="media" ng-repeat="child_comment in comment.child_comments | orderBy:&#39;created_at&#39;"><div class="media-left"><a class="avatar" href="/{{ child_comment.user.username }}"><img class="media-object" ng-src="{{ child_comment.user.medium_avatar_url }}" /></a></div><div class="media-body"><div class="btn-toolbar"><div class="btn-group" ng-if="user_id == child_comment.user.id"><a class="btn btn-default btn-xs" href="#" ng-click="deleteComment(child_comment)"><i class="fa fa-times"></i></a></div><div class="btn-group" ng-if="user_id == child_comment.user.id" ng-show="!child_comment.editing"><a class="btn btn-default btn-xs" href="#" ng-click="editComment(child_comment)"><i class="fa fa-pencil"></i></a></div><div as-resource-actions="" class="btn-group" ng-if="user_id != child_comment.user.id" ng-show="!child_comment.editing &amp;&amp; user_id" project_user_id="{{ project.user_id }}" target="child_comment" target-type="child_comment"></div></div><form ng-if="child_comment.editing &amp;&amp; user_id == child_comment.user.id"><div class="form-group"><textarea artstation-textarea-on-return="updateComment(child_comment)" as-set-focus="true" class="form-control" ng-keyup="keyUp($event, child_comment)" ng-model="child_comment.editable_text"></textarea></div><button class="btn btn-primary btn-sm" ng-click="updateComment(child_comment)" ng-disabled="emptyText(child_comment.editable_text)" type="submit"><i class="fa fa-pad-right fa-comment"></i>Update Comment</button><button class="btn btn-default btn-sm pull-right" ng-click="cancelEditingComment(child_comment)" type="button"><i class="fa fa-pad-right fa-times"></i>Cancel</button></form><div class="child_comment-body" ng-if="!child_comment.editing"><div class="commenter"><a href="/{{ child_comment.user.username }}" ng-bind-html="child_comment.user.full_name"></a><a class="pro-badge" href="/pro" ng-if="child_comment.user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="child_comment.user.is_staff">STAFF</div></div><div class="commenter-headline" ng-bind-html="child_comment.user.headline"></div><div class="child_comment-text" ng-bind-html="child_comment.text_as_html"></div><ul class="social-actions"><li ng-if="user_id"><a href="#" ng-click="toggleLike(child_comment)" ng-if="!child_comment.liked">Like</a><a class="liked" href="#" ng-click="toggleLike(child_comment)" ng-if="child_comment.liked"><i class="fa fa-check fa-pad-right"></i>Liked</a></li><li ng-show="child_comment.likes_count &gt; 0"><i class="fa fa-thumbs-up fa-pad-right"></i><as-likes votable="child_comment" votable-type="Comment"></as-likes></li><li ng-show="allowCommentRespond"><a href="#" ng-click="commentRespondFormOpen()">Reply</a></li><li class="pull-right"><i class="posted">{{ child_comment.created_at | fromNow }}</i></li></ul></div></div></li></ul></div><form name="commentRespondForm.Form" ng-if="responding"><div class="separator"></div><div class="form-group" ng-class="{ &#39;has-error&#39;: commentRespondForm.Form.$invalid &amp;&amp; commentRespondForm.Form.respondText.$dirty }"><textarea artstation-textarea-on-return="commentRespond(comment)" as-set-focus="true" class="form-control" name="respondText" ng-model="comment.respond_text"></textarea><div class="help-block" ng-show="commentRespondForm.Form.$invalid &amp;&amp; commentRespondForm.Form.respondText.$dirty"><span ng-bind="commentRespondForm.Form.limitError" ng-if="commentRespondForm.Form.limitError"></span><span ng-if="!commentRespondForm.Form.limitError">Your comment is empty or incorrect</span></div></div><button class="btn btn-primary btn-sm" ng-click="commentRespond(comment)" ng-disabled="emptyText(comment.respond_text)" type="submit"><i class="fa fa-pad-right fa-comment"></i>Post Comment</button><button class="btn btn-default btn-sm pull-right" ng-click="cancelCommentRespond()" type="button"><i class="fa fa-pad-right fa-times"></i>Cancel</button></form></div>'),e.put("community/directives/comment_item.html",e.get("community/directives/comment_item-en.html"))
}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/comments_list-ru.html",'<ul class="media-list"><li class="media" ng-repeat="comment in collection.items"><comment-item comment="comment" project="project"></comment-item></li></ul>'),e.put("community/directives/comments_list-en.html",'<ul class="media-list"><li class="media" ng-repeat="comment in collection.items"><comment-item comment="comment" project="project"></comment-item></li></ul>'),e.put("community/directives/comments_list.html",e.get("community/directives/comments_list-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/create_collection_modal-ru.html",'<div class="modal modal-collection fade" data-backdrop="static" id="create-collection-modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button aria-hidden="true" class="close" ng-click="cancel()" type="button"><i class="fa fa-times"></i></button><h3 class="modal-title">\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e</h3></div><div class="modal-body"><form class="form" name="collectionForm" ng-submit="submit()"><div class="form-group" ng-class="{ &#39;has-error&#39;: collectionForm.name.$invalid &amp;&amp; collectionForm.name.$dirty }"><label class="control-label" for="name">\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438</label><input autofocus="true" class="form-control" maxlength="250" name="name" ng-model="collection.name" placeholder="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438" required="true" type="text" /><div class="help-block" ng-messages="collectionForm.name.$error" ng-show="collectionForm.name.$invalid &amp;&amp; collectionForm.name.$dirty"><div ng-message="required">\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e</div></div></div><button class="btn btn-success" type="submit">\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c</button></form></div></div></div></div>'),e.put("community/directives/create_collection_modal-en.html",'<div class="modal modal-collection fade" data-backdrop="static" id="create-collection-modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button aria-hidden="true" class="close" ng-click="cancel()" type="button"><i class="fa fa-times"></i></button><h3 class="modal-title">Create Collection</h3></div><div class="modal-body"><form class="form" name="collectionForm" ng-submit="submit()"><div class="form-group" ng-class="{ &#39;has-error&#39;: collectionForm.name.$invalid &amp;&amp; collectionForm.name.$dirty }"><label class="control-label" for="name">Collection name</label><input autofocus="true" class="form-control" maxlength="250" name="name" ng-model="collection.name" placeholder="Collection name" required="true" type="text" /><div class="help-block" ng-messages="collectionForm.name.$error" ng-show="collectionForm.name.$invalid &amp;&amp; collectionForm.name.$dirty"><div ng-message="required">Required</div></div></div><button class="btn btn-success" type="submit">Save</button></form></div></div></div></div>'),e.put("community/directives/create_collection_modal.html",e.get("community/directives/create_collection_modal-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/discussions/discussion_post-ru.html",'<div class="discussion-post discussion-nested-reply" id="discussion-post-{{ discussionPost.id }}"><div class="discussion-post-user"><a class="avatar" href="" ng-href="{{ discussionPost.user.permalink }}"><img ng-src="{{ discussionPost.user.medium_avatar_url }}" /></a><div class="name"><a href="" ng-bind-html="discussionPost.user.full_name" ng-href="{{ discussionPost.user.permalink }}"></a><a class="pro-badge smaller" href="/pro" ng-if="discussionPost.user.pro_member" target="_top">PRO</a><a class="host-badge smaller" ng-if="isHost()" target="_top">HOST</a><div class="staff-badge smaller" ng-if="discussionPost.user.is_staff">STAFF</div></div><div class="headline" ng-bind-html="discussionPost.user.headline"></div><div class="location" ng-if="discussionPost.user.location"><i class="fa fa-map-marker fa-pad-right"></i><span ng-bind-html="discussionPost.user.location"></span></div></div><div class="discussion-post-body"><div class="panel panel-default" ng-if="!editing"><div class="panel-heading">\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043e {{ discussionPost.created_at | fromNow }}<div class="btn-group pull-right" ng-if="currentUser.id"><a class="dropdown-toggle btn btn-default btn-xs" data-toggle="dropdown" href=""><i class="fa fa-chevron-down"></i></a><ul class="dropdown-menu dropdown-menu-right dropdown-menu-sm"><li ng-if="belongsToCurrentUser() &amp;&amp; !disableEdit"><a href="" ng-click="edit()">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a></li><li class="disabled" ng-if="belongsToCurrentUser() &amp;&amp; disableEdit"><a href="">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e</a></li><li ng-if="belongsToCurrentUser() &amp;&amp; !disableDelete"><a href="" ng-click="destroy()">\u0423\u0434\u0430\u043b\u0438\u0442\u044c</a></li><li class="disabled" ng-if="belongsToCurrentUser() &amp;&amp; disableDelete"><a href="">\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e</a></li><li ng-if="!belongsToCurrentUser()"><a href="" ng-click="reportAbuse()">Report Abuse</a></li></ul></div></div><div class="panel-body"><div class="post-user-mobile"><a class="avatar" href="" ng-href="{{ discussionPost.user.permalink }}"><img ng-src="{{ discussionPost.user.medium_avatar_url }}" /></a><div class="user-info"><a class="name" href="" ng-bind-html="discussionPost.user.full_name" ng-href="{{ discussionPost.user.permalink }}"></a><div class="headline" ng-bind-html="discussionPost.user.headline"></div></div></div><h4 ng-bind-html="discussionPost.title | trustAsHtml" ng-if="discussionPost.title"></h4><div as-light-box="" class="post-content" ng-bind-html="discussionPost.body_presentation_html | trustAsHtml"></div><div class="edited-notice" ng-if="discussionPost.edited_at"><div class="separator"></div><i>\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u043e {{ discussion_post.edited_at | fromNow }}</i></div><ul class="post-actions"><li><a href="" ng-authorized-click="toggleLike()" ng-if="!discussionPost.liked">\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</a><a class="liked" href="" ng-click="toggleLike()" ng-if="discussionPost.liked"><i class="fa fa-check fa-pad-right"></i>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</a></li><li><as-likes hide-likes-list="hideLikesList" votable="discussionPost" votable-type="DiscussionPost"></as-likes></li><li ng-if="!disableComment"><a href="" ng-authorized-artist-click="reply()">\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c</a></li></ul></div></div><div class="panel panel-default" ng-if="editing"><div class="panel-heading"><h4 class="panel-title">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</h4></div><discussion-post-form current-user="currentUser" discussion-post="discussionPost"></discussion-post-form></div><div data-replies="true"></div><div class="discussion-post discussion-nested-reply" ng-if="replying &amp;&amp; !discussionPost.parent_id"><div class="discussion-post-user"><a class="avatar" href="" ng-href="/{{ currentUser.username }}"><img ng-src="{{ currentUser.avatar_url }}" /></a><a class="name" href="" ng-bind-html="currentUser.full_name" ng-href="/{{ currentUser.username }}"></a></div><div class="discussion-post-body"><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title">\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c</h4></div><discussion-post-form current-user="currentUser" parent-id="discussionPost.id"></discussion-post-form></div></div></div></div></div>'),e.put("community/directives/discussions/discussion_post-en.html",'<div class="discussion-post discussion-nested-reply" id="discussion-post-{{ discussionPost.id }}"><div class="discussion-post-user"><a class="avatar" href="" ng-href="{{ discussionPost.user.permalink }}"><img ng-src="{{ discussionPost.user.medium_avatar_url }}" /></a><div class="name"><a href="" ng-bind-html="discussionPost.user.full_name" ng-href="{{ discussionPost.user.permalink }}"></a><a class="pro-badge smaller" href="/pro" ng-if="discussionPost.user.pro_member" target="_top">PRO</a><a class="host-badge smaller" ng-if="isHost()" target="_top">HOST</a><div class="staff-badge smaller" ng-if="discussionPost.user.is_staff">STAFF</div></div><div class="headline" ng-bind-html="discussionPost.user.headline"></div><div class="location" ng-if="discussionPost.user.location"><i class="fa fa-map-marker fa-pad-right"></i><span ng-bind-html="discussionPost.user.location"></span></div></div><div class="discussion-post-body"><div class="panel panel-default" ng-if="!editing"><div class="panel-heading">Posted {{ discussionPost.created_at | fromNow }}<div class="btn-group pull-right" ng-if="currentUser.id"><a class="dropdown-toggle btn btn-default btn-xs" data-toggle="dropdown" href=""><i class="fa fa-chevron-down"></i></a><ul class="dropdown-menu dropdown-menu-right dropdown-menu-sm"><li ng-if="belongsToCurrentUser() &amp;&amp; !disableEdit"><a href="" ng-click="edit()">Edit</a></li><li class="disabled" ng-if="belongsToCurrentUser() &amp;&amp; disableEdit"><a href="">Edit disabled</a></li><li ng-if="belongsToCurrentUser() &amp;&amp; !disableDelete"><a href="" ng-click="destroy()">Remove</a></li><li class="disabled" ng-if="belongsToCurrentUser() &amp;&amp; disableDelete"><a href="">Remove disabled</a></li><li ng-if="!belongsToCurrentUser()"><a href="" ng-click="reportAbuse()">Report Abuse</a></li></ul></div></div><div class="panel-body"><div class="post-user-mobile"><a class="avatar" href="" ng-href="{{ discussionPost.user.permalink }}"><img ng-src="{{ discussionPost.user.medium_avatar_url }}" /></a><div class="user-info"><a class="name" href="" ng-bind-html="discussionPost.user.full_name" ng-href="{{ discussionPost.user.permalink }}"></a><div class="headline" ng-bind-html="discussionPost.user.headline"></div></div></div><h4 ng-bind-html="discussionPost.title | trustAsHtml" ng-if="discussionPost.title"></h4><div as-light-box="" class="post-content" ng-bind-html="discussionPost.body_presentation_html | trustAsHtml"></div><div class="edited-notice" ng-if="discussionPost.edited_at"><div class="separator"></div><i>Edited {{ discussion_post.edited_at | fromNow }}</i></div><ul class="post-actions"><li><a href="" ng-authorized-click="toggleLike()" ng-if="!discussionPost.liked">Like</a><a class="liked" href="" ng-click="toggleLike()" ng-if="discussionPost.liked"><i class="fa fa-check fa-pad-right"></i>Liked</a></li><li><as-likes hide-likes-list="hideLikesList" votable="discussionPost" votable-type="DiscussionPost"></as-likes></li><li ng-if="!disableComment"><a href="" ng-authorized-artist-click="reply()">Reply</a></li></ul></div></div><div class="panel panel-default" ng-if="editing"><div class="panel-heading"><h4 class="panel-title">Edit</h4></div><discussion-post-form current-user="currentUser" discussion-post="discussionPost"></discussion-post-form></div><div data-replies="true"></div><div class="discussion-post discussion-nested-reply" ng-if="replying &amp;&amp; !discussionPost.parent_id"><div class="discussion-post-user"><a class="avatar" href="" ng-href="/{{ currentUser.username }}"><img ng-src="{{ currentUser.avatar_url }}" /></a><a class="name" href="" ng-bind-html="currentUser.full_name" ng-href="/{{ currentUser.username }}"></a></div><div class="discussion-post-body"><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title">Post a reply</h4></div><discussion-post-form current-user="currentUser" parent-id="discussionPost.id"></discussion-post-form></div></div></div></div></div>'),e.put("community/directives/discussions/discussion_post.html",e.get("community/directives/discussions/discussion_post-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/discussions/discussion_post_form-ru.html",'<form id="discussion-post-form-{{$id}}" name="discussionPostForm" ng-submit="submitForm()"><div class="panel-body-no-padding panel-body-wysihtml"><textarea froala="froalaOptions" name="body" ng-if="froalaOptions" ng-model="discussionPost.body" required="" type="text"></textarea></div><div class="panel-body"><div class="btn-toolbar"><div class="btn-group"><button class="btn btn-primary btn-sm" ng-disabled="discussionPostForm.$invalid || submittingForm" type="submit"><span ng-if="!submittingForm">\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c</span><span ng-if="submittingForm">Please wait...</span></button></div><div class="btn-group"><a class="btn btn-default btn-sm" href="#" ng-click="cancel()" ng-disabled="submittingForm">\u041e\u0442\u043c\u0435\u043d\u0430</a></div></div></div></form>'),e.put("community/directives/discussions/discussion_post_form-en.html",'<form id="discussion-post-form-{{$id}}" name="discussionPostForm" ng-submit="submitForm()"><div class="panel-body-no-padding panel-body-wysihtml"><textarea froala="froalaOptions" name="body" ng-if="froalaOptions" ng-model="discussionPost.body" required="" type="text"></textarea></div><div class="panel-body"><div class="btn-toolbar"><div class="btn-group"><button class="btn btn-primary btn-sm" ng-disabled="discussionPostForm.$invalid || submittingForm" type="submit"><span ng-if="!submittingForm">Submit</span><span ng-if="submittingForm">Please wait...</span></button></div><div class="btn-group"><a class="btn btn-default btn-sm" href="#" ng-click="cancel()" ng-disabled="submittingForm">Cancel</a></div></div></div></form>'),e.put("community/directives/discussions/discussion_post_form.html",e.get("community/directives/discussions/discussion_post_form-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/edit_collection_modal-ru.html",'<div class="modal modal-collection fade" data-backdrop="static" id="edit-collection-modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button aria-hidden="true" class="close" ng-click="cancel()" type="button"><i class="fa fa-times"></i></button><h3 class="modal-title">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e</h3></div><div class="modal-body"><form class="form" name="collectionForm" ng-submit="submit()"><div class="form-group" ng-class="{ &#39;has-error&#39;: collectionForm.collection_name.$invalid &amp;&amp; collectionForm.collection_name.$dirty }"><label class="control-label" for="collection_name">\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438</label><input autofocus="true" class="form-control" maxlength="250" name="collection_name" ng-model="collection.name" placeholder="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438" required="true" type="text" unescaped="" /><div class="help-block" ng-messages="collectionForm.collection_name.$error" ng-show="collectionForm.collection_name.$invalid &amp;&amp; collectionForm.collection_name.$dirty"><div ng-message="required">\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e</div></div></div><button class="btn btn-success" type="submit">\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c</button></form></div></div></div></div>'),e.put("community/directives/edit_collection_modal-en.html",'<div class="modal modal-collection fade" data-backdrop="static" id="edit-collection-modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button aria-hidden="true" class="close" ng-click="cancel()" type="button"><i class="fa fa-times"></i></button><h3 class="modal-title">Edit Collection</h3></div><div class="modal-body"><form class="form" name="collectionForm" ng-submit="submit()"><div class="form-group" ng-class="{ &#39;has-error&#39;: collectionForm.collection_name.$invalid &amp;&amp; collectionForm.collection_name.$dirty }"><label class="control-label" for="collection_name">Collection name</label><input autofocus="true" class="form-control" maxlength="250" name="collection_name" ng-model="collection.name" placeholder="Collection name" required="true" type="text" unescaped="" /><div class="help-block" ng-messages="collectionForm.collection_name.$error" ng-show="collectionForm.collection_name.$invalid &amp;&amp; collectionForm.collection_name.$dirty"><div ng-message="required">Required</div></div></div><button class="btn btn-success" type="submit">Save</button></form></div></div></div></div>'),e.put("community/directives/edit_collection_modal.html",e.get("community/directives/edit_collection_modal-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/embed_copy_button-ru.html",'<a href="#" ng-click="showEmbedModal()">Embed code</a><div class="embed-modal modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button"><i class="fa fa-times"></i></button><h3 class="modal-title">Embed Code</h3></div><div class="modal-body"><div class="form-group"><textarea class="copy-text form-control" ng-model="html" readonly="true" rows="5"></textarea></div><a class="btn btn-primary copy-button" href="#"><i class="fa fa-link fa-pad-right"></i>Copy code</a></div></div></div></div>'),e.put("community/directives/embed_copy_button-en.html",'<a href="#" ng-click="showEmbedModal()">Embed code</a><div class="embed-modal modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button"><i class="fa fa-times"></i></button><h3 class="modal-title">Embed Code</h3></div><div class="modal-body"><div class="form-group"><textarea class="copy-text form-control" ng-model="html" readonly="true" rows="5"></textarea></div><a class="btn btn-primary copy-button" href="#"><i class="fa fa-link fa-pad-right"></i>Copy code</a></div></div></div></div>'),e.put("community/directives/embed_copy_button.html",e.get("community/directives/embed_copy_button-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/featured_jobs-ru.html",'<section class="home-featured-section"><div class="separator"></div><div class="separator"></div><div class="container"><div class="text-center"><h2 class="featured-section-title"><i class="fa fa-briefcase fa-pad-right"></i>\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0435 \u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0438</h2><p><a href="/jobs" target="_top">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438</a></p></div><div class="separator-sm"></div><div class="featured-items"><a class="featured-item" ng-href="/jobs/{{ job.hash_id }}" ng-repeat="job in featuredJobs" target="_self"><table><tr><td class="featured-item-image"><img ng-src="{{ job.thumb_url }}" /></td><td class="featured-item-body"><div class="featured-item-title">{{ job.title }}</div><div class="featured-item-description">{{ job.company_name }}<br />{{ job.location_formatted }}</div></td></tr></table></a></div></div></section>'),e.put("community/directives/featured_jobs-en.html",'<section class="home-featured-section"><div class="separator"></div><div class="separator"></div><div class="container"><div class="text-center"><h2 class="featured-section-title"><i class="fa fa-briefcase fa-pad-right"></i>Featured Jobs</h2><p><a href="/jobs" target="_top">See all jobs</a></p></div><div class="separator-sm"></div><div class="featured-items"><a class="featured-item" ng-href="/jobs/{{ job.hash_id }}" ng-repeat="job in featuredJobs" target="_self"><table><tr><td class="featured-item-image"><img ng-src="{{ job.thumb_url }}" /></td><td class="featured-item-body"><div class="featured-item-title">{{ job.title }}</div><div class="featured-item-description">{{ job.company_name }}<br />{{ job.location_formatted }}</div></td></tr></table></a></div></div></section>'),e.put("community/directives/featured_jobs.html",e.get("community/directives/featured_jobs-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/featured_magazine_articles-ru.html",'<section class="home-featured-section"><div class="separator"></div><div class="container"><div class="text-center"><h2 class="featured-section-title"><i class="fa icon-artstation fa-pad-right"></i>ArtStation Magazine</h2><p><a href="http://magazine.artstation.com" target="_top">\u0412\u0441\u0435 \u0441\u0442\u0430\u0442\u044c\u0438</a></p></div><div class="separator-sm"></div><div class="featured-items"><a class="featured-item" ng-href="{{ item.url }}" ng-repeat="item in featuredMagazineArticles" target="_blank"><table><tr><td class="featured-item-image"><img ng-src="{{ item.image_url }}" /></td><td class="featured-item-body"><div class="featured-item-title">{{ item.title }}</div><div class="featured-item-description">{{ item.description }}</div></td></tr></table></a></div></div><div class="separator"></div></section>'),e.put("community/directives/featured_magazine_articles-en.html",'<section class="home-featured-section"><div class="separator"></div><div class="container"><div class="text-center"><h2 class="featured-section-title"><i class="fa icon-artstation fa-pad-right"></i>ArtStation Magazine</h2><p><a href="http://magazine.artstation.com" target="_top">All articles</a></p></div><div class="separator-sm"></div><div class="featured-items"><a class="featured-item" ng-href="{{ item.url }}" ng-repeat="item in featuredMagazineArticles" target="_blank"><table><tr><td class="featured-item-image"><img ng-src="{{ item.image_url }}" /></td><td class="featured-item-body"><div class="featured-item-title">{{ item.title }}</div><div class="featured-item-description">{{ item.description }}</div></td></tr></table></a></div></div><div class="separator"></div></section>'),e.put("community/directives/featured_magazine_articles.html",e.get("community/directives/featured_magazine_articles-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/follow_button-ru.html",'<button class="btn btn-primary btn-sm" ng-click="toggleFollow()" ng-if="user &amp;&amp; !user.followed &amp;&amp; currentUser &amp;&amp; user.id != currentUser.id" title="Follow this user (F)" type="button"><i class="fa fa-user-plus fa-pad-right"></i>\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f</button><button class="btn btn-default btn-following btn-sm" ng-click="toggleFollow()" ng-if="user &amp;&amp; user.followed &amp;&amp; currentUser &amp;&amp; user.id != currentUser.id" type="button"><i class="fa fa-check fa-pad-right"></i>\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d</button><button class="btn btn-primary btn-sm" disabled="true" ng-click="toggleFollow()" ng-if="!user &amp;&amp; currentUser &amp;&amp; user.id != currentUser.id" title="Follow this user (F)" type="button"><i class="fa fa-user-plus fa-pad-right"></i>\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f</button>'),e.put("community/directives/follow_button-en.html",'<button class="btn btn-primary btn-sm" ng-click="toggleFollow()" ng-if="user &amp;&amp; !user.followed &amp;&amp; currentUser &amp;&amp; user.id != currentUser.id" title="Follow this user (F)" type="button"><i class="fa fa-user-plus fa-pad-right"></i>Follow</button><button class="btn btn-default btn-following btn-sm" ng-click="toggleFollow()" ng-if="user &amp;&amp; user.followed &amp;&amp; currentUser &amp;&amp; user.id != currentUser.id" type="button"><i class="fa fa-check fa-pad-right"></i>Following</button><button class="btn btn-primary btn-sm" disabled="true" ng-click="toggleFollow()" ng-if="!user &amp;&amp; currentUser &amp;&amp; user.id != currentUser.id" title="Follow this user (F)" type="button"><i class="fa fa-user-plus fa-pad-right"></i>Follow</button>'),e.put("community/directives/follow_button.html",e.get("community/directives/follow_button-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/follow_button_activity-ru.html",'<a class="btn btn-sm btn-primary" href="#" ng-click="toggleFollow()" ng-if="user &amp;&amp; !user.followed" title="Follow this user (F)"><i class="fa fa-users fa-pad-right"></i>\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f</a><a class="btn btn-sm btn-default" href="#" ng-click="toggleFollow()" ng-if="user &amp;&amp; user.followed"><i class="fa fa-check fa-pad-right"></i>\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d</a><a class="btn btn-sm btn-primary" disabled="true" href="#" ng-click="toggleFollow()" ng-if="!user" title="Follow this user (F)"><i class="fa fa-users fa-pad-right"></i>\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f</a>'),e.put("community/directives/follow_button_activity-en.html",'<a class="btn btn-sm btn-primary" href="#" ng-click="toggleFollow()" ng-if="user &amp;&amp; !user.followed" title="Follow this user (F)"><i class="fa fa-users fa-pad-right"></i>Follow</a><a class="btn btn-sm btn-default" href="#" ng-click="toggleFollow()" ng-if="user &amp;&amp; user.followed"><i class="fa fa-check fa-pad-right"></i>Following</a><a class="btn btn-sm btn-primary" disabled="true" href="#" ng-click="toggleFollow()" ng-if="!user" title="Follow this user (F)"><i class="fa fa-users fa-pad-right"></i>Follow</a>'),e.put("community/directives/follow_button_activity.html",e.get("community/directives/follow_button_activity-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/follow_button_recommendations-ru.html",'<a class="btn btn-primary btn-xs" href="#" ng-click="toggleFollow()" ng-if="user &amp;&amp; !user.followed" title="Follow">\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f</a><a class="btn btn-sm btn-xs btn-default" href="#" ng-click="toggleFollow()" ng-if="user &amp;&amp; user.followed">\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d</a>'),e.put("community/directives/follow_button_recommendations-en.html",'<a class="btn btn-primary btn-xs" href="#" ng-click="toggleFollow()" ng-if="user &amp;&amp; !user.followed" title="Follow">Follow</a><a class="btn btn-sm btn-xs btn-default" href="#" ng-click="toggleFollow()" ng-if="user &amp;&amp; user.followed">Following</a>'),e.put("community/directives/follow_button_recommendations.html",e.get("community/directives/follow_button_recommendations-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/loading_spinner-ru.html",'<div class="text-center"><div class="separator"></div><i class="fa fa-circle-o-notch fa-spin fa-2x"></i><div class="separator"></div></div>'),e.put("community/directives/loading_spinner-en.html",'<div class="text-center"><div class="separator"></div><i class="fa fa-circle-o-notch fa-spin fa-2x"></i><div class="separator"></div></div>'),e.put("community/directives/loading_spinner.html",e.get("community/directives/loading_spinner-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/mosaic-ru.html",'<div class="mosaic" ng-show="enoughItems"><div class="project" ng-class="{small: small}" ng-hide="showLoadingGif" ng-repeat="project in collection.items"><a artstation-open-project="{{ project.id }}" ng-href="/artwork/{{ project.hash_id }}"><ul class="icons-list"><li ng-if="project.icons.image"><div class="icon-gallery"></div></li><li ng-if="project.icons.model3d || project.icons.marmoset"><div class="icon-cube"></div></li><li ng-if="project.icons.video"><div class="icon-video-camera"></div></li><li ng-if="project.icons.pano"><div class="icon-pano"></div></li></ul><img class="image" ng-if="$index &lt; 6 &amp;&amp; (!project.hide_as_adult || user_show_adult)" ng-src="{{ project.cover.small_square_url }}" /><img class="image" ng-if="$index &gt;= 6 &amp;&amp; (!project.hide_as_adult || user_show_adult)" ng-src="{{ project.cover.thumb_url }}" /><img class="image" ng-if="project.hide_as_adult &amp;&amp; !user_show_adult" src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><div ng-if="!enoughItems"><div class="separator-lg"></div><div class="text-center"><div class="lead">Not enough projects to generate mosaic, please try different filter options.</div><p><a class="btn btn-default btn-sm" href="#" ng-click="resetFilters()">Reset filters</a></p></div><div class="separator-lg"></div></div>'),e.put("community/directives/mosaic-en.html",'<div class="mosaic" ng-show="enoughItems"><div class="project" ng-class="{small: small}" ng-hide="showLoadingGif" ng-repeat="project in collection.items"><a artstation-open-project="{{ project.id }}" ng-href="/artwork/{{ project.hash_id }}"><ul class="icons-list"><li ng-if="project.icons.image"><div class="icon-gallery"></div></li><li ng-if="project.icons.model3d || project.icons.marmoset"><div class="icon-cube"></div></li><li ng-if="project.icons.video"><div class="icon-video-camera"></div></li><li ng-if="project.icons.pano"><div class="icon-pano"></div></li></ul><img class="image" ng-if="$index &lt; 6 &amp;&amp; (!project.hide_as_adult || user_show_adult)" ng-src="{{ project.cover.small_square_url }}" /><img class="image" ng-if="$index &gt;= 6 &amp;&amp; (!project.hide_as_adult || user_show_adult)" ng-src="{{ project.cover.thumb_url }}" /><img class="image" ng-if="project.hide_as_adult &amp;&amp; !user_show_adult" src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><div ng-if="!enoughItems"><div class="separator-lg"></div><div class="text-center"><div class="lead">Not enough projects to generate mosaic, please try different filter options.</div><p><a class="btn btn-default btn-sm" href="#" ng-click="resetFilters()">Reset filters</a></p></div><div class="separator-lg"></div></div>'),e.put("community/directives/mosaic.html",e.get("community/directives/mosaic-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/project_assets-ru.html",'<div class="artwork" data-id="{{asset.id}}" data-viewport-constraint-type="{{ ::asset.viewport_constraint_type }}" ng-class="{ video: asset.has_embedded_player }" ng-repeat="asset in visibleCollection() | orderBy: [&#39;position&#39;, &#39;id&#39;]"><div class="artwork-embedded embed-responsive embed-responsive-16by9" ng-bind-html="asset.player_embedded" ng-if="asset.has_embedded_player"></div><embed-copy-button html="asset.player_embedded" ng-if="asset.asset_type == &#39;marmoset&#39;"></embed-copy-button><div class="artwork-image" ng-if="asset.has_image &amp;&amp; !asset.has_embedded_player" style="position: relative;"><img ng-src="{{ ::asset.image_url }}" /><div class="asset-actions"><a class="btn" ng-href="{{ asset.image_url.includes(&#39;?&#39;) ? asset.image_url + &#39;&amp;dl=1&#39; : asset.image_url + &#39;?dl=1&#39; }}" target="_blank"><i class="fa fa-download"></i></a><a class="btn" ng-href="{{ ::asset.image_url }}" rel="noopener noreferrer" target="_blank"><i class="fa fa-expand"></i></a></div></div><div class="caption" ng-bind-html="asset.title_formatted"></div></div>'),e.put("community/directives/project_assets-en.html",'<div class="artwork" data-id="{{asset.id}}" data-viewport-constraint-type="{{ ::asset.viewport_constraint_type }}" ng-class="{ video: asset.has_embedded_player }" ng-repeat="asset in visibleCollection() | orderBy: [&#39;position&#39;, &#39;id&#39;]"><div class="artwork-embedded embed-responsive embed-responsive-16by9" ng-bind-html="asset.player_embedded" ng-if="asset.has_embedded_player"></div><embed-copy-button html="asset.player_embedded" ng-if="asset.asset_type == &#39;marmoset&#39;"></embed-copy-button><div class="artwork-image" ng-if="asset.has_image &amp;&amp; !asset.has_embedded_player" style="position: relative;"><img ng-src="{{ ::asset.image_url }}" /><div class="asset-actions"><a class="btn" ng-href="{{ asset.image_url.includes(&#39;?&#39;) ? asset.image_url + &#39;&amp;dl=1&#39; : asset.image_url + &#39;?dl=1&#39; }}" target="_blank"><i class="fa fa-download"></i></a><a class="btn" ng-href="{{ ::asset.image_url }}" rel="noopener noreferrer" target="_blank"><i class="fa fa-expand"></i></a></div></div><div class="caption" ng-bind-html="asset.title_formatted"></div></div>'),e.put("community/directives/project_assets.html",e.get("community/directives/project_assets-en.html"))
}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/projects_list-ru.html",'<div class="gallery-container form-prolongate-session"><div class="nav navbar-default gallery-navbar" ng-if="::withNavigation"><div class="container-fluid"><ul class="nav navbar-nav navbar-sorting" data-filter="sorting"><li ng-class="{active: filters.isCurrent(&#39;sorting&#39;, item.uri)}" ng-repeat="item in filterOptions.sorting"><a href="#" ng-click="setFilter(&#39;sorting&#39;, item.uri)">{{ ::item.name }}</a></li><li ng-class="{active: filters.isCurrent(&#39;sorting&#39;, &#39;following&#39;)}" ng-if="user_logged_in"><a href="#" ng-click="setFilter(&#39;sorting&#39;, &#39;following&#39;)">\u041c\u043e\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438</a></li><li ng-class="{active: filters.isCurrent(&#39;sorting&#39;, &#39;streams&#39;)}"><a href="#" ng-click="setFilter(&#39;sorting&#39;, &#39;streams&#39;)">\u0422\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u0438</a></li><li ng-show="!filters.filters.sorting"><a href="#" ng-click="reload()"><i class="fa fa-pad-right fa-refresh"></i>\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c</a></li></ul><ul class="nav navbar-nav navbar-right navbar-subject-matter" ng-if="!shouldShowTwitchStreams()"><li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><span ng-bind="dropdowns.category.title"></span><i class="fa fa-chevron-down fa-pad-left"></i></a><ul class="dropdown-menu" data-filter="category"><li ng-class="{active: filters.isCurrent(&#39;category&#39;, item.uri)}" ng-repeat="item in ::filterOptions.category | orderBy:&#39;name&#39;"><a href="#" ng-click="setFilter(&#39;category&#39;, item.uri, item.name)">{{ ::item.name }}</a></li></ul></li></ul><ul class="nav navbar-nav navbar-right navbar-medium" ng-if="!shouldShowTwitchStreams()"><li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><span ng-bind="dropdowns.medium.title"></span><span class="filtered" ng-show="assetFilters.marmoset || assetFilters.sketchfab || assetFilters.video || assetFilters.pano">&nbsp;(\u0441 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u043c)</span><i class="fa fa-chevron-down fa-pad-left"></i></a><ul class="dropdown-menu" data-filter="medium"><li ng-class="{active: filters.isCurrent(&#39;medium&#39;, item.uri)}" ng-repeat="item in filterOptions.medium"><a href="#" ng-click="setFilter(&#39;medium&#39;, item.uri, item.name)">{{ ::item.name }}</a></li><li class="divider"></li><li class="dropdown-header">\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u044b \u0441:</li><li class="dropdown-checkbox"><div class="checkbox"><label><input ng-change="setAssetFilter(&#39;marmoset&#39;, assetFilters.marmoset)" ng-model="assetFilters.marmoset" type="checkbox" />Marmoset Viewer</label></div></li><li class="dropdown-checkbox"><div class="checkbox"><label><input ng-change="setAssetFilter(&#39;sketchfab&#39;, assetFilters.sketchfab)" ng-model="assetFilters.sketchfab" type="checkbox" />Sketchfab</label></div></li><li class="dropdown-checkbox"><div class="checkbox"><label><input ng-change="setAssetFilter(&#39;video&#39;, assetFilters.video)" ng-model="assetFilters.video" type="checkbox" />\u0412\u0438\u0434\u0435\u043e</label></div></li><li class="dropdown-checkbox"><div class="checkbox"><label><input ng-change="setAssetFilter(&#39;pano&#39;, assetFilters.pano)" ng-model="assetFilters.pano" type="checkbox" />360 Panos</label></div></li></ul></li></ul></div></div><div ng-if="!shouldShowTwitchStreams()"><div ng-if="!shouldShowMosaic()"><div class="gallery" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="project" ng-repeat="project in collection.items | unique:&#39;id&#39;"><a artstation-open-project="{{ ::project.id }}" class="project-image" href="/artwork/{{ ::project.hash_id }}"><ul class="icons-list"><li ng-if="project.icons.image"><div class="icon-gallery"></div></li><li ng-if="project.icons.model3d || project.icons.marmoset"><div class="icon-cube"></div></li><li ng-if="project.icons.video"><div class="icon-video-camera"></div></li><li ng-if="project.icons.pano"><div class="icon-pano"></div></li></ul><div class="overlay"><div class="info"><img class="avatar" ng-src="{{ ::project.user.medium_avatar_url }}" /><div class="title" ng-bind-html="project.title"></div><div class="name">{{ ::project.user.full_name | unescapeHTML }}<div class="pro-badge smaller" ng-if="project.user.pro_member">PRO</div><div class="staff-badge smaller" ng-if="project.user.is_staff">STAFF</div></div></div></div><img class="image" ng-if="::!project.hide_as_adult" ng-src="{{ ::project.cover.thumb_url }}" /><img class="image" ng-if="::project.hide_as_adult" src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><div class="clearfix"></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner><div class="text-center" ng-if="showLoadingIcon == false &amp;&amp; collection.itemsCounter == 0"><div class="separator-lg"></div><div class="lead">No projects to show, please try different filter options.</div><p ng-if="!filters.isCurrent(&#39;sorting&#39;, &#39;following&#39;)"><a class="btn btn-default btn-sm" href="#" ng-click="resetFilters()">Reset filters</a></p><div class="separator-lg"></div></div></div><div ng-if="shouldShowMosaic()"><artstation-mosaic collection="collection" ng-if="!showLoadingIcon"></artstation-mosaic><div class="clearfix"></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner><artstation-featured-jobs></artstation-featured-jobs><artstation-featured-magazine-articles></artstation-featured-magazine-articles><artstation-footer></artstation-footer></div></div></div><div ng-if="shouldShowTwitchStreams()"><twitch-streams></twitch-streams></div><featured-jobs ng-if="shouldShowMosaic()"></featured-jobs><featured-magazine-articles ng-if="shouldShowMosaic()"></featured-magazine-articles><as-footer ng-if="shouldShowMosaic()"></as-footer>'),e.put("community/directives/projects_list-en.html",'<div class="gallery-container form-prolongate-session"><div class="nav navbar-default gallery-navbar" ng-if="::withNavigation"><div class="container-fluid"><ul class="nav navbar-nav navbar-sorting" data-filter="sorting"><li ng-class="{active: filters.isCurrent(&#39;sorting&#39;, item.uri)}" ng-repeat="item in filterOptions.sorting"><a href="#" ng-click="setFilter(&#39;sorting&#39;, item.uri)">{{ ::item.name }}</a></li><li ng-class="{active: filters.isCurrent(&#39;sorting&#39;, &#39;following&#39;)}" ng-if="user_logged_in"><a href="#" ng-click="setFilter(&#39;sorting&#39;, &#39;following&#39;)">Following</a></li><li ng-class="{active: filters.isCurrent(&#39;sorting&#39;, &#39;streams&#39;)}"><a href="#" ng-click="setFilter(&#39;sorting&#39;, &#39;streams&#39;)">Streams</a></li><li ng-show="!filters.filters.sorting"><a href="#" ng-click="reload()"><i class="fa fa-pad-right fa-refresh"></i>Refresh</a></li></ul><ul class="nav navbar-nav navbar-right navbar-subject-matter" ng-if="!shouldShowTwitchStreams()"><li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><span ng-bind="dropdowns.category.title"></span><i class="fa fa-chevron-down fa-pad-left"></i></a><ul class="dropdown-menu" data-filter="category"><li ng-class="{active: filters.isCurrent(&#39;category&#39;, item.uri)}" ng-repeat="item in ::filterOptions.category | orderBy:&#39;name&#39;"><a href="#" ng-click="setFilter(&#39;category&#39;, item.uri, item.name)">{{ ::item.name }}</a></li></ul></li></ul><ul class="nav navbar-nav navbar-right navbar-medium" ng-if="!shouldShowTwitchStreams()"><li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><span ng-bind="dropdowns.medium.title"></span><span class="filtered" ng-show="assetFilters.marmoset || assetFilters.sketchfab || assetFilters.video || assetFilters.pano">&nbsp;(filtered)</span><i class="fa fa-chevron-down fa-pad-left"></i></a><ul class="dropdown-menu" data-filter="medium"><li ng-class="{active: filters.isCurrent(&#39;medium&#39;, item.uri)}" ng-repeat="item in filterOptions.medium"><a href="#" ng-click="setFilter(&#39;medium&#39;, item.uri, item.name)">{{ ::item.name }}</a></li><li class="divider"></li><li class="dropdown-header">Only show projects with:</li><li class="dropdown-checkbox"><div class="checkbox"><label><input ng-change="setAssetFilter(&#39;marmoset&#39;, assetFilters.marmoset)" ng-model="assetFilters.marmoset" type="checkbox" />Marmoset Viewer</label></div></li><li class="dropdown-checkbox"><div class="checkbox"><label><input ng-change="setAssetFilter(&#39;sketchfab&#39;, assetFilters.sketchfab)" ng-model="assetFilters.sketchfab" type="checkbox" />Sketchfab</label></div></li><li class="dropdown-checkbox"><div class="checkbox"><label><input ng-change="setAssetFilter(&#39;video&#39;, assetFilters.video)" ng-model="assetFilters.video" type="checkbox" />Video</label></div></li><li class="dropdown-checkbox"><div class="checkbox"><label><input ng-change="setAssetFilter(&#39;pano&#39;, assetFilters.pano)" ng-model="assetFilters.pano" type="checkbox" />360 Panos</label></div></li></ul></li></ul></div></div><div ng-if="!shouldShowTwitchStreams()"><div ng-if="!shouldShowMosaic()"><div class="gallery" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="project" ng-repeat="project in collection.items | unique:&#39;id&#39;"><a artstation-open-project="{{ ::project.id }}" class="project-image" href="/artwork/{{ ::project.hash_id }}"><ul class="icons-list"><li ng-if="project.icons.image"><div class="icon-gallery"></div></li><li ng-if="project.icons.model3d || project.icons.marmoset"><div class="icon-cube"></div></li><li ng-if="project.icons.video"><div class="icon-video-camera"></div></li><li ng-if="project.icons.pano"><div class="icon-pano"></div></li></ul><div class="overlay"><div class="info"><img class="avatar" ng-src="{{ ::project.user.medium_avatar_url }}" /><div class="title" ng-bind-html="project.title"></div><div class="name">{{ ::project.user.full_name | unescapeHTML }}<div class="pro-badge smaller" ng-if="project.user.pro_member">PRO</div><div class="staff-badge smaller" ng-if="project.user.is_staff">STAFF</div></div></div></div><img class="image" ng-if="::!project.hide_as_adult" ng-src="{{ ::project.cover.thumb_url }}" /><img class="image" ng-if="::project.hide_as_adult" src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><div class="clearfix"></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner><div class="text-center" ng-if="showLoadingIcon == false &amp;&amp; collection.itemsCounter == 0"><div class="separator-lg"></div><div class="lead">No projects to show, please try different filter options.</div><p ng-if="!filters.isCurrent(&#39;sorting&#39;, &#39;following&#39;)"><a class="btn btn-default btn-sm" href="#" ng-click="resetFilters()">Reset filters</a></p><div class="separator-lg"></div></div></div><div ng-if="shouldShowMosaic()"><artstation-mosaic collection="collection" ng-if="!showLoadingIcon"></artstation-mosaic><div class="clearfix"></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner><artstation-featured-jobs></artstation-featured-jobs><artstation-featured-magazine-articles></artstation-featured-magazine-articles><artstation-footer></artstation-footer></div></div></div><div ng-if="shouldShowTwitchStreams()"><twitch-streams></twitch-streams></div><featured-jobs ng-if="shouldShowMosaic()"></featured-jobs><featured-magazine-articles ng-if="shouldShowMosaic()"></featured-magazine-articles><as-footer ng-if="shouldShowMosaic()"></as-footer>'),e.put("community/directives/projects_list.html",e.get("community/directives/projects_list-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/recommended_projects_carousel-ru.html",'<div ng-class="recommendedClass" ng-show="projects.length"><div class="similar-projects-head clearfix" ng-show="!hideTitle"><a class="pull-right similar-projects-close" href="#" ng-show="!hideClose"><i class="fa fa-close" ng-click="projects = []"></i></a>Others also liked </div><div class="similar-projects-list"><a class="similar-project" href="{{ project.url }}" ng-repeat="project in projects" ng-show="project.visible" style="background-image: url(&#39;{{ project.micro_square_cover_url }}&#39;);"><div class="similar-project-overlay"><div class="similar-project-title" ng-bind-html="project.title"></div><div class="similar-project-author" ng-bind-html="project.user.full_name"></div></div></a></div></div>'),e.put("community/directives/recommended_projects_carousel-en.html",'<div ng-class="recommendedClass" ng-show="projects.length"><div class="similar-projects-head clearfix" ng-show="!hideTitle"><a class="pull-right similar-projects-close" href="#" ng-show="!hideClose"><i class="fa fa-close" ng-click="projects = []"></i></a>Others also liked </div><div class="similar-projects-list"><a class="similar-project" href="{{ project.url }}" ng-repeat="project in projects" ng-show="project.visible" style="background-image: url(&#39;{{ project.micro_square_cover_url }}&#39;);"><div class="similar-project-overlay"><div class="similar-project-title" ng-bind-html="project.title"></div><div class="similar-project-author" ng-bind-html="project.user.full_name"></div></div></a></div></div>'),e.put("community/directives/recommended_projects_carousel.html",e.get("community/directives/recommended_projects_carousel-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/recommended_users-ru.html",'<div class="similar-projects similar-projects-following" ng-show="users.length"><div class="similar-projects-head clearfix"><a class="pull-right similar-projects-close" ng-click="close()"><i class="fa fa-close"></i></a>Others also follow </div><div class="similar-user-list" ng-repeat="user in users"><div class="similar-projects-user"><a class="similar-projects-avatar" ng-href="{{ user.artstation_profile_url }}"><img alt="" class="img-responsive circle" height="40" ng-src="{{ user.medium_avatar_url }}" width="40" /></a><div class="similar-projects-user-inner"><a class="similar-projects-user-name" ng-bind-html="user.full_name" ng-href="{{ user.artstation_profile_url }}"></a><div class="similar-projects-user-title" ng-bind-html="user.headline"></div></div><follow-button data-follow-template="follow_button_recommendations" user="user"></follow-button></div><recommended-projects-carousel hide-close="true" hide-title="true" projects="user.projects"></recommended-projects-carousel></div></div>'),e.put("community/directives/recommended_users-en.html",'<div class="similar-projects similar-projects-following" ng-show="users.length"><div class="similar-projects-head clearfix"><a class="pull-right similar-projects-close" ng-click="close()"><i class="fa fa-close"></i></a>Others also follow </div><div class="similar-user-list" ng-repeat="user in users"><div class="similar-projects-user"><a class="similar-projects-avatar" ng-href="{{ user.artstation_profile_url }}"><img alt="" class="img-responsive circle" height="40" ng-src="{{ user.medium_avatar_url }}" width="40" /></a><div class="similar-projects-user-inner"><a class="similar-projects-user-name" ng-bind-html="user.full_name" ng-href="{{ user.artstation_profile_url }}"></a><div class="similar-projects-user-title" ng-bind-html="user.headline"></div></div><follow-button data-follow-template="follow_button_recommendations" user="user"></follow-button></div><recommended-projects-carousel hide-close="true" hide-title="true" projects="user.projects"></recommended-projects-carousel></div></div>'),e.put("community/directives/recommended_users.html",e.get("community/directives/recommended_users-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/support_artstation_please-ru.html",'<div class="i-love-artstation" ng-if="showAsset &amp;&amp; responsiveWideEnough" ng-style="{ &#39;width&#39;: width }"><div class="friends-message"><a href="/about/marketing-services" target="_top">\u0414\u0440\u0443\u0437\u044c\u044f ArtStation</a></div><div class="clearfix"></div><a ng-href="/c/click?campaign_asset_id={{ assetId }}&amp;url={{ assetUrl }}" ng-if="assetType == &#39;image&#39;" target="_blank"><img ng-src="{{ assetImage }}" ng-style="{ &#39;width&#39;: width, &#39;height&#39;: height }" /></a><div ng-bind-html="embedHtml" ng-if="assetType == &#39;embed&#39;"></div><div class="hidden" ng-bind-html="impressionTrackingTag" ng-if="impressionTrackingTag"></div></div>'),e.put("community/directives/support_artstation_please-en.html",'<div class="i-love-artstation" ng-if="showAsset &amp;&amp; responsiveWideEnough" ng-style="{ &#39;width&#39;: width }"><div class="friends-message"><a href="/about/marketing-services" target="_top">Friends of ArtStation</a></div><div class="clearfix"></div><a ng-href="/c/click?campaign_asset_id={{ assetId }}&amp;url={{ assetUrl }}" ng-if="assetType == &#39;image&#39;" target="_blank"><img ng-src="{{ assetImage }}" ng-style="{ &#39;width&#39;: width, &#39;height&#39;: height }" /></a><div ng-bind-html="embedHtml" ng-if="assetType == &#39;embed&#39;"></div><div class="hidden" ng-bind-html="impressionTrackingTag" ng-if="impressionTrackingTag"></div></div>'),e.put("community/directives/support_artstation_please.html",e.get("community/directives/support_artstation_please-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/twitch_streams-ru.html",'<div class="separator"></div><div class="lead text-center" ng-if="!streams.items.length &amp;&amp; !streamsLoading">\u0412 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u0442\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u0438</div><div class="text-center">\u0425\u043e\u0442\u0438\u0442\u0435 \u0442\u0440\u0430\u043d\u0441\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0438\u0434\u0435\u043e \u043d\u0430 ArtStation?<br /><a href="http://support.artstation.com/knowledge_base/topics/how-do-i-stream-to-artstation-using-twitch" target="_blank">\u0423\u0437\u043d\u0430\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438</a></div><div class="container-fluid"><div class="separator"></div><div class="cards-grid" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="thumbnail card" ng-repeat="stream in streams.items"><div class="card-thumbnail"><div class="overlay"><a class="hitzone" ng-href="/streams/{{ stream.id }}"><div class="btn btn-primary">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0422\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u044e</div></a></div><img ng-src="{{ stream.preview_image }}" /></div><div class="caption card-title stream-title">{{ stream.title }}</div><div class="caption card-user"><a class="avatar" ng-href="/{{ stream.user.username }}"><img ng-src="{{ stream.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="stream.user.full_name" ng-href="/{{ stream.user.username }}"></a><a class="pro-badge" href="/pro" ng-if="stream.user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="stream.user.is_staff">STAFF</div><div class="headline" ng-bind-html="stream.user.headline"></div><div class="location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="stream.user.location"></span></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ stream.viewers_count }}</div></div></div></div></div></div><div class="text-center"></div>'),e.put("community/directives/twitch_streams-en.html",'<div class="separator"></div><div class="lead text-center" ng-if="!streams.items.length &amp;&amp; !streamsLoading">There are currently no streams</div><div class="text-center">Want to stream to ArtStation?<br /><a href="http://support.artstation.com/knowledge_base/topics/how-do-i-stream-to-artstation-using-twitch" target="_blank">Learn how here</a></div><div class="container-fluid"><div class="separator"></div><div class="cards-grid" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="thumbnail card" ng-repeat="stream in streams.items"><div class="card-thumbnail"><div class="overlay"><a class="hitzone" ng-href="/streams/{{ stream.id }}"><div class="btn btn-primary">View Stream</div></a></div><img ng-src="{{ stream.preview_image }}" /></div><div class="caption card-title stream-title">{{ stream.title }}</div><div class="caption card-user"><a class="avatar" ng-href="/{{ stream.user.username }}"><img ng-src="{{ stream.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="stream.user.full_name" ng-href="/{{ stream.user.username }}"></a><a class="pro-badge" href="/pro" ng-if="stream.user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="stream.user.is_staff">STAFF</div><div class="headline" ng-bind-html="stream.user.headline"></div><div class="location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="stream.user.location"></span></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ stream.viewers_count }}</div></div></div></div></div></div><div class="text-center"></div>'),e.put("community/directives/twitch_streams.html",e.get("community/directives/twitch_streams-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/users/user_album_title-ru.html",'<div class="separator"></div><div class="text-center"><h3 ng-bind-html="&#39;\u0410\u043b\u044c\u0431\u043e\u043c: &#39; + album.title"></h3><p><a href="" ng-href="/{{ user.username }}">\u041d\u0430\u0437\u0430\u0434</a></p></div>'),e.put("community/directives/users/user_album_title-en.html",'<div class="separator"></div><div class="text-center"><h3 ng-bind-html="&#39;Album: &#39; + album.title"></h3><p><a href="" ng-href="/{{ user.username }}">Back</a></p></div>'),e.put("community/directives/users/user_album_title.html",e.get("community/directives/users/user_album_title-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/users/user_albums-ru.html",'<loading-spinner ng-if="showLoadingIcon"></loading-spinner><div class="portfolio-albums"><a class="album" ng-hide="albumId == album.id" ng-href="/{{user.username}}/albums/{{album.id}}" ng-repeat="album in albums"><div class="album-images"><div class="main-image-col"><img ng-if="!album.preview_project_thumbs[0].hide_as_adult || currentUser.show_adult" ng-src="{{ album.preview_project_thumbs[0].thumb_url }}" /><img ng-if="album.preview_project_thumbs[0].hide_as_adult &amp;&amp; !currentUser.show_adult" src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></div><div class="small-images-col"><img ng-if="!album.preview_project_thumbs[1].hide_as_adult || currentUser.show_adult" ng-src="{{ album.preview_project_thumbs[1].thumb_url }}" /><img ng-if="album.preview_project_thumbs[1].hide_as_adult &amp;&amp; !currentUser.show_adult" src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /><img ng-if="!album.preview_project_thumbs[2].hide_as_adult || currentUser.show_adult" ng-src="{{ album.preview_project_thumbs[2].thumb_url }}" /><img ng-if="album.preview_project_thumbs[2].hide_as_adult &amp;&amp; !currentUser.show_adult" src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /><img ng-if="!album.preview_project_thumbs[3].hide_as_adult || currentUser.show_adult" ng-src="{{ album.preview_project_thumbs[3].thumb_url }}" /><img ng-if="album.preview_project_thumbs[3].hide_as_adult &amp;&amp; !currentUser.show_adult" src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></div></div><div class="album-description"><div class="description" ng-if="album.album_type == 0">{{ album.title | unescapeHTML }}</div><div class="description" ng-if="album.album_type == 1">\u0412\u0441\u0435</div><div class="count">{{ album.community_projects_count }}</div></div></a></div>'),e.put("community/directives/users/user_albums-en.html",'<loading-spinner ng-if="showLoadingIcon"></loading-spinner><div class="portfolio-albums"><a class="album" ng-hide="albumId == album.id" ng-href="/{{user.username}}/albums/{{album.id}}" ng-repeat="album in albums"><div class="album-images"><div class="main-image-col"><img ng-if="!album.preview_project_thumbs[0].hide_as_adult || currentUser.show_adult" ng-src="{{ album.preview_project_thumbs[0].thumb_url }}" /><img ng-if="album.preview_project_thumbs[0].hide_as_adult &amp;&amp; !currentUser.show_adult" src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></div><div class="small-images-col"><img ng-if="!album.preview_project_thumbs[1].hide_as_adult || currentUser.show_adult" ng-src="{{ album.preview_project_thumbs[1].thumb_url }}" /><img ng-if="album.preview_project_thumbs[1].hide_as_adult &amp;&amp; !currentUser.show_adult" src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /><img ng-if="!album.preview_project_thumbs[2].hide_as_adult || currentUser.show_adult" ng-src="{{ album.preview_project_thumbs[2].thumb_url }}" /><img ng-if="album.preview_project_thumbs[2].hide_as_adult &amp;&amp; !currentUser.show_adult" src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /><img ng-if="!album.preview_project_thumbs[3].hide_as_adult || currentUser.show_adult" ng-src="{{ album.preview_project_thumbs[3].thumb_url }}" /><img ng-if="album.preview_project_thumbs[3].hide_as_adult &amp;&amp; !currentUser.show_adult" src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></div></div><div class="album-description"><div class="description" ng-if="album.album_type == 0">{{ album.title | unescapeHTML }}</div><div class="description" ng-if="album.album_type == 1">All</div><div class="count">{{ album.community_projects_count }}</div></div></a></div>'),e.put("community/directives/users/user_albums.html",e.get("community/directives/users/user_albums-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/users/user_card-ru.html",'<div class="user-card"><div class="row"><div class="col-md-6"><div class="user"><a class="avatar" ng-href="/{{user.username}}" target="_self"><img ng-src="{{ user.medium_avatar_url }}" /></a><div class="user-info"><a class="user-name" ng-bind-html="user.full_name" ng-href="/{{user.username}}" target="_self"></a><a class="pro-badge" href="/pro" ng-if="user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="user.is_staff">STAFF</div><div class="headline" ng-bind-html="user.headline"></div><div class="location"><i class="fa icon-location fa-pad-right"></i>{{ user.city | unescapeHTML }}, {{ user.country }}</div></div></div></div><div class="col-md-6"><div class="social"><follow-button user="user"></follow-button></div></div></div><div ng-if="user.artist_role"><div class="separator-sm"></div><div ng-if="user.skills.length &gt; 0"><ul class="skills"><li>\u041d\u0430\u0432\u044b\u043a\u0438:</li><li ng-repeat="skill in user.skills"><div class="label label-info" ng-bind-html="skill.name"></div></li></ul><div class="separator-sm"></div></div><div ng-if="user.software_items.length &gt; 0"><ul class="software-proficiency"><li ng-repeat="software_item in user.software_items"><div class="icon"><img ng-src="{{ software_item.icon_url }}" /></div><div class="name" ng-bind-html="software_item.name"></div></li></ul></div><a class="artwork" ng-href="/{{ user.username }}" ng-if="user.sample_projects.length &gt; 0" target="_self"><div class="thumb" ng-repeat="thumb in user.sample_projects"><img ng-src="{{ thumb }}" /></div></a><div class="clearfix"></div><ul class="availability"><li>\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c:</li><li ng-if="!user.available_full_time &amp;&amp; !user.available_contract &amp;&amp; !user.available_freelance">\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e</li><li class="status" ng-if="user.available_full_time"><i class="fa fa-check fa-pad-right"></i>\u041f\u043e\u043b\u043d\u044b\u0439 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u0434\u0435\u043d\u044c</li><li class="status" ng-if="user.available_contract"><i class="fa fa-check fa-pad-right"></i>\u041a\u043e\u043d\u0442\u0440\u0430\u043a\u0442</li><li class="status" ng-if="user.available_freelance"><i class="fa fa-check fa-pad-right"></i>\u0424\u0440\u0438\u043b\u0430\u043d\u0441</li><li class="pull-right"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ user.likes_count | number }}</li><li class="pull-right"><i class="fa fa-users fa-pad-right"></i>{{ user.followers_count | number }}</li></ul></div></div>'),e.put("community/directives/users/user_card-en.html",'<div class="user-card"><div class="row"><div class="col-md-6"><div class="user"><a class="avatar" ng-href="/{{user.username}}" target="_self"><img ng-src="{{ user.medium_avatar_url }}" /></a><div class="user-info"><a class="user-name" ng-bind-html="user.full_name" ng-href="/{{user.username}}" target="_self"></a><a class="pro-badge" href="/pro" ng-if="user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="user.is_staff">STAFF</div><div class="headline" ng-bind-html="user.headline"></div><div class="location"><i class="fa icon-location fa-pad-right"></i>{{ user.city | unescapeHTML }}, {{ user.country }}</div></div></div></div><div class="col-md-6"><div class="social"><follow-button user="user"></follow-button></div></div></div><div ng-if="user.artist_role"><div class="separator-sm"></div><div ng-if="user.skills.length &gt; 0"><ul class="skills"><li>Skills:</li><li ng-repeat="skill in user.skills"><div class="label label-info" ng-bind-html="skill.name"></div></li></ul><div class="separator-sm"></div></div><div ng-if="user.software_items.length &gt; 0"><ul class="software-proficiency"><li ng-repeat="software_item in user.software_items"><div class="icon"><img ng-src="{{ software_item.icon_url }}" /></div><div class="name" ng-bind-html="software_item.name"></div></li></ul></div><a class="artwork" ng-href="/{{ user.username }}" ng-if="user.sample_projects.length &gt; 0" target="_self"><div class="thumb" ng-repeat="thumb in user.sample_projects"><img ng-src="{{ thumb }}" /></div></a><div class="clearfix"></div><ul class="availability"><li>Availability:</li><li ng-if="!user.available_full_time &amp;&amp; !user.available_contract &amp;&amp; !user.available_freelance">Unspecified</li><li class="status" ng-if="user.available_full_time"><i class="fa fa-check fa-pad-right"></i>Full-time</li><li class="status" ng-if="user.available_contract"><i class="fa fa-check fa-pad-right"></i>Contract</li><li class="status" ng-if="user.available_freelance"><i class="fa fa-check fa-pad-right"></i>Freelance</li><li class="pull-right"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ user.likes_count | number }}</li><li class="pull-right"><i class="fa fa-users fa-pad-right"></i>{{ user.followers_count | number }}</li></ul></div></div>'),e.put("community/directives/users/user_card.html",e.get("community/directives/users/user_card-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/users/user_followers-ru.html",'<div class="users-grid" infinite-scroll="loadMore()" infinite-scroll-distance="1"><a class="user" ng-href="/{{ user.username }}" ng-repeat="user in collection.items" style="background-image: url(&#39;{{ user.sample_projects[0] }}&#39;);"><div class="user-info"><div class="avatar"><img ng-src="{{ user.medium_avatar_url }}" /></div><h4 class="name">{{ user.full_name | unescapeHTML }}<div class="pro-badge" ng-if="user.pro_member">PRO</div><div class="staff-badge" ng-if="user.is_staff">STAFF</div></h4><div class="headline" ng-bind-html="user.headline"></div><div class="following" ng-if="user.followed"><i class="fa fa-check fa-pad-right"></i>Following</div></div><div class="overlay"></div></a></div><div class="load-more" ng-show="showLoadingIcon"><i class="fa fa-circle-o-notch fa-spin fa-2x"></i></div>'),e.put("community/directives/users/user_followers-en.html",'<div class="users-grid" infinite-scroll="loadMore()" infinite-scroll-distance="1"><a class="user" ng-href="/{{ user.username }}" ng-repeat="user in collection.items" style="background-image: url(&#39;{{ user.sample_projects[0] }}&#39;);"><div class="user-info"><div class="avatar"><img ng-src="{{ user.medium_avatar_url }}" /></div><h4 class="name">{{ user.full_name | unescapeHTML }}<div class="pro-badge" ng-if="user.pro_member">PRO</div><div class="staff-badge" ng-if="user.is_staff">STAFF</div></h4><div class="headline" ng-bind-html="user.headline"></div><div class="following" ng-if="user.followed"><i class="fa fa-check fa-pad-right"></i>Following</div></div><div class="overlay"></div></a></div><div class="load-more" ng-show="showLoadingIcon"><i class="fa fa-circle-o-notch fa-spin fa-2x"></i></div>'),e.put("community/directives/users/user_followers.html",e.get("community/directives/users/user_followers-en.html"))
}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/users/user_following-ru.html",'<div class="users-grid" infinite-scroll="loadMore()" infinite-scroll-distance="1"><a class="user" ng-href="/{{ user.username }}" ng-repeat="user in collection.items" style="background-image: url(&#39;{{ user.sample_projects[0] }}&#39;);"><div class="user-info"><div class="avatar"><img ng-src="{{ user.medium_avatar_url }}" /></div><h4 class="name">{{ user.full_name | unescapeHTML }}<div class="pro-badge" ng-if="user.pro_member">PRO</div><div class="staff-badge" ng-if="user.is_staff">STAFF</div></h4><div class="headline" ng-bind-html="user.headline"></div><div class="following" ng-if="user.followed"><i class="fa fa-check fa-pad-right"></i>Following</div></div><div class="overlay"></div></a></div><div class="load-more" ng-show="showLoadingIcon"><i class="fa fa-circle-o-notch fa-spin fa-2x"></i></div>'),e.put("community/directives/users/user_following-en.html",'<div class="users-grid" infinite-scroll="loadMore()" infinite-scroll-distance="1"><a class="user" ng-href="/{{ user.username }}" ng-repeat="user in collection.items" style="background-image: url(&#39;{{ user.sample_projects[0] }}&#39;);"><div class="user-info"><div class="avatar"><img ng-src="{{ user.medium_avatar_url }}" /></div><h4 class="name">{{ user.full_name | unescapeHTML }}<div class="pro-badge" ng-if="user.pro_member">PRO</div><div class="staff-badge" ng-if="user.is_staff">STAFF</div></h4><div class="headline" ng-bind-html="user.headline"></div><div class="following" ng-if="user.followed"><i class="fa fa-check fa-pad-right"></i>Following</div></div><div class="overlay"></div></a></div><div class="load-more" ng-show="showLoadingIcon"><i class="fa fa-circle-o-notch fa-spin fa-2x"></i></div>'),e.put("community/directives/users/user_following.html",e.get("community/directives/users/user_following-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/users/user_header-ru.html",'<div class="artist-masthead" ng-style="{backgroundImage: &#39;url(/assets/artist-profile-masthead-gradient.png), url(&#39; + user.default_cover_url + &#39;)&#39;}"><div class="change-cover-image hidden-xs" ng-if="currentUser &amp;&amp; user &amp;&amp; currentUser.id == user.id"><div id="upload-cover"><form action="/account/cover" method="POST"><input name="_method" type="hidden" value="PUT" /><span class="btn btn-default btn-xs" ng-class="{{ coverUploadingInProcess ? &#39;active&#39; : &#39;&#39; }}"><i class="fa fa-pad-right fa-upload"></i><span class="text" ng-if="coverUploadingInProcess">\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c&hellip;</span><span class="text" ng-if="!coverUploadingInProcess">\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0431\u043b\u043e\u0436\u043a\u0443 (1920x640+)</span><input name="account[cover]" ng-disabled="{{ coverUploadingInProcess }}" type="file" /></span></form></div></div><div class="remove-cover-image hidden-xs" ng-if="currentUser.id == user.id &amp;&amp; user.cover_file_name"><span class="btn btn-default btn-xs" ng-class="{{ coverUploadingInProcess ? &#39;active&#39; : &#39;&#39; }}" ng-click="deleteCover()"><i class="fa fa-pad-right fa-remove"></i><span class="text" ng-if="coverDeletingInProcess">\u0423\u0434\u0430\u043b\u044f\u0435\u043c&hellip;</span><span class="text" ng-if="!coverDeletingInProcess">\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0431\u043b\u043e\u0436\u043a\u0443</span></span></div><div class="change-cover-help hidden-xs" ng-if="currentUser &amp;&amp; user &amp;&amp; currentUser.id == user.id"><a href="http://support.artstation.com/knowledge_base/topics/how-do-i-change-my-background-profile-image" target="_blank"><i class="fa fa-pad-right fa-question-circle"></i>Help</a></div><div class="artist-info"><div class="avatar"><img ng-src="{{ user.large_avatar_url }}" /></div><div class="artist-info-texts"><div class="artist-additional-info small" ng-if="user.memorialized"><span class="memorial-badge">Remembering</span></div><h1 class="artist-name">{{ user.full_name | unescapeHTML }}<a class="pro-badge top" href="/pro" ng-if="user.pro_member" target="_top">PRO</a><div class="staff-badge top" ng-if="user.is_staff">STAFF</div></h1><div class="artist-additional-info" ng-bind-html="user.headline" ng-if="user.headline"></div><div class="artist-additional-info" ng-if="user.location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="user.location"></span></div><div class="text-center" ng-if="user.is_artist"><a ng-href="{{ user.profile_artstation_website_url }}" target="_blank">{{ user.profile_artstation_website }}<i class="fa fa-pad-left fa-external-link"></i></a></div><div class="artist-additional-info" ng-if="user.is_artist"><ul><li><i class="fa fa-pad-right fa-users"></i><as-pluralize count="user.followers_count" dict="counters.followers"></as-pluralize></li><li><i class="fa fa-pad-right fa-thumbs-up"></i><as-pluralize count="user.projects_likes_count" dict="counters.likes"></as-pluralize></li><li><i class="fa fa-pad-right fa-eye"></i><as-pluralize count="user.project_views_count" dict="counters.views"></as-pluralize></li></ul></div></div></div></div>'),e.put("community/directives/users/user_header-en.html",'<div class="artist-masthead" ng-style="{backgroundImage: &#39;url(/assets/artist-profile-masthead-gradient.png), url(&#39; + user.default_cover_url + &#39;)&#39;}"><div class="change-cover-image hidden-xs" ng-if="currentUser &amp;&amp; user &amp;&amp; currentUser.id == user.id"><div id="upload-cover"><form action="/account/cover" method="POST"><input name="_method" type="hidden" value="PUT" /><span class="btn btn-default btn-xs" ng-class="{{ coverUploadingInProcess ? &#39;active&#39; : &#39;&#39; }}"><i class="fa fa-pad-right fa-upload"></i><span class="text" ng-if="coverUploadingInProcess">Uploading&hellip;</span><span class="text" ng-if="!coverUploadingInProcess">Change background (1920x640+)</span><input name="account[cover]" ng-disabled="{{ coverUploadingInProcess }}" type="file" /></span></form></div></div><div class="remove-cover-image hidden-xs" ng-if="currentUser.id == user.id &amp;&amp; user.cover_file_name"><span class="btn btn-default btn-xs" ng-class="{{ coverUploadingInProcess ? &#39;active&#39; : &#39;&#39; }}" ng-click="deleteCover()"><i class="fa fa-pad-right fa-remove"></i><span class="text" ng-if="coverDeletingInProcess">Deleting&hellip;</span><span class="text" ng-if="!coverDeletingInProcess">Remove Cover Art</span></span></div><div class="change-cover-help hidden-xs" ng-if="currentUser &amp;&amp; user &amp;&amp; currentUser.id == user.id"><a href="http://support.artstation.com/knowledge_base/topics/how-do-i-change-my-background-profile-image" target="_blank"><i class="fa fa-pad-right fa-question-circle"></i>Help</a></div><div class="artist-info"><div class="avatar"><img ng-src="{{ user.large_avatar_url }}" /></div><div class="artist-info-texts"><div class="artist-additional-info small" ng-if="user.memorialized"><span class="memorial-badge">Remembering</span></div><h1 class="artist-name">{{ user.full_name | unescapeHTML }}<a class="pro-badge top" href="/pro" ng-if="user.pro_member" target="_top">PRO</a><div class="staff-badge top" ng-if="user.is_staff">STAFF</div></h1><div class="artist-additional-info" ng-bind-html="user.headline" ng-if="user.headline"></div><div class="artist-additional-info" ng-if="user.location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="user.location"></span></div><div class="text-center" ng-if="user.is_artist"><a ng-href="{{ user.profile_artstation_website_url }}" target="_blank">{{ user.profile_artstation_website }}<i class="fa fa-pad-left fa-external-link"></i></a></div><div class="artist-additional-info" ng-if="user.is_artist"><ul><li><i class="fa fa-pad-right fa-users"></i><as-pluralize count="user.followers_count" dict="counters.followers"></as-pluralize></li><li><i class="fa fa-pad-right fa-thumbs-up"></i><as-pluralize count="user.projects_likes_count" dict="counters.likes"></as-pluralize></li><li><i class="fa fa-pad-right fa-eye"></i><as-pluralize count="user.project_views_count" dict="counters.views"></as-pluralize></li></ul></div></div></div></div>'),e.put("community/directives/users/user_header.html",e.get("community/directives/users/user_header-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/users/user_message_modal-ru.html",'<div class="modal fade user-message-modal" id="user-message-modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button aria-label="Close" class="close" data-dismiss="modal" type="button"><i class="fa fa-times"></i></button><h3 class="modal-title">Message <span ng-bind-html="user.full_name"></span></h3></div><div class="modal-body"><form name="messageForm" ng-submit="submit()"><div class="form-group"><a ng-href="/messages/conversations/{{ lastConversationId }}" ng-show="lastConversationId">Go to conversation</a></div><div class="form-group" ng-hide="lastConversationId"><label class="control-label">What is this message about?</label><div><label class="radio-inline"><input checked="true" name="conversationType" ng-model="conversationType" type="radio" value="business">Business</input></label><label class="radio-inline"><input name="conversationType" ng-disabled="disableGeneral" ng-model="conversationType" type="radio" value="general">General</input></label></div></div><div class="alert alert-warning" id="relevant-enquiries-only-alert" ng-show="!lastConversationId &amp;&amp; conversationType == &#39;business&#39;"><i class="fa fa-exclamation-triangle fa-pad-right"></i><b>Relevant business enquiries only</b><br />Be sure your message respects this user\'s preferences. Abuse will result in loss of messaging privileges or account removal.</div><div class="form-group" ng-if="introText"><b>Intro from {{ user.full_name | unescapeHTML }}</b><br />"{{ introText }}"</div><div class="form-group"><textarea class="form-control" maxlength="4096" ng-model="messageBody" placeholder="Your message..." required="" rows="8"></textarea></div><div class="btn-toolbar"><div class="btn-group" ng-if="!messageCreatingInProgress"><button class="btn btn-primary" ng-disabled="disableSubmit || previewMode" type="submit"><i class="fa fa-envelope fa-pad-right"></i>\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c</button></div><div class="btn-group"><button class="btn btn-default" data-dismiss="modal">\u041e\u0442\u043c\u0435\u043d\u0430</button></div><div class="btn-group pull-right"><small ng-if="previewMode">Preview only. You cannot send messages to yourself.</small></div></div></form></div></div></div></div>'),e.put("community/directives/users/user_message_modal-en.html",'<div class="modal fade user-message-modal" id="user-message-modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button aria-label="Close" class="close" data-dismiss="modal" type="button"><i class="fa fa-times"></i></button><h3 class="modal-title">Message <span ng-bind-html="user.full_name"></span></h3></div><div class="modal-body"><form name="messageForm" ng-submit="submit()"><div class="form-group"><a ng-href="/messages/conversations/{{ lastConversationId }}" ng-show="lastConversationId">Go to conversation</a></div><div class="form-group" ng-hide="lastConversationId"><label class="control-label">What is this message about?</label><div><label class="radio-inline"><input checked="true" name="conversationType" ng-model="conversationType" type="radio" value="business">Business</input></label><label class="radio-inline"><input name="conversationType" ng-disabled="disableGeneral" ng-model="conversationType" type="radio" value="general">General</input></label></div></div><div class="alert alert-warning" id="relevant-enquiries-only-alert" ng-show="!lastConversationId &amp;&amp; conversationType == &#39;business&#39;"><i class="fa fa-exclamation-triangle fa-pad-right"></i><b>Relevant business enquiries only</b><br />Be sure your message respects this user\'s preferences. Abuse will result in loss of messaging privileges or account removal.</div><div class="form-group" ng-if="introText"><b>Intro from {{ user.full_name | unescapeHTML }}</b><br />"{{ introText }}"</div><div class="form-group"><textarea class="form-control" maxlength="4096" ng-model="messageBody" placeholder="Your message..." required="" rows="8"></textarea></div><div class="btn-toolbar"><div class="btn-group" ng-if="!messageCreatingInProgress"><button class="btn btn-primary" ng-disabled="disableSubmit || previewMode" type="submit"><i class="fa fa-envelope fa-pad-right"></i>Send</button></div><div class="btn-group"><button class="btn btn-default" data-dismiss="modal">Cancel</button></div><div class="btn-group pull-right"><small ng-if="previewMode">Preview only. You cannot send messages to yourself.</small></div></div></form></div></div></div></div>'),e.put("community/directives/users/user_message_modal.html",e.get("community/directives/users/user_message_modal-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/users/user_portfolio_display_options-ru.html",'<div class="btn-toolbar" ng-show="account"><div class="btn-group"><a class="btn btn-sm btn-default" href="/myartstation/projects" target="_self"><i class="fa fa-pad-right fa-picture-o"></i>\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e</a></div><div class="btn-group"><a class="btn btn-default btn-sm" href="" ng-click="showModal()"><i class="fa fa-wrench fa-pad-right"></i>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e</a></div></div><div class="modal fade text-left" id="portfolio-display-options-modal"><div class="modal-dialog"><div class="modal-content"><form name="portfolioOptionsForm" ng-submit="submit()"><div class="modal-header"><button aria-label="close" class="close" data-dismiss="modal"><i class="fa fa-times"></i></button><h3 class="modal-title">\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e</h3></div><div class="modal-body"><p>\u041a\u0430\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0432\u0430\u0448\u0435 \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0432\u0430\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f?</p><div class="row" id="select-portfolio-display"><div class="col-sm-6 text-center"><a class="thumbnail" href="" ng-class="{ active: !account.display_portfolio_as_albums }" ng-click="setDisplayAsAlbums(false)"><img src="/assets/portfolio-manager/portfolio-display-normal.png" style="width: 250px;" /><div class="caption"><h4>\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u044b</h4>\u0425\u043e\u0440\u043e\u0448\u0438\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0432\u0430\u0448\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0432 \u0432\u0438\u0434\u0435 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0433\u0430\u043b\u0435\u0440\u0435\u0438.</div></a></div><div class="col-sm-6 text-center"><a class="thumbnail" href="" ng-class="{ active: account.display_portfolio_as_albums }" ng-click="setDisplayAsAlbums(true)"><img src="/assets/portfolio-manager/portfolio-display-album.png" style="width: 250px;" /><div class="caption"><h4>\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0430\u043b\u044c\u0431\u043e\u043c\u044b</h4>\u041a\u043e\u0433\u0434\u0430 \u0443 \u0432\u0430\u0441 \u043c\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u043d\u044b\u0445 \u0433\u0430\u043b\u0435\u0440\u0435\u0439, \u0438 \u0432\u044b \u043d\u0435 \u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u0445 \u0441\u043c\u0435\u0448\u0438\u0432\u0430\u0442\u044c.</div></a></div></div><input class="hidden" name="display_portfolio_as_albums" ng-model="account.display_portfolio_as_albums" type="checkbox" /><div class="separator"></div><div class="form-group" ng-hide="account.display_portfolio_as_albums"><label class="control-label">Default / Featured Album <a class="pro-badge" href="/pro" target="_blank">Pro</a></label><select class="form-control" data-enable-select2="true" ng-disabled="!user.has_pro_permissions" ng-model="account.portfolio_display_settings_attributes.profile_default_album_id" ng-options="album.id as (album.album_type == &#39;all_projects&#39; ? &#39;All&#39; : album.title) for album in user.portfolio_display_option_albums"></select></div></div><div class="modal-footer"><div class="btn-toolbar"><div class="btn-group"><button class="btn btn-primary" type="submit">\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c</button></div><div class="btn-group"><button class="btn btn-default" data-dismiss="modal">\u041e\u0442\u043c\u0435\u043d\u0430</button></div></div></div></form></div></div></div>'),e.put("community/directives/users/user_portfolio_display_options-en.html",'<div class="btn-toolbar" ng-show="account"><div class="btn-group"><a class="btn btn-sm btn-default" href="/myartstation/projects" target="_self"><i class="fa fa-pad-right fa-picture-o"></i>Manage portfolio</a></div><div class="btn-group"><a class="btn btn-default btn-sm" href="" ng-click="showModal()"><i class="fa fa-wrench fa-pad-right"></i>Portfolio display options</a></div></div><div class="modal fade text-left" id="portfolio-display-options-modal"><div class="modal-dialog"><div class="modal-content"><form name="portfolioOptionsForm" ng-submit="submit()"><div class="modal-header"><button aria-label="close" class="close" data-dismiss="modal"><i class="fa fa-times"></i></button><h3 class="modal-title">Portfolio Display Options</h3></div><div class="modal-body"><p>How would you like your portfolio to show on your ArtStation community profile?</p><div class="row" id="select-portfolio-display"><div class="col-sm-6 text-center"><a class="thumbnail" href="" ng-class="{ active: !account.display_portfolio_as_albums }" ng-click="setDisplayAsAlbums(false)"><img src="/assets/portfolio-manager/portfolio-display-normal.png" style="width: 250px;" /><div class="caption"><h4>Show all projects</h4>Great way to show your entire body of work in a simple gallery.</div></a></div><div class="col-sm-6 text-center"><a class="thumbnail" href="" ng-class="{ active: account.display_portfolio_as_albums }" ng-click="setDisplayAsAlbums(true)"><img src="/assets/portfolio-manager/portfolio-display-album.png" style="width: 250px;" /><div class="caption"><h4>Show albums</h4>When you have different galleries of work and do not want to mix them.</div></a></div></div><input class="hidden" name="display_portfolio_as_albums" ng-model="account.display_portfolio_as_albums" type="checkbox" /><div class="separator"></div><div class="form-group" ng-hide="account.display_portfolio_as_albums"><label class="control-label">Default / Featured Album <a class="pro-badge" href="/pro" target="_blank">Pro</a></label><select class="form-control" data-enable-select2="true" ng-disabled="!user.has_pro_permissions" ng-model="account.portfolio_display_settings_attributes.profile_default_album_id" ng-options="album.id as (album.album_type == &#39;all_projects&#39; ? &#39;All&#39; : album.title) for album in user.portfolio_display_option_albums"></select></div></div><div class="modal-footer"><div class="btn-toolbar"><div class="btn-group"><button class="btn btn-primary" type="submit">Save</button></div><div class="btn-group"><button class="btn btn-default" data-dismiss="modal">Cancel</button></div></div></div></form></div></div></div>'),e.put("community/directives/users/user_portfolio_display_options.html",e.get("community/directives/users/user_portfolio_display_options-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/users/user_projects-ru.html",'<div class="gallery-container"><div class="gallery" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="project artist-profile" ng-class="{small: smallThumbs}" ng-repeat="project in collection.items | unique:&#39;id&#39;"><a artstation-open-project="{{ project.id }}" class="project-image" href="/artwork/{{ project.hash_id }}"><ul class="icons-list"><li ng-if="project.icons.image"><div class="icon-gallery"></div></li><li ng-if="project.icons.model3d || project.icons.marmoset"><div class="icon-cube"></div></li><li ng-if="project.icons.video"><div class="icon-video-camera"></div></li><li ng-if="project.icons.pano"><div class="icon-pano"></div></li></ul><div class="overlay"><div class="info"><img class="avatar" ng-src="{{ getUserAvatar(user, project) }}" /><div class="title" ng-bind-html="project.title"></div><div class="name">{{ getUserName(user, project) | unescapeHTML }}<div class="pro-badge" ng-if="getIsUserPro(user, project)">PRO</div><div class="staff-badge" ng-if="getIsStaff(user, project)">STAFF</div></div></div></div><img class="image" ng-if="!project.hide_as_adult" ng-src="{{ project.cover.thumb_url }}" /><img class="image" ng-if="project.hide_as_adult" src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><loading-spinner ng-if="showLoadingIcon"></loading-spinner></div>'),e.put("community/directives/users/user_projects-en.html",'<div class="gallery-container"><div class="gallery" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="project artist-profile" ng-class="{small: smallThumbs}" ng-repeat="project in collection.items | unique:&#39;id&#39;"><a artstation-open-project="{{ project.id }}" class="project-image" href="/artwork/{{ project.hash_id }}"><ul class="icons-list"><li ng-if="project.icons.image"><div class="icon-gallery"></div></li><li ng-if="project.icons.model3d || project.icons.marmoset"><div class="icon-cube"></div></li><li ng-if="project.icons.video"><div class="icon-video-camera"></div></li><li ng-if="project.icons.pano"><div class="icon-pano"></div></li></ul><div class="overlay"><div class="info"><img class="avatar" ng-src="{{ getUserAvatar(user, project) }}" /><div class="title" ng-bind-html="project.title"></div><div class="name">{{ getUserName(user, project) | unescapeHTML }}<div class="pro-badge" ng-if="getIsUserPro(user, project)">PRO</div><div class="staff-badge" ng-if="getIsStaff(user, project)">STAFF</div></div></div></div><img class="image" ng-if="!project.hide_as_adult" ng-src="{{ project.cover.thumb_url }}" /><img class="image" ng-if="project.hide_as_adult" src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><loading-spinner ng-if="showLoadingIcon"></loading-spinner></div>'),e.put("community/directives/users/user_projects.html",e.get("community/directives/users/user_projects-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/users/user_resume-ru.html",'<div class="container" ng-if="showLoadingIcon"><div class="separator"></div><loading-spinner></loading-spinner><div class="separator"></div></div><div class="container" ng-if="!showLoadingIcon"><div class="profile-help-bar" ng-if="currentUser.id == user.id"><a class="btn btn-default btn-sm" href="/myartstation/profile/resume" target="_top"><i class="fa fa-edit fa-pad-right"></i>\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c</a></div><div class="separator"></div><div class="row"><div class="col-md-6 col-md-offset-3"><section class="profile-section-summary" ng-if="user.memorialized"><h3>Memorial Account</h3><div class="text-center"><p>This account has been memorialized to preserve and celebrate the artwork of {{ user.full_name }}.</p><p><a href="http://support.artstation.com/knowledge_base/topics/memorialized-accounts" target="_blank">More information</a></p></div><div class="separator-lg"></div></section><section class="profile-section-summary"><h3>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435</h3><div class="summary-content" ng-bind-html="summary" ng-if="user.portfolio.summary"></div><div ng-if="!user.portfolio.summary"><p>{{ user.full_name | unescapeHTML }} \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435.</p></div><p ng-if="user.pro_member &amp;&amp; user.portfolio.resume_url"><a class="btn btn-sm btn-default" ng-href="{{ user.portfolio.resume_url }}" target="_blank"><i class="fa fa-file-pdf-o fa-pad-right"></i>My Resume/Portfolio PDF</a></p><div class="summary-contact" ng-if="user.public_email &amp;&amp; !user.memorialized"><h4>Contact</h4><a href="mailto:{{user.public_email}}?subject=Enquiry via ArtStation" ng-if="user.public_email" rel="noopener noreferrer" target="_blank">{{ user.public_email }}</a></div><ul class="list-inline social-icons" style="display: block !important;"><li ng-repeat="social_profile in user.social_profiles | orderBy:&#39;position&#39;"><a href="mailto:{{ social_profile.url }}?subject=Enquiry via ArtStation" ng-if="social_profile.social_network == &#39;public_email&#39;" rel="noopener noreferrer" target="_blank"><i class="fa fa-envelope"></i></a><a href="{{ social_profile.url }}" ng-if="social_profile.social_network == &#39;website&#39;" rel="noopener noreferrer" target="_blank"><i class="fa fa-globe"></i></a><a href="{{ social_profile.url }}" ng-if="social_profile.social_network != &#39;website&#39; &amp;&amp; social_profile.social_network != &#39;public_email&#39;" rel="noopener noreferrer" target="_blank"><i class="fa" ng-class="{&#39;fa-{{social_profile.social_network}}&#39;: true }"></i></a><a href="{{ social_profile.url }}" ng-if="social_profile.social_network == &#39;sketchfab&#39;" rel="noopener noreferrer" target="_blank"><i class="icon" ng-class="{&#39;icon-{{social_profile.social_network}}&#39;: true }"></i></a></li></ul><div class="separator-lg"></div><div class="separator"></div><div ng-if="user.available_full_time || user.available_contract || user.available_freelance"><h3>Hiring Info</h3><p>Interested in:</p><ul class="list-inline"><li ng-if="user.available_full_time"><div class="label label-info">\u041f\u043e\u043b\u043d\u044b\u0439 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u0434\u0435\u043d\u044c</div></li><li ng-if="user.available_contract"><div class="label label-info">\u041a\u043e\u043d\u0442\u0440\u0430\u043a\u0442</div></li><li ng-if="user.available_freelance"><div class="label label-info">\u0424\u0440\u0438\u043b\u0430\u043d\u0441</div></li></ul><div ng-if="userCanReceiveMessages"><div class="separator-sm"></div><button class="btn btn-success btn-sm" href="" ng-click="showUserMessageModal()" ng-disabled="!userCanReceiveMessages"><i class="fa fa-pad-right fa-envelope"></i>\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c</button></div><div class="separator-lg"></div><div class="separator"></div></div></section><div class="text-center" ng-if="user.badges.length"><h3>ArtStation Awards</h3><div class="separator"></div><div class="profile-awards"><div class="award" ng-repeat="badge in user.badges"><img ng-src="/assets/badges/{{ badge.badge_type }}.png" /><div class="position">{{ badge.badge_title }}</div><a ng-href="{{ badge.subject_link }}" target="_blank">{{ badge.subject_title }}</a></div></div><div class="separator-lg"></div></div><div class="text-center" ng-if="demo_reel_video"><h3>Demo Reel</h3><div id="demo_reel_preview" ng-bind-html="demo_reel_video" ng-show="demo_reel_video"></div><div class="separator-lg"></div><div class="separator"></div></div><div class="text-center" ng-if="user.skills.length"><h3>\u041d\u0430\u0432\u044b\u043a\u0438</h3><section class="profile-section-bordered"><ul class="list-inline"><li ng-repeat="skill in user.skills"><span class="label label-info" ng-bind-html="skill.name"></span></li></ul></section><div class="separator-lg"></div><div class="separator"></div></div><div class="text-center" ng-if="user.software_items.length"><h3>\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b</h3><section class="profile-section-bordered"><div class="profile-software-list"><div class="software-col" ng-repeat="item in user.software_items"><div class="software-item"><img class="software-thumb" ng-src="{{ ::item.icon_url }}" /><div class="software-name" ng-bind-html="::item.name"></div></div></div></div></section><div class="separator-lg"></div><div class="separator"></div></div><section class="text-center" ng-if="user.user_productions.length"><h3>\u041f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f</h3><div class="separator"></div><div class="production-item" ng-repeat="user_production in user.user_productions"><div class="production-image"><img ng-src="{{ user_production.production.thumb_url }}" /></div><div class="production-data"><table><tbody><tr><td class="production-heading">{{ user_production.production.production_type }}</td><td ng-bind-html="user_production.production.title"></td></tr><tr><td class="production-heading">\u0413\u043e\u0434</td><td>{{ user_production.production.release_year }}</td></tr><tr><td class="production-heading">\u0420\u043e\u043b\u044c</td><td ng-bind-html="user_production.role"></td></tr><tr><td class="production-heading">\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f</td><td ng-bind-html="user_production.company"></td></tr></tbody></table></div></div><div class="separator-lg"></div><div class="separator"></div></section><section class="experience" ng-if="user.experience_items.length"><div class="text-center"><h3>\u041e\u043f\u044b\u0442 \u0440\u0430\u0431\u043e\u0442\u044b</h3></div><div class="position" ng-repeat="experience in user.experience_items"><div class="title"><span ng-bind-html="experience.title + &#39; at &#39; + experience.company.name"></span><div class="duration"><div class="label label-success" ng-if="experience.finish_date_formatted == &#39;Present&#39;">{{ experience.start_date_formatted }} - {{ experience.finish_date_formatted }}</div><div class="label label-default" ng-if="experience.finish_date_formatted != &#39;Present&#39;">{{ experience.start_date_formatted }} - {{ experience.finish_date_formatted }}</div></div></div><div class="location" ng-bind-html="experience.location"></div><div class="description" ng-bind-html="experience.description"></div></div></section><div class="separator-lg"></div><div class="separator"></div></div></div></div>'),e.put("community/directives/users/user_resume-en.html",'<div class="container" ng-if="showLoadingIcon"><div class="separator"></div><loading-spinner></loading-spinner><div class="separator"></div></div><div class="container" ng-if="!showLoadingIcon"><div class="profile-help-bar" ng-if="currentUser.id == user.id"><a class="btn btn-default btn-sm" href="/myartstation/profile/resume" target="_top"><i class="fa fa-edit fa-pad-right"></i>Edit profile</a></div><div class="separator"></div><div class="row"><div class="col-md-6 col-md-offset-3"><section class="profile-section-summary" ng-if="user.memorialized"><h3>Memorial Account</h3><div class="text-center"><p>This account has been memorialized to preserve and celebrate the artwork of {{ user.full_name }}.</p><p><a href="http://support.artstation.com/knowledge_base/topics/memorialized-accounts" target="_blank">More information</a></p></div><div class="separator-lg"></div></section><section class="profile-section-summary"><h3>Summary</h3><div class="summary-content" ng-bind-html="summary" ng-if="user.portfolio.summary"></div><div ng-if="!user.portfolio.summary"><p>{{ user.full_name | unescapeHTML }} has not yet provided a summary.</p></div><p ng-if="user.pro_member &amp;&amp; user.portfolio.resume_url"><a class="btn btn-sm btn-default" ng-href="{{ user.portfolio.resume_url }}" target="_blank"><i class="fa fa-file-pdf-o fa-pad-right"></i>My Resume/Portfolio PDF</a></p><div class="summary-contact" ng-if="user.public_email &amp;&amp; !user.memorialized"><h4>Contact</h4><a href="mailto:{{user.public_email}}?subject=Enquiry via ArtStation" ng-if="user.public_email" rel="noopener noreferrer" target="_blank">{{ user.public_email }}</a></div><ul class="list-inline social-icons" style="display: block !important;"><li ng-repeat="social_profile in user.social_profiles | orderBy:&#39;position&#39;"><a href="mailto:{{ social_profile.url }}?subject=Enquiry via ArtStation" ng-if="social_profile.social_network == &#39;public_email&#39;" rel="noopener noreferrer" target="_blank"><i class="fa fa-envelope"></i></a><a href="{{ social_profile.url }}" ng-if="social_profile.social_network == &#39;website&#39;" rel="noopener noreferrer" target="_blank"><i class="fa fa-globe"></i></a><a href="{{ social_profile.url }}" ng-if="social_profile.social_network != &#39;website&#39; &amp;&amp; social_profile.social_network != &#39;public_email&#39;" rel="noopener noreferrer" target="_blank"><i class="fa" ng-class="{&#39;fa-{{social_profile.social_network}}&#39;: true }"></i></a><a href="{{ social_profile.url }}" ng-if="social_profile.social_network == &#39;sketchfab&#39;" rel="noopener noreferrer" target="_blank"><i class="icon" ng-class="{&#39;icon-{{social_profile.social_network}}&#39;: true }"></i></a></li></ul><div class="separator-lg"></div><div class="separator"></div><div ng-if="user.available_full_time || user.available_contract || user.available_freelance"><h3>Hiring Info</h3><p>Interested in:</p><ul class="list-inline"><li ng-if="user.available_full_time"><div class="label label-info">Full Time Employment</div></li><li ng-if="user.available_contract"><div class="label label-info">Contract</div></li><li ng-if="user.available_freelance"><div class="label label-info">Freelance</div></li></ul><div ng-if="userCanReceiveMessages"><div class="separator-sm"></div><button class="btn btn-success btn-sm" href="" ng-click="showUserMessageModal()" ng-disabled="!userCanReceiveMessages"><i class="fa fa-pad-right fa-envelope"></i>Message</button></div><div class="separator-lg"></div><div class="separator"></div></div></section><div class="text-center" ng-if="user.badges.length"><h3>ArtStation Awards</h3><div class="separator"></div><div class="profile-awards"><div class="award" ng-repeat="badge in user.badges"><img ng-src="/assets/badges/{{ badge.badge_type }}.png" /><div class="position">{{ badge.badge_title }}</div><a ng-href="{{ badge.subject_link }}" target="_blank">{{ badge.subject_title }}</a></div></div><div class="separator-lg"></div></div><div class="text-center" ng-if="demo_reel_video"><h3>Demo Reel</h3><div id="demo_reel_preview" ng-bind-html="demo_reel_video" ng-show="demo_reel_video"></div><div class="separator-lg"></div><div class="separator"></div></div><div class="text-center" ng-if="user.skills.length"><h3>Skills</h3><section class="profile-section-bordered"><ul class="list-inline"><li ng-repeat="skill in user.skills"><span class="label label-info" ng-bind-html="skill.name"></span></li></ul></section><div class="separator-lg"></div><div class="separator"></div></div><div class="text-center" ng-if="user.software_items.length"><h3>Software</h3><section class="profile-section-bordered"><div class="profile-software-list"><div class="software-col" ng-repeat="item in user.software_items"><div class="software-item"><img class="software-thumb" ng-src="{{ ::item.icon_url }}" /><div class="software-name" ng-bind-html="::item.name"></div></div></div></div></section><div class="separator-lg"></div><div class="separator"></div></div><section class="text-center" ng-if="user.user_productions.length"><h3>Productions</h3><div class="separator"></div><div class="production-item" ng-repeat="user_production in user.user_productions"><div class="production-image"><img ng-src="{{ user_production.production.thumb_url }}" /></div><div class="production-data"><table><tbody><tr><td class="production-heading">{{ user_production.production.production_type }}</td><td ng-bind-html="user_production.production.title"></td></tr><tr><td class="production-heading">Year</td><td>{{ user_production.production.release_year }}</td></tr><tr><td class="production-heading">Role</td><td ng-bind-html="user_production.role"></td></tr><tr><td class="production-heading">Company</td><td ng-bind-html="user_production.company"></td></tr></tbody></table></div></div><div class="separator-lg"></div><div class="separator"></div></section><section class="experience" ng-if="user.experience_items.length"><div class="text-center"><h3>Work</h3></div><div class="position" ng-repeat="experience in user.experience_items"><div class="title"><span ng-bind-html="experience.title + &#39; at &#39; + experience.company.name"></span><div class="duration"><div class="label label-success" ng-if="experience.finish_date_formatted == &#39;Present&#39;">{{ experience.start_date_formatted }} - {{ experience.finish_date_formatted }}</div><div class="label label-default" ng-if="experience.finish_date_formatted != &#39;Present&#39;">{{ experience.start_date_formatted }} - {{ experience.finish_date_formatted }}</div></div></div><div class="location" ng-bind-html="experience.location"></div><div class="description" ng-bind-html="experience.description"></div></div></section><div class="separator-lg"></div><div class="separator"></div></div></div></div>'),e.put("community/directives/users/user_resume.html",e.get("community/directives/users/user_resume-en.html"))
}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/users/user_self_summary-ru.html",'<div class="panel panel-default panel-user-profile"><div class="panel-body"><div class="avatar"><img ng-src="{{ userSummary.large_avatar_url }}" /></div><div class="user-info"><a class="user-name" ng-bind-html="userSummary.full_name" ng-href="{{userSummary.artstation_profile_url}}"></a><a class="pro-badge" href="/pro" ng-if="userSummary.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="userSummary.is_staff">STAFF</div><div class="user-headline" ng-bind-html="userSummary.headline"></div></div><div class="separator"></div><div ng-if="userSummary.profile_completeness_percentage &lt; 100"><div class="profile-completeness"><div>Your profile is {{ userSummary.profile_completeness_percentage }}% complete</div><div class="completeness-meter"><div class="completeness-progress" style="width: {{userSummary.profile_completeness_percentage}}%;"></div></div><ul class="completeness-errors" ng-repeat="section in userSummary.missing_sections"><li><i class="fa fa-times fa-pad-right"></i>{{section}}</li></ul></div><a href="/myartstation/profile/resume" target="_self">Complete Profile</a><div class="separator"></div></div><ng-show-start ng-show="userSummary.latest_projects.length &gt; 0"></ng-show-start><div class="profile-gallery"><div class="profile-gallery-title">\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e</div><a class="profile-gallery-works-container" href="/myartstation/projects" target="_self"><div class="profile-gallery-works"><div class="item" ng-repeat="item in userSummary.latest_projects"><img ng-src="{{item.cover_url}}" /></div></div><div class="clearfix"></div></a></div><div class="separator"></div><ng-show-end></ng-show-end><ng-show-start ng-show="userSummary.collections.length &gt; 0"></ng-show-start><div class="profile-gallery"><div class="profile-gallery-title">Collections</div><a class="profile-gallery-works-container" ng-href="/{{userSummary.username}}/collections"><div class="profile-gallery-works"><div class="item" ng-repeat="item in userSummary.collections"><img ng-src="{{item.micro_square_image_url}}" /></div></div><div class="clearfix"></div></a></div><div class="separator"></div><ng-show-end></ng-show-end><ng-show-start ng-show="userSummary.followees.length &gt; 0"></ng-show-start><div class="profile-gallery"><div class="profile-gallery-title">Connections</div><a class="profile-gallery-works-container" ng-href="/{{userSummary.username}}/connections"><div class="profile-gallery-works"><div class="item" ng-repeat="item in userSummary.followees"><img ng-src="{{item}}" /></div></div><div class="clearfix"></div></a><div class="separator"></div></div></div></div>'),e.put("community/directives/users/user_self_summary-en.html",'<div class="panel panel-default panel-user-profile"><div class="panel-body"><div class="avatar"><img ng-src="{{ userSummary.large_avatar_url }}" /></div><div class="user-info"><a class="user-name" ng-bind-html="userSummary.full_name" ng-href="{{userSummary.artstation_profile_url}}"></a><a class="pro-badge" href="/pro" ng-if="userSummary.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="userSummary.is_staff">STAFF</div><div class="user-headline" ng-bind-html="userSummary.headline"></div></div><div class="separator"></div><div ng-if="userSummary.profile_completeness_percentage &lt; 100"><div class="profile-completeness"><div>Your profile is {{ userSummary.profile_completeness_percentage }}% complete</div><div class="completeness-meter"><div class="completeness-progress" style="width: {{userSummary.profile_completeness_percentage}}%;"></div></div><ul class="completeness-errors" ng-repeat="section in userSummary.missing_sections"><li><i class="fa fa-times fa-pad-right"></i>{{section}}</li></ul></div><a href="/myartstation/profile/resume" target="_self">Complete Profile</a><div class="separator"></div></div><ng-show-start ng-show="userSummary.latest_projects.length &gt; 0"></ng-show-start><div class="profile-gallery"><div class="profile-gallery-title">Portfolio</div><a class="profile-gallery-works-container" href="/myartstation/projects" target="_self"><div class="profile-gallery-works"><div class="item" ng-repeat="item in userSummary.latest_projects"><img ng-src="{{item.cover_url}}" /></div></div><div class="clearfix"></div></a></div><div class="separator"></div><ng-show-end></ng-show-end><ng-show-start ng-show="userSummary.collections.length &gt; 0"></ng-show-start><div class="profile-gallery"><div class="profile-gallery-title">Collections</div><a class="profile-gallery-works-container" ng-href="/{{userSummary.username}}/collections"><div class="profile-gallery-works"><div class="item" ng-repeat="item in userSummary.collections"><img ng-src="{{item.micro_square_image_url}}" /></div></div><div class="clearfix"></div></a></div><div class="separator"></div><ng-show-end></ng-show-end><ng-show-start ng-show="userSummary.followees.length &gt; 0"></ng-show-start><div class="profile-gallery"><div class="profile-gallery-title">Connections</div><a class="profile-gallery-works-container" ng-href="/{{userSummary.username}}/connections"><div class="profile-gallery-works"><div class="item" ng-repeat="item in userSummary.followees"><img ng-src="{{item}}" /></div></div><div class="clearfix"></div></a><div class="separator"></div></div></div></div>'),e.put("community/directives/users/user_self_summary.html",e.get("community/directives/users/user_self_summary-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/users/user_submission-ru.html",'<div class="card-actions" ng-if="submission.user.id == currentUser.id"><button class="dropdown-toggle btn btn-default btn-xs" data-toggle="dropdown" href="#" type="button"><i class="fa fa-chevron-down"></i></button><ul class="dropdown-menu dropdown-menu-right dropdown-menu-sm"><li ng-if="submission.visible_on_profile"><a href="#" ng-click="hideSubmission(submission)">Hide from public</a></li><li ng-if="!submission.visible_on_profile"><a href="#" ng-click="showSubmission(submission)">Show to public</a></li></ul></div><div class="challenge-submission-thumbnail" ng-class="{ &#39;inactive&#39;: !submission.visible_on_profile }"><div class="submission-judging-header" ng-if="submission.winner_position != &#39;not_mentioned&#39;"><div class="position"><i class="fa fa-trophy fa-pad-right"></i><span ng-if="submission.winner_position == &#39;first_place&#39;">1st</span><span ng-if="submission.winner_position == &#39;second_place&#39;">2nd</span><span ng-if="submission.winner_position == &#39;third_place&#39;">3rd</span><span ng-if="submission.winner_position == &#39;mentioned&#39;">HM</span></div></div><div class="overlay"><a class="hitzone" ng-href="/contests/{{ submission.challenge.contest.slug }}/challenges/{{ submission.challenge_id }}/submissions/{{ submission.id }}"><div class="btn btn-primary">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443</div></a></div><img ng-src="{{ submission.cover_image_url }}" /></div><div class="caption challenge-title" ng-class="{ &#39;inactive&#39;: !submission.visible_on_profile }"><a ng-bind-html="submission.challenge.contest.title + &#39; - &#39; + submission.challenge.title" ng-href="/contests/{{ submission.challenge.contest.slug }}/challenges/{{ submission.challenge_id }}"></a></div><div class="caption challenger" ng-class="{ &#39;inactive&#39;: !submission.visible_on_profile }"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="submission.user.full_name" ng-href="/{{ submission.user.username }}"></a><a class="pro-badge" href="/pro" ng-if="submission.user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="submission.user.is_staff">STAFF</div><div class="headline" ng-bind-html="submission.user.headline"></div><div class="location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="submission.user.location"></span></div></div></div><div class="caption stats" ng-class="{ &#39;inactive&#39;: !submission.visible_on_profile }"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><i class="fa fa-comments fa-pad-right"></i>{{ submission.activity_count }}</div></div></div>'),e.put("community/directives/users/user_submission-en.html",'<div class="card-actions" ng-if="submission.user.id == currentUser.id"><button class="dropdown-toggle btn btn-default btn-xs" data-toggle="dropdown" href="#" type="button"><i class="fa fa-chevron-down"></i></button><ul class="dropdown-menu dropdown-menu-right dropdown-menu-sm"><li ng-if="submission.visible_on_profile"><a href="#" ng-click="hideSubmission(submission)">Hide from public</a></li><li ng-if="!submission.visible_on_profile"><a href="#" ng-click="showSubmission(submission)">Show to public</a></li></ul></div><div class="challenge-submission-thumbnail" ng-class="{ &#39;inactive&#39;: !submission.visible_on_profile }"><div class="submission-judging-header" ng-if="submission.winner_position != &#39;not_mentioned&#39;"><div class="position"><i class="fa fa-trophy fa-pad-right"></i><span ng-if="submission.winner_position == &#39;first_place&#39;">1st</span><span ng-if="submission.winner_position == &#39;second_place&#39;">2nd</span><span ng-if="submission.winner_position == &#39;third_place&#39;">3rd</span><span ng-if="submission.winner_position == &#39;mentioned&#39;">HM</span></div></div><div class="overlay"><a class="hitzone" ng-href="/contests/{{ submission.challenge.contest.slug }}/challenges/{{ submission.challenge_id }}/submissions/{{ submission.id }}"><div class="btn btn-primary">View Submission</div></a></div><img ng-src="{{ submission.cover_image_url }}" /></div><div class="caption challenge-title" ng-class="{ &#39;inactive&#39;: !submission.visible_on_profile }"><a ng-bind-html="submission.challenge.contest.title + &#39; - &#39; + submission.challenge.title" ng-href="/contests/{{ submission.challenge.contest.slug }}/challenges/{{ submission.challenge_id }}"></a></div><div class="caption challenger" ng-class="{ &#39;inactive&#39;: !submission.visible_on_profile }"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="submission.user.full_name" ng-href="/{{ submission.user.username }}"></a><a class="pro-badge" href="/pro" ng-if="submission.user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="submission.user.is_staff">STAFF</div><div class="headline" ng-bind-html="submission.user.headline"></div><div class="location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="submission.user.location"></span></div></div></div><div class="caption stats" ng-class="{ &#39;inactive&#39;: !submission.visible_on_profile }"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><i class="fa fa-comments fa-pad-right"></i>{{ submission.activity_count }}</div></div></div>'),e.put("community/directives/users/user_submission.html",e.get("community/directives/users/user_submission-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/directives/users/user_submissions-ru.html",'<div class="separator"></div><div class="container"><div class="challenge-submissions" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="thumbnail challenge-submission" ng-repeat="submission in collection.items"><user-submission submission="submission"></user-submission></div></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner></div>'),e.put("community/directives/users/user_submissions-en.html",'<div class="separator"></div><div class="container"><div class="challenge-submissions" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="thumbnail challenge-submission" ng-repeat="submission in collection.items"><user-submission submission="submission"></user-submission></div></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner></div>'),e.put("community/directives/users/user_submissions.html",e.get("community/directives/users/user_submissions-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/project-ru.html",'<div class="gallery-single form-prolongate-session"><div class="artwork-container" ng-class="{ &#39;adult-content-active&#39;: project.hide_as_adult &amp;&amp; showAdultFilter }"><a class="mobile-close" href="#" ng-click="close()"><i class="fa fa-times"></i></a><a class="arrow-previous" href="#" ng-click="prev()" ng-show="canPrev()"><div class="arrow-container"><div class="arrow arrow-previous"></div></div></a><a class="arrow-next" href="#" ng-click="next()" ng-show="canNext()"><div class="arrow-container"><div class="arrow arrow-next"></div></div></a><div class="more-down-indicator"><div class="scroll-down"><i class="fa fa-lg fa-angle-double-down"></i>&nbsp;\u041f\u0440\u043e\u043a\u0440\u0443\u0442\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435</div></div><div class="adult-content-filter" ng-if="project.hide_as_adult &amp;&amp; showAdultFilter"><div class="adult-content-notice"><h1>\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442</h1><p>\u042d\u0442\u043e\u0442 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0432\u0437\u0440\u043e\u0441\u043b\u043e\u0439 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u0438.<br />\u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0439\u0442\u0435 \u043d\u0430 \u0441\u0432\u043e\u0439 \u0441\u0442\u0440\u0430\u0445 \u0438 \u0440\u0438\u0441\u043a</p><p><a class="btn btn-default" href="#" ng-click="showAdult()">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443</a></p><p ng-if="user_id"><a href="/myartstation/settings/general#browsing-experience" target="_self">\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0432\u0437\u0440\u043e\u0441\u043b\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430</a></p></div></div><project-assets collection="::project.assets"></project-assets></div><aside class="artwork-info-container"><div artstation-scroll="true" class="artwork-info"><div class="btn-toolbar"><div class="btn-group hidden-sm hidden-xs"><button class="btn btn-default btn-xs" ng-click="close()" type="button"><i class="fa fa-times"></i></button></div><div as-resource-actions="" class="btn-group" ng-if="user_id" target="project" target-type="artwork"></div></div><div class="separator-sm"></div><div class="artist"><a class="avatar" href="/{{ ::project.user.username }}"><img ng-src="{{ ::project.user.medium_avatar_url }}" /></a><div class="artist-name-and-headline"><div class="name"><a href="/{{ ::project.user.username }}" ng-bind-html="::project.user.full_name"></a><a class="pro-badge top" href="/pro" ng-if="project.user.pro_member" target="_top">PRO</a><div class="staff-badge top" ng-if="project.user.is_staff">STAFF</div></div><div class="headline" ng-bind-html="::project.user.headline"></div><div class="user-follow-btn" ng-if="user_id != project.user_id"><follow-button bind-keyboard="true" follow-callback="showRecommendations()" user="project.user"></follow-button><a class="btn btn-default btn-xs user-follow-also" href="#" ng-click="showRecommendations()" ng-show="isRecommendationsVisible"><i class="fa fa-group"></i><i class="fa fa-angle-up" ng-show="recommendedUsers.length"></i><i class="fa fa-angle-down" ng-show="!recommendedUsers.length"></i></a></div></div></div><recommended-users ng-if="recommendedUsers.length" on-close="clearUserRecommendations()" users="recommendedUsers"></recommended-users><div class="button-blocks" ng-if="user_id"><div class="separator"></div><div class="row"><div class="col-xs-6"><button class="btn btn-default btn-sm" ng-click="toggleLike()" ng-if="project.liked" type="button"><i class="fa fa-check fa-pad-right"></i>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</button><button class="btn btn-success btn-sm" ng-click="toggleLike()" ng-if="!project.liked" title="\u041e\u0446\u0435\u043d\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 (L)" type="button"><i class="fa fa-thumbs-up fa-pad-right"></i>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</button></div><div class="col-xs-6"><a class="btn btn-primary btn-sm btn-block" data-target="#collection-modal" data-toggle="modal"><span class="icon icon-add-to-collection fa-pad-right"></span>\u0412 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e</a></div><div class="col-xs-12" ng-if="user_id == project.user_id"><div class="separator-sm"></div></div><div class="col-xs-6" ng-if="user_id == project.user_id"><a class="btn btn-primary btn-sm" href="/myartstation/projects/{{ ::project.hash_id }}/edit" target="_top"><i class="fa fa-pencil fa-pad-right"></i>\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a></div></div><div class="separator-sm"></div><recommended-projects-carousel ng-if="recommendedProjects.length" projects="recommendedProjects" recommended-class="similar-projects"></recommended-projects-carousel></div><div class="current-collections-list" ng-if="project.collections.length"><span class="icon icon-add-to-collection fa-pad-right"></span>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438: <span ng-bind-html="currentCollectionsList()"></span></div><div class="separator-sm"></div><div class="alert alert-warning" ng-if="project &amp;&amp; !project.visible_on_artstation"><i class="fa fa-pad-right fa-unlock"></i>This project is unlisted. Only those with the link can see it.</div><support-artstation-please asset-size="small" ng-if="isDesktop()">\\</support-artstation-please><div class="separator"></div><h3 ng-bind-html="project.title"></h3><div class="description" id="project-description" ng-bind-html="project.description"></div><small><i>\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043e {{ project.published_at | fromNow }} </i></small><div class="separator-sm"></div><ul class="list-inline" ng-if="project"><li><i class="fa fa-thumbs-up fa-pad-right"></i><as-likes votable="project" votable-type="Project"></as-likes></li><li><i class="fa fa-eye fa-pad-right"></i><as-pluralize count="project.views_count" dict="counters.views"></as-pluralize></li><li><i class="fa fa-comments fa-pad-right"></i><as-pluralize count="commentsCollection.totalCount" dict="counters.comments"></as-pluralize></li></ul><div class="separator"></div><div class="sharing-buttons" style="display:block !important;"><div class="row"><div class="col-xs-3"><button class="btn btn-facebook btn-block btn-sm" ng-click="shareOnFacebook()" style="display: block !important;"><i class="fa fa-facebook fa-pad-right"></i>Share</button></div><div class="col-xs-3"><button class="btn btn-pinterest btn-block btn-sm" ng-click="shareOnPinterest()" style="display: block !important;"><i class="fa fa-pinterest fa-pad-right"></i>Pin it</button></div><div class="col-xs-3"><button class="btn btn-twitter btn-block btn-sm" ng-click="shareOnTwitter()" style="display: block !important;"><i class="fa fa-twitter fa-pad-right"></i>Tweet</button></div><div class="col-xs-3"><button class="btn btn-linkedin btn-block btn-sm" ng-click="shareOnLinkedin()" style="display: block !important;"><i class="fa fa-linkedin fa-pad-right"></i>Share</button></div></div></div><div class="separator"></div><h4 ng-if="commentsCollection.totalCount &gt; 0"><i class="fa fa-comments fa-pad-right"></i><as-pluralize count="commentsCollection.totalCount" dict="counters.comments"></as-pluralize></h4><div ng-if="commentsCollection.totalCount == 0"><h4 class="title"><i class="fa fa-comments fa-pad-right"></i><span ng-if="user_id">\u0411\u0443\u0434\u044c \u043f\u0435\u0440\u0432\u044b\u043c, \u043a\u0442\u043e \u043e\u0441\u0442\u0430\u0432\u0438\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439!</span><span ng-if="!user_id">\u0412\u043e\u0439\u0442\u0438, \u0447\u0442\u043e\u0431\u044b \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439</span></h4></div><div class="comments" ng-if="commentsCollection.totalCount &gt; 0"><div class="separator"></div><comments-list collection="commentsCollection" project="project"></comments-list><p class="text-center"><a class="load-more-comments" href="#" ng-click="loadMoreComments()" ng-hide="commentsCollection.isEnough()">\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432</a></p></div><p class="commenting-disabled" ng-if="!allowComment &amp;&amp; user_id"><i><i class="fa fa-lightbulb-o fa-pad-right"></i>\u0427\u0442\u043e\u0431\u044b \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u0445\u043e\u0440\u043e\u0448\u0435\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0432 ArtStation, \u0442\u043e\u043b\u044c\u043a\u043e \u0445\u0443\u0434\u043e\u0436\u043d\u0438\u043a\u0430\u043c \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0432\u0430\u0448\u0435\u043c \u043f\u0440\u043e\u0444\u0438\u043b\u0435, \u0447\u0442\u043e\u0431\u044b \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u044d\u0442\u0443 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c.</i></p><form name="commentForm" ng-show="user_id &amp;&amp; allowComment &amp;&amp; !userBlocked"><div class="separator-sm"></div><div class="form-group" ng-class="{ &#39;has-error&#39;: commentForm.$invalid &amp;&amp; commentForm.commentText.$dirty }"><textarea artstation-textarea-on-return="createComment()" class="form-control" id="comment-textarea" name="commentText" ng-model="commentText" placeholder="\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043e\u0442\u0437\u044b\u0432 \u0438\u043b\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"></textarea><div class="help-block" ng-show="commentForm.$invalid &amp;&amp; commentForm.commentText.$dirty"><span ng-bind="commentForm.limitError" ng-if="commentForm.limitError"></span><span ng-if="!commentForm.limitError">Your comment is empty or incorrect</span></div></div><button class="btn btn-primary btn-sm" id="post-comment-button" ng-click="createComment()" ng-disabled="commentCreatingInProgress || emptyCommentText()" type="submit"><i class="fa fa-comment fa-pad-right"></i>\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439</button></form><div class="separator"></div><div ng-if="project.software_items.length &gt; 0"><h4 class="title">\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u041f\u041e</h4><div class="software-used"><div class="software" ng-repeat="item in project.software_items"><img ng-src="{{ ::item.icon_url }}" /><p ng-bind-html="::item.name"></p></div></div></div><div class="separator"></div><div class="more-artworks" ng-if="moreProjectsByUser.length &gt; 0"><h4 class="title">\u0415\u0449\u0435 \u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f <a href="{{ ::project.user.permalink }}" ng-bind-html="::project.user.full_name"></a></h4><div class="row hidden-sm"><div class="col-xs-4" ng-if="$index &lt; 9" ng-repeat="p in ::moreProjectsByUser"><a class="additional-artwork" ng-href="/artwork/{{ ::p.hash_id }}" target="_top"><img ng-if="!p.hide_as_adult" ng-src="{{ ::p.cover.micro_square_image_url }}" /><img ng-if="p.hide_as_adult" ng-src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><div class="row visible-sm"><div class="col-xs-3" ng-repeat="p in ::moreProjectsByUser"><a class="additional-artwork" ng-href="/artwork/{{ ::p.hash_id }}" target="_top"><img ng-if="!p.hide_as_adult" ng-src="{{ ::p.cover.micro_square_image_url }}" /><img ng-if="p.hide_as_adult" ng-src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><div class="clearfix"></div></div><div class="separator-sm"></div><div class="more-artworks" ng-if="recommendedProjects.length &gt; 0"><h4 class="title">Others also liked </h4><div class="row hidden-sm"><div class="col-xs-4" ng-if="$index &lt; 9" ng-repeat="p in ::recommendedProjects"><a class="additional-artwork" ng-href="/artwork/{{ ::p.hash_id }}" target="_top"><img ng-if="!p.hide_as_adult" ng-src="{{ ::p.micro_square_cover_url }}" /><img ng-if="p.hide_as_adult" ng-src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><div class="row visible-sm"><div class="col-xs-3" ng-repeat="p in ::recommendedProjects"><a class="additional-artwork" ng-href="/artwork/{{ ::p.hash_id }}" target="_top"><img ng-if="!p.hide_as_adult" ng-src="{{ ::p.micro_square_cover_url }}" /><img ng-if="p.hide_as_adult" ng-src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><div class="clearfix"></div></div><div class="separator-sm"></div><div class="tags" ng-if="showTags"><h4 class="title"><i class="fa fa-tag"></i>&nbsp;\u0422\u044d\u0433\u0438</h4><a class="label label-default label-tag" href="/search?q={{ project.medium.name }}" ng-if="project.medium">#{{ project.medium.name }}</a><a class="label label-default label-tag" href="/search?q={{category.name}}" ng-repeat="category in project.categories">#{{ ::category.name }}</a><a class="label label-default label-tag" href="/search?q={{ ::tag }}" ng-bind-html="&#39;#&#39; + tag" ng-repeat="tag in project.tags"></a><as-edit-tags ng-if="is_moderator" project="project"></as-edit-tags></div><div class="keyboard-shortcuts hidden-xs hidden-sm"><hr /><h5>\u0413\u043e\u0440\u044f\u0447\u0438\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0438</h5><ul class="shortcuts"><li><span class="label label-default">L</span>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</li><li><span class="label label-default">F</span>\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f</li><li><span class="label label-default"><i class="fa fa-caret-left"></i></span>\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0435</li><li><span class="label label-default"><i class="fa fa-caret-right"></i></span>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435</li><li><span class="label label-default">A</span>\u0412 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e</li><li><span class="label label-default">esc</span>\u0417\u0430\u043a\u0440\u044b\u0442\u044c</li></ul></div></div></aside></div><add-to-collection-modal project="project"></add-to-collection-modal><abuse-report-modal ng-if="currentUser"></abuse-report-modal><block-user-modal ng-if="currentUser"></block-user-modal>'),e.put("community/project-en.html",'<div class="gallery-single form-prolongate-session"><div class="artwork-container" ng-class="{ &#39;adult-content-active&#39;: project.hide_as_adult &amp;&amp; showAdultFilter }"><a class="mobile-close" href="#" ng-click="close()"><i class="fa fa-times"></i></a><a class="arrow-previous" href="#" ng-click="prev()" ng-show="canPrev()"><div class="arrow-container"><div class="arrow arrow-previous"></div></div></a><a class="arrow-next" href="#" ng-click="next()" ng-show="canNext()"><div class="arrow-container"><div class="arrow arrow-next"></div></div></a><div class="more-down-indicator"><div class="scroll-down"><i class="fa fa-lg fa-angle-double-down"></i>&nbsp;Scroll to see more</div></div><div class="adult-content-filter" ng-if="project.hide_as_adult &amp;&amp; showAdultFilter"><div class="adult-content-notice"><h1>MATURE CONTENT</h1><p>This content is for mature audiences only.<br />User discretion is advised.</p><p><a class="btn btn-default" href="#" ng-click="showAdult()">Show me the artwork</a></p><p ng-if="user_id"><a href="/myartstation/settings/general#browsing-experience" target="_self">Change mature content filter settings</a></p></div></div><project-assets collection="::project.assets"></project-assets></div><aside class="artwork-info-container"><div artstation-scroll="true" class="artwork-info"><div class="btn-toolbar"><div class="btn-group hidden-sm hidden-xs"><button class="btn btn-default btn-xs" ng-click="close()" type="button"><i class="fa fa-times"></i></button></div><div as-resource-actions="" class="btn-group" ng-if="user_id" target="project" target-type="artwork"></div></div><div class="separator-sm"></div><div class="artist"><a class="avatar" href="/{{ ::project.user.username }}"><img ng-src="{{ ::project.user.medium_avatar_url }}" /></a><div class="artist-name-and-headline"><div class="name"><a href="/{{ ::project.user.username }}" ng-bind-html="::project.user.full_name"></a><a class="pro-badge top" href="/pro" ng-if="project.user.pro_member" target="_top">PRO</a><div class="staff-badge top" ng-if="project.user.is_staff">STAFF</div></div><div class="headline" ng-bind-html="::project.user.headline"></div><div class="user-follow-btn" ng-if="user_id != project.user_id"><follow-button bind-keyboard="true" follow-callback="showRecommendations()" user="project.user"></follow-button><a class="btn btn-default btn-xs user-follow-also" href="#" ng-click="showRecommendations()" ng-show="isRecommendationsVisible"><i class="fa fa-group"></i><i class="fa fa-angle-up" ng-show="recommendedUsers.length"></i><i class="fa fa-angle-down" ng-show="!recommendedUsers.length"></i></a></div></div></div><recommended-users ng-if="recommendedUsers.length" on-close="clearUserRecommendations()" users="recommendedUsers"></recommended-users><div class="button-blocks" ng-if="user_id"><div class="separator"></div><div class="row"><div class="col-xs-6"><button class="btn btn-default btn-sm" ng-click="toggleLike()" ng-if="project.liked" type="button"><i class="fa fa-check fa-pad-right"></i>Liked</button><button class="btn btn-success btn-sm" ng-click="toggleLike()" ng-if="!project.liked" title="Like this artwork (L)" type="button"><i class="fa fa-thumbs-up fa-pad-right"></i>Like</button></div><div class="col-xs-6"><a class="btn btn-primary btn-sm btn-block" data-target="#collection-modal" data-toggle="modal"><span class="icon icon-add-to-collection fa-pad-right"></span>Add to collection</a></div><div class="col-xs-12" ng-if="user_id == project.user_id"><div class="separator-sm"></div></div><div class="col-xs-6" ng-if="user_id == project.user_id"><a class="btn btn-primary btn-sm" href="/myartstation/projects/{{ ::project.hash_id }}/edit" target="_top"><i class="fa fa-pencil fa-pad-right"></i>Edit</a></div></div><div class="separator-sm"></div><recommended-projects-carousel ng-if="recommendedProjects.length" projects="recommendedProjects" recommended-class="similar-projects"></recommended-projects-carousel></div><div class="current-collections-list" ng-if="project.collections.length"><span class="icon icon-add-to-collection fa-pad-right"></span>In collections: <span ng-bind-html="currentCollectionsList()"></span></div><div class="separator-sm"></div><div class="alert alert-warning" ng-if="project &amp;&amp; !project.visible_on_artstation"><i class="fa fa-pad-right fa-unlock"></i>This project is unlisted. Only those with the link can see it.</div><support-artstation-please asset-size="small" ng-if="isDesktop()">\\</support-artstation-please><div class="separator"></div><h3 ng-bind-html="project.title"></h3><div class="description" id="project-description" ng-bind-html="project.description"></div><small><i>Posted {{ project.published_at | fromNow }} </i></small><div class="separator-sm"></div><ul class="list-inline" ng-if="project"><li><i class="fa fa-thumbs-up fa-pad-right"></i><as-likes votable="project" votable-type="Project"></as-likes></li><li><i class="fa fa-eye fa-pad-right"></i><as-pluralize count="project.views_count" dict="counters.views"></as-pluralize></li><li><i class="fa fa-comments fa-pad-right"></i><as-pluralize count="commentsCollection.totalCount" dict="counters.comments"></as-pluralize></li></ul><div class="separator"></div><div class="sharing-buttons" style="display:block !important;"><div class="row"><div class="col-xs-3"><button class="btn btn-facebook btn-block btn-sm" ng-click="shareOnFacebook()" style="display: block !important;"><i class="fa fa-facebook fa-pad-right"></i>Share</button></div><div class="col-xs-3"><button class="btn btn-pinterest btn-block btn-sm" ng-click="shareOnPinterest()" style="display: block !important;"><i class="fa fa-pinterest fa-pad-right"></i>Pin it</button></div><div class="col-xs-3"><button class="btn btn-twitter btn-block btn-sm" ng-click="shareOnTwitter()" style="display: block !important;"><i class="fa fa-twitter fa-pad-right"></i>Tweet</button></div><div class="col-xs-3"><button class="btn btn-linkedin btn-block btn-sm" ng-click="shareOnLinkedin()" style="display: block !important;"><i class="fa fa-linkedin fa-pad-right"></i>Share</button></div></div></div><div class="separator"></div><h4 ng-if="commentsCollection.totalCount &gt; 0"><i class="fa fa-comments fa-pad-right"></i><as-pluralize count="commentsCollection.totalCount" dict="counters.comments"></as-pluralize></h4><div ng-if="commentsCollection.totalCount == 0"><h4 class="title"><i class="fa fa-comments fa-pad-right"></i><span ng-if="user_id">Be the first to comment!</span><span ng-if="!user_id">Sign in to comment!</span></h4></div><div class="comments" ng-if="commentsCollection.totalCount &gt; 0"><div class="separator"></div><comments-list collection="commentsCollection" project="project"></comments-list><p class="text-center"><a class="load-more-comments" href="#" ng-click="loadMoreComments()" ng-hide="commentsCollection.isEnough()">Load more comments</a></p></div><p class="commenting-disabled" ng-if="!allowComment &amp;&amp; user_id"><i><i class="fa fa-lightbulb-o fa-pad-right"></i>To maintain a high quality community on ArtStation, only artists can leave comments. Please upload your portfolio and complete your profile to unlock this ability.</i></p><form name="commentForm" ng-show="user_id &amp;&amp; allowComment &amp;&amp; !userBlocked"><div class="separator-sm"></div><div class="form-group" ng-class="{ &#39;has-error&#39;: commentForm.$invalid &amp;&amp; commentForm.commentText.$dirty }"><textarea artstation-textarea-on-return="createComment()" class="form-control" id="comment-textarea" name="commentText" ng-model="commentText" placeholder="Share your feedback and comments!"></textarea><div class="help-block" ng-show="commentForm.$invalid &amp;&amp; commentForm.commentText.$dirty"><span ng-bind="commentForm.limitError" ng-if="commentForm.limitError"></span><span ng-if="!commentForm.limitError">Your comment is empty or incorrect</span></div></div><button class="btn btn-primary btn-sm" id="post-comment-button" ng-click="createComment()" ng-disabled="commentCreatingInProgress || emptyCommentText()" type="submit"><i class="fa fa-comment fa-pad-right"></i>Post Comment</button></form><div class="separator"></div><div ng-if="project.software_items.length &gt; 0"><h4 class="title">Software Used</h4><div class="software-used"><div class="software" ng-repeat="item in project.software_items"><img ng-src="{{ ::item.icon_url }}" /><p ng-bind-html="::item.name"></p></div></div></div><div class="separator"></div><div class="more-artworks" ng-if="moreProjectsByUser.length &gt; 0"><h4 class="title">More by <a href="{{ ::project.user.permalink }}" ng-bind-html="::project.user.full_name"></a></h4><div class="row hidden-sm"><div class="col-xs-4" ng-if="$index &lt; 9" ng-repeat="p in ::moreProjectsByUser"><a class="additional-artwork" ng-href="/artwork/{{ ::p.hash_id }}" target="_top"><img ng-if="!p.hide_as_adult" ng-src="{{ ::p.cover.micro_square_image_url }}" /><img ng-if="p.hide_as_adult" ng-src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><div class="row visible-sm"><div class="col-xs-3" ng-repeat="p in ::moreProjectsByUser"><a class="additional-artwork" ng-href="/artwork/{{ ::p.hash_id }}" target="_top"><img ng-if="!p.hide_as_adult" ng-src="{{ ::p.cover.micro_square_image_url }}" /><img ng-if="p.hide_as_adult" ng-src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><div class="clearfix"></div></div><div class="separator-sm"></div><div class="more-artworks" ng-if="recommendedProjects.length &gt; 0"><h4 class="title">Others also liked </h4><div class="row hidden-sm"><div class="col-xs-4" ng-if="$index &lt; 9" ng-repeat="p in ::recommendedProjects"><a class="additional-artwork" ng-href="/artwork/{{ ::p.hash_id }}" target="_top"><img ng-if="!p.hide_as_adult" ng-src="{{ ::p.micro_square_cover_url }}" /><img ng-if="p.hide_as_adult" ng-src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><div class="row visible-sm"><div class="col-xs-3" ng-repeat="p in ::recommendedProjects"><a class="additional-artwork" ng-href="/artwork/{{ ::p.hash_id }}" target="_top"><img ng-if="!p.hide_as_adult" ng-src="{{ ::p.micro_square_cover_url }}" /><img ng-if="p.hide_as_adult" ng-src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><div class="clearfix"></div></div><div class="separator-sm"></div><div class="tags" ng-if="showTags"><h4 class="title"><i class="fa fa-tag"></i>&nbsp;Tags</h4><a class="label label-default label-tag" href="/search?q={{ project.medium.name }}" ng-if="project.medium">#{{ project.medium.name }}</a><a class="label label-default label-tag" href="/search?q={{category.name}}" ng-repeat="category in project.categories">#{{ ::category.name }}</a><a class="label label-default label-tag" href="/search?q={{ ::tag }}" ng-bind-html="&#39;#&#39; + tag" ng-repeat="tag in project.tags"></a><as-edit-tags ng-if="is_moderator" project="project"></as-edit-tags></div><div class="keyboard-shortcuts hidden-xs hidden-sm"><hr /><h5>Keyboard Shortcuts</h5><ul class="shortcuts"><li><span class="label label-default">L</span>Like</li><li><span class="label label-default">F</span>Follow</li><li><span class="label label-default"><i class="fa fa-caret-left"></i></span>Previous</li><li><span class="label label-default"><i class="fa fa-caret-right"></i></span>Next</li><li><span class="label label-default">A</span>Add to collection</li><li><span class="label label-default">esc</span>Close</li></ul></div></div></aside></div><add-to-collection-modal project="project"></add-to-collection-modal><abuse-report-modal ng-if="currentUser"></abuse-report-modal><block-user-modal ng-if="currentUser"></block-user-modal>'),e.put("community/project.html",e.get("community/project-en.html"))
}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/search_projects-ru.html",'<div class="container"><div class="page-header"><h1>\u041f\u043e\u0438\u0441\u043a</h1></div><div class="sub-nav"><div class="btn-group"><a class="btn btn-default active" href="#">\u0420\u0430\u0431\u043e\u0442\u044b</a><a class="btn btn-default" href="#" ng-href="/artists?q={{ searchQuery }}">\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438</a></div></div><div class="row"><div class="col-md-8 col-md-offset-2"><form><div class="form-group"><input autofocus="" class="form-control input-lg" ng-model="searchQuery" placeholder="Search..." type="search" /></div><div class="search-options"><div class="form-group">Sort by</div><div class="form-group"><select artstation-select2="true" class="order-select optional form-control" name="order" ng-model="sortBy"><option ng-repeat="order in orderOptions" value="{{ order[1] }}">{{ order[0] }}</option></select></div><div class="spacer"></div><div class="checkbox"><label><input ng-model="projectInfoVisible" type="checkbox" />Show project title and artist name</label></div><div class="spacer"></div><div class="checkbox"><label><input ng-model="showProFirst" type="checkbox" />Show PRO member artwork first</label></div></div></form><div class="separator"></div></div></div><div class="separator"></div></div><div class="gallery-container"><div class="gallery" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="project" ng-repeat="project in collection.items | unique:&#39;id&#39;"><a artstation-open-project="{{ ::project.id }}" class="project-image" href="/artwork/{{ ::project.hash_id }}"><ul class="icons-list"><li ng-if="project.icons.image"><div class="icon-gallery"></div></li><li ng-if="project.icons.model3d || project.icons.marmoset"><div class="icon-cube"></div></li><li ng-if="project.icons.video"><div class="icon-video-camera"></div></li></ul><div class="overlay" ng-class="{ visible: projectInfoVisible }"><div class="info"><img class="avatar" ng-src="{{ ::project.user.medium_avatar_url }}" /><div class="title" ng-bind-html="project.title"></div><div class="name">{{ ::project.user.full_name | unescapeHTML }}<div class="pro-badge smaller" ng-if="project.user.pro_member">PRO</div><div class="staff-badge smaller" ng-if="project.user.is_staff">STAFF</div></div></div></div><img class="image" ng-if="!project.hide_as_adult" ng-src="{{ project.cover.thumb_url }}" /><img class="image" ng-if="project.hide_as_adult" src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div><div class="clearfix"></div></div><div class="text-center" ng-show="showLoadingIcon"><div class="separator"></div><i class="fa fa-circle-o-notch fa-spin fa-2x"></i><div class="separator"></div></div></div>'),e.put("community/search_projects-en.html",'<div class="container"><div class="page-header"><h1>Search</h1></div><div class="sub-nav"><div class="btn-group"><a class="btn btn-default active" href="#">Projects</a><a class="btn btn-default" href="#" ng-href="/artists?q={{ searchQuery }}">Artists</a></div></div><div class="row"><div class="col-md-8 col-md-offset-2"><form><div class="form-group"><input autofocus="" class="form-control input-lg" ng-model="searchQuery" placeholder="Search..." type="search" /></div><div class="search-options"><div class="form-group">Sort by</div><div class="form-group"><select artstation-select2="true" class="order-select optional form-control" name="order" ng-model="sortBy"><option ng-repeat="order in orderOptions" value="{{ order[1] }}">{{ order[0] }}</option></select></div><div class="spacer"></div><div class="checkbox"><label><input ng-model="projectInfoVisible" type="checkbox" />Show project title and artist name</label></div><div class="spacer"></div><div class="checkbox"><label><input ng-model="showProFirst" type="checkbox" />Show PRO member artwork first</label></div></div></form><div class="separator"></div></div></div><div class="separator"></div></div><div class="gallery-container"><div class="gallery" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="project" ng-repeat="project in collection.items | unique:&#39;id&#39;"><a artstation-open-project="{{ ::project.id }}" class="project-image" href="/artwork/{{ ::project.hash_id }}"><ul class="icons-list"><li ng-if="project.icons.image"><div class="icon-gallery"></div></li><li ng-if="project.icons.model3d || project.icons.marmoset"><div class="icon-cube"></div></li><li ng-if="project.icons.video"><div class="icon-video-camera"></div></li></ul><div class="overlay" ng-class="{ visible: projectInfoVisible }"><div class="info"><img class="avatar" ng-src="{{ ::project.user.medium_avatar_url }}" /><div class="title" ng-bind-html="project.title"></div><div class="name">{{ ::project.user.full_name | unescapeHTML }}<div class="pro-badge smaller" ng-if="project.user.pro_member">PRO</div><div class="staff-badge smaller" ng-if="project.user.is_staff">STAFF</div></div></div></div><img class="image" ng-if="!project.hide_as_adult" ng-src="{{ project.cover.thumb_url }}" /><img class="image" ng-if="project.hide_as_adult" src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div><div class="clearfix"></div></div><div class="text-center" ng-show="showLoadingIcon"><div class="separator"></div><i class="fa fa-circle-o-notch fa-spin fa-2x"></i><div class="separator"></div></div></div>'),e.put("community/search_projects.html",e.get("community/search_projects-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/search_users-ru.html",'<div class="container"><div class="page-header"><h1>\u041f\u043e\u0438\u0441\u043a</h1></div><div class="sub-nav"><div class="btn-group"><a class="btn btn-default" href="#" ng-href="/search?q={{ searchQuery }}">\u0420\u0430\u0431\u043e\u0442\u044b</a><a class="btn btn-default active" href="#">\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438</a></div></div><div class="candidate-search"><div class="separator"></div><div class="row"><div class="col-md-3 col-md-push-9 candidate-search-sidebar"><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title" href="#filter-form">\u0424\u0438\u043b\u044c\u0442\u0440\u044b</h4></div><div class="panel-body collapse in" id="filter-form"><form><div class="form-group"><label>\u041f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430</label><input class="form-control" ng-model="searchQuery" placeholder="\u041f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430" type="text" /></div><div class="form-group"><label>\u0413\u043e\u0440\u043e\u0434</label><input class="form-control" ng-model="searchFilter.city" placeholder="\u0413\u043e\u0440\u043e\u0434" type="text" /></div><div class="form-group"><label>\u0421\u0442\u0440\u0430\u043d\u0430</label><select artstation-select2="true" class="optional form-control country-select" name="country" ng-model="searchFilter.country"><option ng-repeat="country in countries" value="{{ country[1] }}">{{ country[0] }}</option></select></div><div class="form-group"><label>\u041d\u0430\u0432\u044b\u043a\u0438</label><ul class="list-inline" ng-show="searchFilter.skills.length &gt; 0"><li ng-repeat="skill in searchFilter.skills"><span class="label label-info">{{ skill }}<a class="remove" href="" ng-click="removeSkill(skill)"><i class="fa fa-times fa-pad-left"></i></a></span></li></ul><select class="form-control skills-filter-input" data-autocomplete-url="/autocomplete/skills.json" data-prompt-text="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u043d\u0430\u0432\u044b\u043a\u0438" placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u043d\u0430\u0432\u044b\u043a\u0438"></select></div><div class="form-group"><label>\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b</label><ul class="list-inline" ng-show="searchFilter.software_items.length &gt; 0"><li ng-repeat="software in searchFilter.software_items"><span class="label label-info">{{ software }}<a class="remove" href="" ng-click="removeSoftware(software)"><i class="fa fa-times fa-pad-left"></i></a></span></li></ul><select class="form-control software-filter-input" data-autocomplete-url="/autocomplete/software.json" data-prompt-text="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u041f\u041e" placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u041f\u041e"></select></div><div class="form-group"><label>\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c</label><div class="checkbox"><label><input ng-model="searchFilter.available_full_time" type="checkbox" />\u041d\u0430 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0439 \u043e\u0441\u043d\u043e\u0432\u0435</label></div><div class="checkbox"><label><input ng-model="searchFilter.available_contract" type="checkbox" />\u041a\u043e\u043d\u0442\u0440\u0430\u043a\u0442</label></div><div class="checkbox"><label><input ng-model="searchFilter.available_freelance" type="checkbox" />\u0424\u0440\u0438\u043b\u0430\u043d\u0441</label></div></div><div class="form-group" ng-if="currentUser"><label>Options</label><div class="checkbox"><label><input ng-model="searchFilter.show_pro_first" type="checkbox" />Show PRO members first</label></div></div><a class="btn btn-default" href="#" ng-click="resetSearch()"><i class="fa fa-refresh fa-pad-right"></i>\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c</a></form></div></div></div><div class="col-md-9 col-md-pull-3"><div class="alert alert-black" ng-if="!currentUser"><h4>Showing only <a href="/pro" class="pro-badge larger" target="_self">PRO</a> artists. <a href="/users/sign_in" target="_self">Sign in</a> to show all artists.</h4>Don\'t have an account? <a href="/users/sign_up" target="_self">Sign up</a> for free.</div><div class="candidate-search-results"><div class="row"><div class="col-md-9"><h4 class="optional-title"><span ng-show="isFiltersPresent() &amp;&amp; !showLoadingIcon"><ng-pluralize count="usersCount" when="{&#39;0&#39;: &#39;No Artists Found&#39;, &#39;1&#39;: &#39;1 Artist Found&#39;, &#39;other&#39;: &#39;{{ usersCount|number }} Artists&#39;}"></ng-pluralize><span ng-if="!currentUser &amp;&amp; usersCount &gt; 0 &amp;&amp; totalCount &gt;= 0"> - Showing {{ totalCount|number }} Pro Artists</span></span></h4></div><div class="col-md-3"><div class="form-inline filter-artists"><select artstation-select2="true" class="order-select optional form-control" name="order" ng-model="sortBy"><option ng-repeat="order in orderOptions" value="{{ order[1] }}">{{ order[0] }}</option></select></div></div></div><div class="separator"></div><div infinite-scroll="loadMore()" infinite-scroll-distance="1"><div ng-repeat="user in searchResults"><user-card user="user"></user-card></div><div class="clearfix"></div><div class="text-center" ng-show="showLoadingIcon"><div class="separator"></div><i class="fa fa-circle-o-notch fa-spin fa-2x loading-icon-light"></i><div class="separator"></div></div></div></div></div></div></div></div>'),e.put("community/search_users-en.html",'<div class="container"><div class="page-header"><h1>Search</h1></div><div class="sub-nav"><div class="btn-group"><a class="btn btn-default" href="#" ng-href="/search?q={{ searchQuery }}">Projects</a><a class="btn btn-default active" href="#">Artists</a></div></div><div class="candidate-search"><div class="separator"></div><div class="row"><div class="col-md-3 col-md-push-9 candidate-search-sidebar"><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title" href="#filter-form">Filters</h4></div><div class="panel-body collapse in" id="filter-form"><form><div class="form-group"><label>Search Terms</label><input class="form-control" ng-model="searchQuery" placeholder="Search terms" type="text" /></div><div class="form-group"><label>City</label><input class="form-control" ng-model="searchFilter.city" placeholder="City" type="text" /></div><div class="form-group"><label>Country</label><select artstation-select2="true" class="optional form-control country-select" name="country" ng-model="searchFilter.country"><option ng-repeat="country in countries" value="{{ country[1] }}">{{ country[0] }}</option></select></div><div class="form-group"><label>Skills</label><ul class="list-inline" ng-show="searchFilter.skills.length &gt; 0"><li ng-repeat="skill in searchFilter.skills"><span class="label label-info">{{ skill }}<a class="remove" href="" ng-click="removeSkill(skill)"><i class="fa fa-times fa-pad-left"></i></a></span></li></ul><select class="form-control skills-filter-input" data-autocomplete-url="/autocomplete/skills.json" data-prompt-text="Enter skill here" placeholder="Enter skill here"></select></div><div class="form-group"><label>Software</label><ul class="list-inline" ng-show="searchFilter.software_items.length &gt; 0"><li ng-repeat="software in searchFilter.software_items"><span class="label label-info">{{ software }}<a class="remove" href="" ng-click="removeSoftware(software)"><i class="fa fa-times fa-pad-left"></i></a></span></li></ul><select class="form-control software-filter-input" data-autocomplete-url="/autocomplete/software.json" data-prompt-text="Enter software here" placeholder="Enter software here"></select></div><div class="form-group"><label>Availability</label><div class="checkbox"><label><input ng-model="searchFilter.available_full_time" type="checkbox" />Permanent</label></div><div class="checkbox"><label><input ng-model="searchFilter.available_contract" type="checkbox" />Contract</label></div><div class="checkbox"><label><input ng-model="searchFilter.available_freelance" type="checkbox" />Freelance</label></div></div><div class="form-group" ng-if="currentUser"><label>Options</label><div class="checkbox"><label><input ng-model="searchFilter.show_pro_first" type="checkbox" />Show PRO members first</label></div></div><a class="btn btn-default" href="#" ng-click="resetSearch()"><i class="fa fa-refresh fa-pad-right"></i>Reset</a></form></div></div></div><div class="col-md-9 col-md-pull-3"><div class="alert alert-black" ng-if="!currentUser"><h4>Showing only <a href="/pro" class="pro-badge larger" target="_self">PRO</a> artists. <a href="/users/sign_in" target="_self">Sign in</a> to show all artists.</h4>Don\'t have an account? <a href="/users/sign_up" target="_self">Sign up</a> for free.</div><div class="candidate-search-results"><div class="row"><div class="col-md-9"><h4 class="optional-title"><span ng-show="isFiltersPresent() &amp;&amp; !showLoadingIcon"><ng-pluralize count="usersCount" when="{&#39;0&#39;: &#39;No Artists Found&#39;, &#39;1&#39;: &#39;1 Artist Found&#39;, &#39;other&#39;: &#39;{{ usersCount|number }} Artists&#39;}"></ng-pluralize><span ng-if="!currentUser &amp;&amp; usersCount &gt; 0 &amp;&amp; totalCount &gt;= 0"> - Showing {{ totalCount|number }} Pro Artists</span></span></h4></div><div class="col-md-3"><div class="form-inline filter-artists"><select artstation-select2="true" class="order-select optional form-control" name="order" ng-model="sortBy"><option ng-repeat="order in orderOptions" value="{{ order[1] }}">{{ order[0] }}</option></select></div></div></div><div class="separator"></div><div infinite-scroll="loadMore()" infinite-scroll-distance="1"><div ng-repeat="user in searchResults"><user-card user="user"></user-card></div><div class="clearfix"></div><div class="text-center" ng-show="showLoadingIcon"><div class="separator"></div><i class="fa fa-circle-o-notch fa-spin fa-2x loading-icon-light"></i><div class="separator"></div></div></div></div></div></div></div></div>'),e.put("community/search_users.html",e.get("community/search_users-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("community/streams/show-ru.html",'<div class="gallery-single"><div class="artwork-container text-center"><a class="mobile-close" href="#" ng-click="close()"><i class="fa fa-times"></i></a><a class="arrow-previous-sm" href="#" ng-click="previous()" ng-if="stream.prev_id"><div class="arrow arrow-previous"></div></a><a class="arrow-next-sm" href="#" ng-click="next()" ng-if="stream.next_id"><div class="arrow arrow-next"></div></a><div class="twitch-stream" data-fitvids="true"><iframe frameborder="0" height="360" ng-src="{{ stream.embed_url }}" scrolling="no" width="640"></iframe></div></div><aside class="artwork-info-container"><div class="artwork-info auto-height"><div class="btn-toolbar"><div class="btn-group hidden-sm hidden-xs"><button class="btn btn-default btn-xs" ng-click="close()" type="button"><i class="fa fa-times"></i></button></div></div><div class="artist"><a class="avatar" href="/{{ stream.user.username }}"><img ng-src="{{ stream.user.medium_avatar_url }}" /></a><div class="artist-name-and-headline"><div class="name"><a href="/{{ stream.user.username }}" ng-bind-html="stream.user.full_name"></a><a class="pro-badge top" href="/pro" ng-if="stream.user.pro_member" target="_top">PRO</a><div class="staff-badge top" ng-if="stream.user.is_staff">STAFF</div></div><div class="headline" ng-bind-html="stream.user.headline"></div></div></div><div class="button-blocks" ng-if="currentUser"><div class="separator"></div><div class="row"><div class="col-xs-6"><follow-button bind-keyboard="true" user="stream.user"></follow-button></div></div></div><div class="separator"></div></div><iframe class="twitch-chat" frameborder="0" ng-src="{{ stream.chat_embed_url }}" scrolling="no"></iframe><div class="more-artworks more-artworks-stream" ng-if="moreProjectsByUser.length &gt; 0"><h4 class="title">\u0415\u0449\u0435 \u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f <a href="{{ ::stream.user.permalink }}" ng-bind-html="::stream.user.full_name"></a></h4><div class="row hidden-sm"><div class="col-xs-4" ng-if="$index &lt; 3" ng-repeat="p in ::moreProjectsByUser"><a class="additional-artwork" ng-href="/artwork/{{ ::p.hash_id }}" target="_top"><img ng-if="!p.hide_as_adult" ng-src="{{ ::p.cover.micro_square_image_url }}" /><img ng-if="p.hide_as_adult" ng-src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><div class="row visible-sm"><div class="col-xs-3" ng-if="$index &lt; 4" ng-repeat="p in ::moreProjectsByUser"><a class="additional-artwork" ng-href="/artwork/{{ ::p.hash_id }}" target="_top"><img ng-if="!p.hide_as_adult" ng-src="{{ ::p.cover.micro_square_image_url }}" /><img ng-if="p.hide_as_adult" ng-src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><div class="clearfix"></div></div></aside></div>'),e.put("community/streams/show-en.html",'<div class="gallery-single"><div class="artwork-container text-center"><a class="mobile-close" href="#" ng-click="close()"><i class="fa fa-times"></i></a><a class="arrow-previous-sm" href="#" ng-click="previous()" ng-if="stream.prev_id"><div class="arrow arrow-previous"></div></a><a class="arrow-next-sm" href="#" ng-click="next()" ng-if="stream.next_id"><div class="arrow arrow-next"></div></a><div class="twitch-stream" data-fitvids="true"><iframe frameborder="0" height="360" ng-src="{{ stream.embed_url }}" scrolling="no" width="640"></iframe></div></div><aside class="artwork-info-container"><div class="artwork-info auto-height"><div class="btn-toolbar"><div class="btn-group hidden-sm hidden-xs"><button class="btn btn-default btn-xs" ng-click="close()" type="button"><i class="fa fa-times"></i></button></div></div><div class="artist"><a class="avatar" href="/{{ stream.user.username }}"><img ng-src="{{ stream.user.medium_avatar_url }}" /></a><div class="artist-name-and-headline"><div class="name"><a href="/{{ stream.user.username }}" ng-bind-html="stream.user.full_name"></a><a class="pro-badge top" href="/pro" ng-if="stream.user.pro_member" target="_top">PRO</a><div class="staff-badge top" ng-if="stream.user.is_staff">STAFF</div></div><div class="headline" ng-bind-html="stream.user.headline"></div></div></div><div class="button-blocks" ng-if="currentUser"><div class="separator"></div><div class="row"><div class="col-xs-6"><follow-button bind-keyboard="true" user="stream.user"></follow-button></div></div></div><div class="separator"></div></div><iframe class="twitch-chat" frameborder="0" ng-src="{{ stream.chat_embed_url }}" scrolling="no"></iframe><div class="more-artworks more-artworks-stream" ng-if="moreProjectsByUser.length &gt; 0"><h4 class="title">More by <a href="{{ ::stream.user.permalink }}" ng-bind-html="::stream.user.full_name"></a></h4><div class="row hidden-sm"><div class="col-xs-4" ng-if="$index &lt; 3" ng-repeat="p in ::moreProjectsByUser"><a class="additional-artwork" ng-href="/artwork/{{ ::p.hash_id }}" target="_top"><img ng-if="!p.hide_as_adult" ng-src="{{ ::p.cover.micro_square_image_url }}" /><img ng-if="p.hide_as_adult" ng-src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><div class="row visible-sm"><div class="col-xs-3" ng-if="$index &lt; 4" ng-repeat="p in ::moreProjectsByUser"><a class="additional-artwork" ng-href="/artwork/{{ ::p.hash_id }}" target="_top"><img ng-if="!p.hide_as_adult" ng-src="{{ ::p.cover.micro_square_image_url }}" /><img ng-if="p.hide_as_adult" ng-src="/assets/adult-content-placeholder-586ba3f261e7c7413045e8e5f4a4c398.jpg" /></a></div></div><div class="clearfix"></div></div></aside></div>'),e.put("community/streams/show.html",e.get("community/streams/show-en.html"))}]),function(){app.factory("auth",["$location",function(e){var t;return new(t=function(){function t(){}return t.prototype.requireLoggedIn=function(t){return window.user_id?t():e.url("/",!0)},t}())}])}.call(this),function(){app.factory("ClientData",["$cookies",function(e){var t;return new(t=function(){function t(){}return t.prototype.put=function(t,i){return e.putObject(t,i)},t.prototype.get=function(t){return e.getObject(t)||{}},t}())}])}.call(this),function(){app.factory("CurrentUser",[function(){return window.user_id?{id:window.user_id,avatar_url:window.user_avatar_url,show_adult:window.user_show_adult,full_name:window.defaultSanitizer.unescapeHTML(window.user_full_name),email:window.user_email,username:window.username,permissions:window.user_permissions,pro_member:window.user_pro_member,hasPermission:function(e){return _.contains(this.permissions,e)},isArtist:function(){return this.hasPermission("artist")},isAdmin:function(){return this.hasPermission("admin")},isChallengeHost:function(){return this.hasPermission("challenge_host")}}:null}])}.call(this),function(){var e;e=function(){function e(){}return e.prototype.findProject=function(e,t){return e.find(t)},e.prototype.getNextItem=function(e,t){return e?e.findNext(t):void 0},e.prototype.getPrevItem=function(e,t){return e?e.findPrev(t):void 0},e}(),app.factory("DefaultProjectFinder",[function(){return new e}])}.call(this),function(){app.factory("errorHandler",["$location",function(e){var t;return new(t=function(){function t(){}return t.prototype.handle=function(){return e.url("/",!0)},t}())}])}.call(this),function(){var e;e=function(){function e(){}return e.prototype.findProject=function(e,t){return e.find(t).project},e.prototype.getNextItem=function(e,t){var i;if(e){for(i=e.findNext(t);i&&!i.isProject;)i=e.findNext(i.id);if(i)return i}},e.prototype.getPrevItem=function(e,t){var i;if(e){for(i=e.findPrev(t);i&&!i.isProject;)i=e.findPrev(i.id);if(i)return i}},e}(),app.factory("FeedProjectFinder",[function(){return new e}])}.call(this),function(){app.factory("Filters",["$routeParams","$cookies",function(e,t){var i;return i=function(){function i(e,t){null==e&&(e=!1),this.cookie_name=t,_.isEmpty(this.fromRoute())?e&&!_.isEmpty(this.fromCookies())?this.filters||(this.filters=angular.extend(this.constructor.defaults,this.fromCookies())):this.filters||(this.filters=_.clone(this.constructor.defaults)):this.filters||(this.filters=angular.extend(this.constructor.defaults,this.fromRoute()))}return i.prototype.set=function(e,t,i){return null==i&&(i=!0),this.filters[e]=this.normalize(t),this.updateCookies(),this.updateLocation()},i.prototype.getAll=function(){return this.filters},i.prototype.isCurrent=function(e,t){return(this.getAll()[e]||"default")===t},i.prototype.normalize=function(e){return e&&"default"!==e?e:void 0},i.prototype.compact=function(){var e;return e={},$.each(this.filters,function(t,i){return"boolean"==typeof i&&i?e[t]="true":i?e[t]=i:void 0}),this.clearInput(e)},i.prototype.fromRoute=function(){return this.clearInput(e)},i.prototype.fromCookies=function(){return this.clearInput(t.getObject(this.cookie_name)||{})},i.prototype.updateCookies=function(){return t.putObject(this.cookie_name,this.compact())},i.prototype.clearInput=function(e){var t,i,n,s;i={},n=_.pick(e,_.keys(this.constructor.defaults));for(t in n)s=n[t],(s=this.normalize(s))&&(i[t]=s);return i},i}()}])}.call(this),function(){app.factory("FroalaOptions",[function(){return{"default":{theme:"dark",pluginsEnabled:["lists","link","draggable","artstationMediaAsset","artstationEmbed","wordPaste"],toolbarButtons:["bold","italic","insertLink","formatOL","formatUL","undo","redo","html","artstationUploadImage","artstationInsertVideo","artstationUploadMview","artstationInsertSketchfab"],toolbarButtonsMD:["bold","italic","insertLink","formatOL","formatUL","undo","redo","html","artstationUploadImage","artstationInsertVideo","artstationUploadMview","artstationInsertSketchfab"],toolbarButtonsSM:["bold","italic","insertLink","formatOL","formatUL","undo","redo","html","artstationUploadImage","artstationInsertVideo","artstationUploadMview","artstationInsertSketchfab"],toolbarButtonsXS:["bold","italic","insertLink","undo","redo","artstationUploadImage","artstationInsertVideo","artstationUploadMview","artstationInsertSketchfab"],linkEditButtons:["linkOpen","linkEdit","linkRemove"],linkInsertButtons:[],heightMin:200,immediateAngularModelUpdate:!1,pastePlain:!0},withFormatting:{theme:"dark",pluginsEnabled:["lists","link","draggable","paragraphFormat","align","artstationMediaAsset","artstationEmbed","wordPaste"],toolbarButtons:["paragraphFormat","align","bold","italic","insertLink","formatOL","formatUL","undo","redo","html","artstationUploadImage","artstationInsertVideo","artstationUploadMview","artstationInsertSketchfab"],linkEditButtons:["linkOpen","linkEdit","linkRemove"],toolbarButtonsMD:["bold","italic","insertLink","formatOL","formatUL","undo","redo","html","artstationUploadImage","artstationInsertVideo","artstationUploadMview","artstationInsertSketchfab"],toolbarButtonsSM:["bold","italic","insertLink","formatOL","formatUL","undo","redo","html","artstationUploadImage","artstationInsertVideo","artstationUploadMview","artstationInsertSketchfab"],toolbarButtonsXS:["bold","italic","insertLink","undo","redo","artstationUploadImage","artstationInsertVideo","artstationUploadMview","artstationInsertSketchfab"],linkInsertButtons:[],heightMin:200,immediateAngularModelUpdate:!1,pastePlain:!0}}}])}.call(this),function(){var e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e},t={}.hasOwnProperty;app.factory("MyFeedFilters",["$routeParams","$location","Filters",function(t,i,n){var s;return s=function(t){function n(e){null==e&&(e=!1),n.__super__.constructor.call(this,e,"filters.feed")}return e(n,t),n.defaults={only:null},n.prototype.updateLocation=function(){return i.search(this.compact())},n}(n)}])}.call(this),function(){var e;e=function(){function e(){this.items=[],this.page=1,this.isFullPageLoaded=!0,this.itemsCounter=0,this.fetcherScope="data",this.replaceItemsCounter=!0,this.allDataLoaded=!1}return e.prototype.append=function(e){return this.isFullPageLoaded?this.items.push.apply(this.items,e||[]):(this.isFullPageLoaded=!0,this.items=e||[]),this.itemsCounter=this.items.length},e.prototype.prepend=function(e){return this.items.unshift.apply(this.items,e||[]),this.itemsCounter=this.items.length},e.prototype.replace=function(e){return this.items=e||[],this.replaceItemsCounter?this.itemsCounter=this.items.length:void 0},e.prototype.set=function(e){return this.items=e[[this.fetcherScope]]||[],this.totalCount=e.total_count||0,this.unloadedCount=Math.max(e.unloaded_count,0),this.itemsCounter=this.items.length,this.allDataLoaded=!1,this.resetPage()},e.prototype.incTotalCount=function(){return this.totalCount+=1},e.prototype.decTotalCount=function(){return this.totalCount-=1},e.prototype.incPage=function(){return this.isFullPageLoaded?this.page+=1:void 0},e.prototype.resetPage=function(){return this.page=1},e.prototype.isEnough=function(){return this.totalCount<=this.itemsCounter},e.prototype.getNext=function(e){var t;return e>this.items.length||0>e?null:(t=this.items[e+1],t&&!t.id?this.getNext(e+1):t)},e.prototype.getPrev=function(e){var t;return 1>e?null:(t=this.items[e-1],t&&!t.id?this.getPrev(e-1):t)},e.prototype.indexOf=function(e){var t;return t=this.find(e),this.items.indexOf(t)},e.prototype.find=function(e){var t;return t=$.grep(this.items,function(t){return t.id===e}),t[0]},e.prototype.findNext=function(e){return this.getNext(this.indexOf(e))},e.prototype.findPrev=function(e){return this.getPrev(this.indexOf(e))},e.prototype.del=function(e){var t;return t=this.items.indexOf(this.find(e)),this.decTotalCount(),this.items.splice(t,1),this.itemsCounter=this.items.length},e.prototype.fetch=function(e){var t;return e||(e={}),e.page||(e.page=this.page),t=$.extend(this.fetcherOptions,e),this.fetcherRepository[this.fetcherMethod](t).then(function(e){return function(t){var i,n;try{e.allDataLoaded=0===t[e.fetcherScope].length}catch(n){i=n}return t}}(this))},e.prototype.fetchAndUpdate=function(e){return this.fetch(e).then(function(e){return function(t){return e.set(t),t}}(this))},e.prototype.fetchAndAppend=function(e){return this.incPage(),this.fetch(e).then(function(e){return function(t){return e.incItemsCounter(t[e.fetcherScope].length),e.append(t[e.fetcherScope]),t}}(this))},e.prototype.fetchAndReplace=function(e){return this.incPage(),this.fetch(e).then(function(e){return function(t){return e.incItemsCounter(t[e.fetcherScope].length),e.replace(t[e.fetcherScope]),t}}(this))},e.prototype.setFetcherRepository=function(e){return this.fetcherRepository=e},e.prototype.setFetcherMethod=function(e){return this.fetcherMethod=e},e.prototype.setFetcherOptions=function(e){return this.fetcherOptions=e},e.prototype.setFetcherScope=function(e){return this.fetcherScope=e},e.prototype.incItemsCounter=function(e){return this.itemsCounter+=e},e}(),app.factory("PaginatedCollection",[function(){return e}])}.call(this),function(){app.factory("ParamSerializer",[function(){var e;return e=function(){function e(){}return e.serializeValue=function(e){return angular.isObject(e)?angular.isDate(e)?e.toISOString():angular.toJson(e):e},e.serialize=function(t){var i;return t?(i=[],angular.forEach(t,function(t,n){var s;if(null!=t&&!angular.isFunction(t))return angular.isArray(t)?angular.forEach(t,function(t){return i.push(encodeURIComponent(n)+"="+encodeURIComponent(e.serializeValue(t)))}):(s=angular.isObject(t)?angular.isDate(t)?t.toISOString():angular.toJson(t):t,i.push(encodeURIComponent(n)+"="+encodeURIComponent(e.serializeValue(t))))}),i.join("&")):""},e}()}])}.call(this),function(){app.factory("projectNavigator",["$location","$rootScope","$timeout","ProjectsRepository","PaginatedCollection","DefaultProjectFinder",function(e,t,i,n,s,a){var r;return new(r=function(){function t(){}return t.prototype.initWith=function(e){return this.project=e,!this.collection&&e.user?(this.currentProjectId=e.id,this.collection=new s,this.collection.setFetcherMethod("readByUser"),this.collection.setFetcherRepository(n),this.collection.setFetcherOptions({username:e.user.username}),this.collection.fetchAndUpdate().then(function(e){return function(t){return e.projectFinder||(e.projectFinder=a),e.setSiblings(),t}}(this))):void 0},t.prototype.openProject=function(t,i,n,s){var r,o;return o=e.url(),o.match(/\/artwork\/[0-9]*/)||(this.collection=n,this.rootUrl=o,this.rootScroll=$(document).scrollTop(),this.projectFinder=s||a),t=t.toString(),this.currentProjectId=t.match(/\d+_\d+/)?t:parseInt(t),this.setSiblings(),i?(r=this.projectFinder.findProject(this.collection,this.currentProjectId),e.url("/artwork/"+r.hash_id,!0)):void 0},t.prototype.reset=function(){return this.rootUrl=null,this.rootScroll=null,this.projectFinder=a},t.prototype.close=function(){var t;return t=this.rootUrl||"/"+this.project.user.username,e.url(t,!0)},t.prototype.setSiblings=function(){return this.nextId=this.getNextId(),this.prevId=this.getPrevId()
},t.prototype.getNextId=function(){var e;return this.collection?(e=this.projectFinder.getNextItem(this.collection,this.currentProjectId),e?e.id:this.preload()):void 0},t.prototype.getPrevId=function(){var e;return this.collection&&(e=this.projectFinder.getPrevItem(this.collection,this.currentProjectId))?e.id:void 0},t.prototype.next=function(){return this.nextId?this.openProject(this.nextId,!0):void 0},t.prototype.prev=function(){return this.prevId?this.openProject(this.prevId,!0):void 0},t.prototype.isSavedCollection=function(e,t){var i;return this.collection?(i=_.omit(this.collection.fetcherOptions,"page"),this.collection.fetcherMethod===e&&_.isEqual(i,t)):!1},t.prototype.preload=function(){var e;return this.collection&&(e=this.collection.indexOf(this.currentProjectId),e+10>this.collection.items.length&&!this.collection.isEnough())?this.collection.fetchAndAppend().then(function(e){return function(t){return e.setSiblings(),t}}(this)):void 0},t}())}])}.call(this),function(){var e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e},t={}.hasOwnProperty;app.factory("ProjectsFilters",["$routeParams","$location","Filters",function(t,i,n){var s;return s=function(t){function n(e){null==e&&(e=!1),n.__super__.constructor.call(this,e,"filters.artwork")}return e(n,t),n.defaults={sorting:null,medium:null,category:null,marmoset:null,sketchfab:null,video:null,pano:null},n.prototype.updateLocation=function(){var e;return e=this.compact(),_.isEmpty(e)&&"/artwork"===i.path()?i.path("/",!1):_.isEmpty(e)||"/"!==i.path()||i.path("/artwork",!1),i.search(e)},n}(n)}])}.call(this),function(){app.directive("abuseReportModal",["AbuseReportsRepository","CurrentUser","$rootScope",function(e,t,i){return{templateUrl:"community/directives/abuse_report_modal-"+window.locale+".html",restrict:"E",replace:!0,scope:{allowUserBlock:"=",userBlockId:"=",userBlockName:"="},link:function(t){var n,s,a,r,o;return s=function(){return Flash.notice("Thank you for reporting this."),a(),r()},n=function(e){return alert("Error: "+e.statusText+". Please contact support@artstation.com.")},t.submit=function(){return t.abuseReport.block_user?i.$broadcast("artstationBlockUser:new",{blocked_user_id:t.userBlockId,username:t.userBlockName,apply_abuse_report:!0}):e.create(t.abuseReport).then(s,n)},t.cancel=function(){a()},r=function(){return t.abuseReport={kind:"",description:"",reportable_id:"",reportable_type:""},t.abuseReportForm.$setPristine()},o=function(){return $("#artstation-report-abuse-modal").modal()},a=function(){return $("#artstation-report-abuse-modal").modal("hide")},r(),t.$on("artstationAbuseReport:new",function(e,i){return t.abuseReport.reportable_id=i.reportable_id,t.abuseReport.reportable_type=i.reportable_type,o()}),t.$on("user.blocked",function(i,a){return a.apply_abuse_report?e.create(t.abuseReport).then(s,n):void 0})}}}])}.call(this),function(){app.directive("lastActorsForFeed",[function(){return{templateUrl:"community/activity/last_actors-"+window.locale+".html",restrict:"E",scope:{feedItem:"=",feedsCollection:"="},controller:["$scope","$element",function(e){var t,i,n;return e.currentUserId=window.user_id,t=e.feedItem,i=t.lastActors,e.actionText=function(){var n,s;return n=i.length>1?"multiple":"single",1===i.length&&i[0].id===e.currentUserId&&(n="multiple"),s="community.activity.action_type",I18n.t(s+"."+t.type+"."+n)},e.actorName=function(t){return t.id===e.currentUserId?I18n.t("community.activity_item_description.you"):t.full_name},n=function(t){var i,n;return n=_.filter(t,function(t){return t.id!==e.currentUserId}),i=_.filter(t,function(t){return t.id===e.currentUserId}),n.concat(i)},e.lastActors=n(i)}]}}])}.call(this),function(){app.directive("activityItemDescription",[function(){return{templateUrl:"community/directives/activity-item-description-"+window.locale+".html",restrict:"E",scope:{feedItem:"=",feedsCollection:"="},controller:["$scope","$element",function(e){e.current_user_id=window.user_id,e.humanized_action=function(e){var t,i;return t=e.activity_desc.users.length>1?"multiple":"single",i="community.activity_item_description",I18n.t(i+".action_"+e.activity_desc.type+"_"+t)},e.sorted_users=function(e){var t,i;return e?(i=_.filter(e.activity_desc.users,function(e){return e.id!==window.user_id}),t=_.filter(e.activity_desc.users,function(e){return e.id===window.user_id}),i.concat(t)):void 0}}]}}])}.call(this),function(){app.directive("addToCollectionModal",["$timeout","$window","CollectionsRepository",function(e,t,i){return{templateUrl:"community/directives/add_to_collection_modal-"+window.locale+".html",restrict:"E",scope:{project:"="},link:function(e){var t;return e.collections=[],e.newCollectionMode=!1,e.newCollection={name:""},e.collectionFilter={},t=function(){return i.index().then(function(t){return e.collections=t,e.collectionsLoaded=!0})},e.addToCollection=function(t){return i.add(t,e.project.id).then(function(t){return t.errors?_.each(t.errors,function(e){return Flash.notice(e)}):(e.project.collections.push(t),$("#collection-modal").modal("hide"))})},e.isProjectAddedToCollection=function(t){var i;return i=_.map(e.project.collections,function(e){return e.id}),_.include(i,t)},e.setNewCollectionMode=function(t){return e.newCollectionMode=t,e.collectionFilter={}},e.createCollection=function(){return""!==e.newCollection.name?i.create({name:e.newCollection.name,project_id:e.project.id,is_private:e.newCollection.is_private}).then(function(t){return t.errors?_.each(t.errors,function(e){return Flash.notice(e)}):(e.project.collections.push(t),$("#collection-modal").modal("hide"))}):void 0},$("#collection-modal").on("hidden.bs.modal",function(){return e.newCollectionMode=!1,e.newCollection.name="",e.collectionFilter.name="",e.$apply()}),$("#collection-modal").on("shown.bs.modal",function(){return t(),$("#collection-modal-search").trigger("focus")})}}}])}.call(this),function(){app.directive("asDatepicker",["$timeout",function(e){return{restrict:"A",require:"ngModel",link:function(t,i,n){var s,a;return s=!1,a=function(){return e(function(){return $(i).datepicker({format:"dd/mm/yyyy",autoClose:!0,todayBtn:"linked"}),s=!0})},a(),n.$observe("ngModel",function(e){return t.$watch(e,function(){return s?void 0:a()})})}}}])}.call(this),function(){app.directive("asEditTags",["$timeout","$filter","ProjectsRepository","CategoriesRepository","MediumsRepository",function(e,t,i,n,s){return{templateUrl:"community/directives/as_edit_tags.html",restrict:"E",scope:{project:"="},link:function(a){var r,o;return a.showEditTags=!1,o=!1,n.index().then(function(t){return a.project_categories=t,e(function(){return $("#categories-select").select2({width:"100%"}),a.defaultCategories=$("#categories-select").val()})}),s.index().then(function(t){return a.project_mediums=t,e(function(){return $("#mediums-select").select2({width:"100%"}),a.defaultMedium=$("#mediums-select").val()})}),a.categorySelected=function(e){return _.some(a.project.categories,function(t){return t.id===e})},a.showEdit=function(){var e,i;return o?(i=t("unescapeHTML"),e=a.project.tags.map(function(e){return i(e).toString()}),$(".tags_edit").val(e).trigger("change"),$("#mediums-select").val(a.defaultMedium).trigger("change"),$("#categories-select").val(a.defaultCategories).trigger("change")):r(),o=!0,a.toggleEditMode(),setTimeout(function(){return $(".artwork-info").perfectScrollbar("update")},0)},r=function(){var e,i,n;return e=[],n=t("unescapeHTML"),i=a.project.tags.map(function(e){return n(e).toString()}),$(".tags_edit").select2({width:"100%",multiple:!0,minimumInputLength:2,maximumInputLength:70,tags:i.map(function(e){return{id:e,text:e}})}).val(i).trigger("change")},a.toggleEditMode=function(){return a.showEditTags=!a.showEditTags},a.saveTags=function(){var e,t,s;return s=$(".tags_edit").val()||[],t=s.join(","),e=$("#mediums-select").val(),n=$("#categories-select").val(),i.update({id:a.project.id,project:{tag_list:t,medium_id:e,category_ids:n}}).then(function(t){return a.project.tags=t.tags,a.project.medium=t.medium,a.project.categories=t.categories,a.defaultMedium=e,a.defaultCategories=n}),a.toggleEditMode()}}}}])}.call(this),function(){app.directive("asFooter",[function(){return{templateUrl:"community/directives/as_footer-"+window.locale+".html",restrict:"E",link:function(){}}}])}.call(this),function(){app.directive("asLightBox",["$timeout",function(e){return{restrict:"A",link:function(t,i){return e(function(){return new LightBox($(i).find(".media-asset-image-link"))})}}}])}.call(this),function(){app.directive("asLikes",["VotesRepository","$location","$timeout","CurrentUser",function(e,t,i,n){return{templateUrl:"community/directives/as_likes-"+window.locale+".html",restrict:"E",scope:{votable:"=",hideLikesList:"="},link:function(t,i,s){var a,r,o;return o=function(){return t.currentUser&&t.votable.likes_count>0&&!t.hideLikesList?t.allowViewingAdditionalData=!0:void 0},r=function(){return t.loadingData=!0,e.likesForVotable(t.votable.id,s.votableType).then(function(e){return t.likes=e.data,t.currentPage=1,t.totalLikes=e.total_count,t.loadingData=!1})},t.loadMoreLikes=function(){return t.loadingData=!0,t.currentPage+=1,e.likesForVotable(t.votable.id,s.votableType,{page:t.currentPage}).then(function(e){return t.likes=t.likes.concat(e.data),t.loadingData=!1})},t.hasMoreLikes=function(){return t.likes&&t.likes.length<t.totalLikes},t.showLikesModal=function(){r(),a.modal()},t.fewLikesCount=3,t.currentUser=n,t.allowViewingAdditionalData=!1,s.votableType,a=$(i).find(".likes-modal"),t.allowViewingAdditionalData?a.appendTo($("body")):a.remove(),t.$watch("votable",function(e){return e?o():void 0}),t.$watch("hideLikesList",function(e){return e?o():void 0}),t.$on("$locationChangeStart",function(){return a.modal("hide"),a.remove(),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()})}}}])}.call(this),function(){app.directive("asPluralize",["SmartPlurals","$filter",function(e,t){return{templateUrl:"community/directives/as_pluralize.html",restrict:"E",scope:{count:"="},link:function(i,n,s){var a,r;return r=e.getRule(window.locale),a=I18n.t(s.dict),i.$watch("count",function(e){return i.textCount=e||0,i.textValue=r(i.textCount,a),i.textCount=i.textCount>=1e7?Math.floor(i.textCount/1e6)+"m+":t("number")(i.textCount)})}}}])}.call(this),function(){app.directive("asPoll",["$timeout","BetaAnswersRepository",function(e,t){return{templateUrl:"community/directives/as_poll.html",restrict:"E",scope:{subject:"@"},link:function(e){return e.betaAnswer={reaction:""},e.showPoll=!1,e.dafaLoaded=!1,e.errors={},t.index({subject:e.subject}).then(function(t){return e.showPoll="not_voted"===t.status,e.dafaLoaded=!0}),e.saveAnswer=function(){var i;return i={reaction:e.betaAnswer.reaction,comment:e.betaAnswer.comment,subject:e.subject},t.create(i).then(function(){return e.showPoll=!1,Flash.notice("Thank you for the feedback.")},function(t){return e.errors=t.data.errors})}}}}])}.call(this),function(){app.directive("asResourceActions",["ProjectsRepository","TopRowItemsRepository","$rootScope","UserBlocksRepository",function(e,t,i,n){return{templateUrl:"community/directives/as_resource_actions-"+window.locale+".html",restrict:"A",scope:{target:"="},link:function(s,a,r){var o,l;return s.buttonShown=!1,s.dropdownShown=!1,s.allowMarkAsEditorsPick=!1,s.allowMarkAsMatureContent=!1,s.allowMarkAsSuppressed=!1,s.allowAddToTopRow=!1,s.is_moderator=_.include(window.user_permissions,"admin")||_.include(window.user_permissions,"moderator"),l=r.targetType,o=null,s.showRemoveLinks=function(){return r.projectUserId&&"comment"===l&&parseInt(r.projectUserId)===window.user_id},s.is_moderator&&(s.allowMarkAsEditorsPick="artwork"===l),s.is_moderator&&(s.allowMarkAsMatureContent="artwork"===l),s.is_moderator&&(s.allowMarkAsSuppressed="artwork"===l),s.is_moderator&&(s.allowAddToTopRow="artwork"===l),s.reportAbuse=function(){var e;if(!o)return!1;switch(l){case"artwork":e="Project";break;case"comment":e="Comment";break;case"user":e="User"}return i.$broadcast("artstationAbuseReport:new",{reportable_type:e,reportable_id:o.id}),s.dropdownShown=!1},s.blockUser=function(){var e;return o?(e="user"===l?o:o.user,i.$broadcast("artstationBlockUser:new",{blocked_user_id:e.id,username:e.full_name})):!1},s.unblockUser=function(){var e;return o?(e="user"===l?o:o.user,n.unblockUser(e.id).then(function(){return Flash.notice(window.defaultSanitizer.unescapeHTML(e.full_name)+" was successfully unblocked."),i.$broadcast("user.unblocked",{id:e.id})},function(){return alert("Error: "+error.statusText+". Please contact support@artstation.com.")})):!1},s.isBlocked=function(){var e;return o?(e="user"===l?o:o.user,n.isBlocked(e.id)):!1},s.toggleEditorPick=function(){var t;return o?"artwork"!==l?!1:o.is_locked?!1:(o.is_locked=!0,t={editor_pick:!o.editor_pick,id:o.id},e.update(t).then(function(e){return o.editor_pick=e.editor_pick,s.dropdownShown=!1,Flash.notice(e.editor_pick?'Awarded "Editor\'s Pick"':'Removed "Editor\'s Pick"'),o.is_locked=!1})):!1},s.toggleMatureContent=function(){var t;return o?"artwork"!==l?!1:o.is_locked?!1:(o.is_locked=!0,t={admin_adult_content:!o.admin_adult_content,id:o.id},e.update(t).then(function(e){return o.admin_adult_content=e.admin_adult_content,o.hide_as_adult=e.hide_as_adult,s.dropdownShown=!1,Flash.notice(e.admin_adult_content?"Marked as mature content":"Mature content mark removed"),o.is_locked=!1})):!1},s.toggleSuppression=function(){var t;return o?"artwork"!==l?!1:o.is_locked?!1:(o.is_locked=!0,t={suppressed:!o.suppressed,id:o.id},e.update(t).then(function(e){return o.suppressed=e.suppressed,s.dropdownShown=!1,Flash.notice(e.suppressed?"Marked as suppressed":"Suppressed mark removed"),o.is_locked=!1})):!1},s.removeComment=function(){return o.hidden_by_user=!0,$.ajax({url:"/comments/"+o.id+"/hide/",type:"PATCH"}),s.dropdownShown=!1,s.$emit("artstationComment:remove",o)},s.addToTopRow=function(){return o?"artwork"!==l?!1:o.is_locked?!1:(o.is_locked=!0,t.create({project_id:o.id}).then(function(){return s.dropdownShown=!1,Flash.notice("Added to Top Row"),o.is_locked=!1},function(){return Flash.notice("This project has already been added to top row items")})):!1},s.$watch("target",function(e){return e?(s.buttonShown=!0,o=e):void 0})}}}])}.call(this),function(){app.directive("asSetFocus",function(){return{link:function(e,t){return $(t).trigger("focus")}}})}.call(this),function(){app.directive("artstationStarRating",[function(){return{restrict:"E",templateUrl:"community/directives/as_star_rating.html",scope:{rating:"=",showCount:"="},link:function(e){var t;return t=function(){var t,i,n;return n=Math.round(2*e.rating)/2,t=Math.floor(n),e.fullStars=[],_(t).times(function(t){return e.fullStars.push(t)}),e.halfStar=null!=(i=n%1>0)?i:{"true":!1},e.showCount=!!e.showCount},e.$watch("rating",function(e){return e?t():void 0})}}}])}.call(this),function(){app.directive("asVideoBriefingUpload",["$timeout",function(e){return{templateUrl:"community/directives/as_video_briefing_upload-"+window.locale+".html",replace:!0,restrict:"E",scope:{model:"="},link:function(t,i){var n,s;return n=function(e){var n,s,a,r,o;if(n=$(e),a="https://"+n.val().replace(/(http|https):\/\//,""),r=a.match(/(?:www.){0,1}((?:(?:vimeo|youtube).com)|(?:youtu).be)/i),n.val(a),r&&(s=r[1]),s)switch(s){case"vimeo.com":o="https://vimeo.com/api/oembed.json";break;case"youtube.com":case"youtu.be":o="https://noembed.com/embed";break;default:alert("We support video only from Vimeo & YouTube")}else alert("We support video only from Vimeo & YouTube");return o?$.ajax({url:o,type:"GET",dataType:"jsonp",data:{url:a},success:function(){return function(e){return e.error?alert("Sorry, we can not use this video for embedding"):($(i).find("#video-briefing-preview").html(e.html).fitVids(),t.$apply(function(){return t.model.video_embedded=!0}))}}(this)}):void 0},s=function(){return t.model&&t.model.video_embedded?e(function(){return $("#video-briefing-preview").fitVids()}):void 0},$(i).find("#video-briefing-url").on("paste",function(t){return e(function(){return n(t.target)})}),t.$watch("model.video_embedded",function(){return s()})}}}])}.call(this),function(){app.directive("blockUserModal",["UserBlocksRepository","$rootScope",function(e,t){return{templateUrl:"community/directives/block_user_modal.html",restrict:"E",replace:!0,link:function(i){var n,s,a,r,o,l;return l=!1,s=function(){return function(){return l?(Flash.notice(i.username+" was successfully blocked."),t.$broadcast("user.blocked",{id:i.userId,apply_abuse_report:i.applyAbuseReport}),a(),r()):void 0}}(this),n=function(e){return alert("Error: "+e.statusText+". Please contact support@artstation.com.")},i.submit=function(){return l?void 0:(e.blockUser(i.userId).then(s,n),l=!0)},i.cancel=function(){a()},r=function(){return l=!1,i.userId="",i.username=""},o=function(){return $("#block-user-modal").modal()},a=function(){return $("#block-user-modal").modal("hide")},r(),i.$on("artstationBlockUser:new",function(e,t){return i.userId=t.blocked_user_id,i.username=t.username,i.applyAbuseReport=t.apply_abuse_report,o()})}}}])}.call(this),function(){app.directive("commentItem",["CommentsRepository","VotesRepository",function(e,t){return{templateUrl:function(e,t){return t.commentsTemplate||"community/directives/comment_item.html"},restrict:"E",replace:!1,scope:{comment:"=",project:"="},link:function(i){return i.user_id=window.user_id,i.commentRespondForm={},i.allowCommentRespond=_.include(window.user_permissions,"artist")||_.include(window.user_permissions,"admin"),i.editComment=function(e){return e.editable_text=defaultSanitizer.unescapeHTML(e.text),e.editing=!0},i.deleteComment=function(e){return i.$emit("artstationComment:delete",e)},i.updateComment=function(t){return i.emptyText(t.editable_text)?void 0:e.update(t.commentable_id,{id:t.id,text:t.editable_text}).then(function(e){return t.editable_text=void 0,t.text=e.text,t.text_as_html=e.text_as_html,t.editing=!1})},i.emptyText=function(e){return!e||!$("<div/>").html(e).text()},i.commentRespond=function(t){var n;if(!i.emptyText(t.respond_text))return n=t.parent_id?i.comment:t,e.create(t.commentable_id,{text:t.respond_text,parent_id:n.id}).then(function(e){return e.errors?(e.errors.commentable_id&&(i.commentRespondForm.Form.limitError=e.errors.commentable_id[0]),void i.commentRespondForm.Form.$setValidity("custom",!1)):(t.respond_text=void 0,i.responding=!1,n.child_comments||(n.child_comments=[]),n.child_comments.push(e))})},i.cancelEditingComment=function(e){return e.editable_text=void 0,e.editing=!1},i.cancelCommentRespond=function(){return i.comment.respond_text=void 0,i.responding=!1},i.keyUp=function(e,t){return 27===e.keyCode?i.cancelEditingComment(t):void 0},i.toggleLike=function(e){return e.liked=!e.liked,e.liked?(t.likeComment(e.id),e.likes_count+=1):(t.unlikeComment(e.id),e.likes_count-=1)},i.commentRespondFormOpen=function(){return i.responding=!0}}}}])}.call(this),function(){app.directive("commentsList",["CommentsRepository",function(e){return{templateUrl:function(e,t){return t.commentsTemplate||"community/directives/comments_list-"+window.locale+".html"},restrict:"E",scope:{collection:"=",project:"="},link:function(t){return t.$on("artstationComment:delete",function(i,n){return confirm("Are you sure you want to delete this comment?")?e.destroy(n.commentable_id,n.id).then(function(){var e,i;return n.parent_id?(i=t.collection.find(n.parent_id),e=i.child_comments.indexOf(n),i.child_comments.splice(e,1)):t.collection.del(n.id)}):void 0}),t.$on("artstationComment:remove",function(e,i){var n,s;return i.parent_id?(s=t.collection.find(i.parent_id),n=s.child_comments.indexOf(i),s.child_comments.splice(n,1)):t.collection.del(i.id)})}}}])}.call(this),function(){app.directive("createCollectionModal",["$timeout","$window","$parse","CollectionsRepository",function(e,t,i,n){return{templateUrl:"community/directives/create_collection_modal-"+window.locale+".html",restrict:"E",scope:{collections:"="},link:function(t,s,a){var r,o,l,c;return r=$("#create-collection-modal"),o=$(".modal-backdrop"),c=function(){return r.on("shown.bs.modal",function(){return r.find("input[name=name]").focus()})},l=function(){t.collectionForm.$setPristine(),e(function(){return r.modal("hide"),o.remove()})},t.submit=function(){return n.create(t.collection).then(function(e){return e.errors?_.each(e.errors,function(e){return Flash.notice(e)}):(t.collectionForm.$setPristine(),a.callback&&i(a.callback)(t.$parent)(t.collection),t.collections.push(e),t.collection.name=null,l())})},t.cancel=function(){return l()},c()}}}])}.call(this),function(){app.directive("discussionPost",["$timeout","VotesRepository","DiscussionPostsRepository","$rootScope","$compile","CurrentUser",function(e,t,i,n,s,a){return{templateUrl:"community/directives/discussions/discussion_post-"+window.locale+".html",restrict:"E",scope:{discussionPost:"=",currentUser:"=",disableEdit:"=",disableDelete:"=",disableComment:"=",allowNestedReply:"=",hideLikesList:"=",challenge:"="},link:function(e,r){var o,l,c,d,u,m;return e.toggleLike=function(){return e.discussionPost.liked=!e.discussionPost.liked,e.discussionPost.liked?t.likeDiscussionPost(e.discussionPost.id).then(function(){return e.discussionPost.likes_count+=1}):t.unlikeDiscussionPost(e.discussionPost.id).then(function(){return e.discussionPost.likes_count-=1})},e.reply=function(){return e.discussionPost.parent_id||!e.allowNestedReply?e.$emit("discussionPostForm:show"):m()},e.isHost=function(){var t;return e.challenge?(t=e.challenge.public_hosts.map(function(e){return e.id}),-1!==t.indexOf(e.discussionPost.user.id)):void 0},m=function(){return e.replying=!0},c=function(){return e.replying=!1},e.belongsToCurrentUser=function(){return e.discussionPost.user.id===e.currentUser.id},e.edit=function(){return u()},u=function(){return e.editing=!0},l=function(){return e.editing=!1},e.destroy=function(){return confirm("Are you sure you want to remove this? You cannot undo this!")?i.destroy(e.discussionPost).then(function(){return e.$emit("discussionPost:destroyed",e.discussionPost)}):void 0},d=function(t){var i;return e.discussionPost.replies?(i=_.indexOf(e.discussionPost.replies,t),e.discussionPost.replies.splice(i,1),!0):!1},e.reportAbuse=function(){return n.$broadcast("artstationAbuseReport:new",{reportable_type:"DiscussionPost",reportable_id:e.discussionPost.id})},o=function(){return s('<discussion-post ng-repeat="reply in discussionPost.replies" discussion-post="reply" current-user="currentUser" disable-comment="disableComment"></discussion-post>')(e,function(e){var t;return t=r.find('[data-replies="true"]'),t.append(e)})},e.currentUser=a,e.$watch("discussionPost",function(e){return e&&e.replies&&e.replies.length>0?o():void 0}),e.$on("discussionPostForm:initialized",function(t,i,n){return t.defaultPrevented?void 0:(n.isEdit&&(e.editDiscussionPostFormId=i),n.isReply&&(e.replyToDiscussionPostFormId=i),t.preventDefault())}),e.$on("discussionPostForm:created",function(t,i){return t.defaultPrevented?void 0:(e.discussionPost.replies||(e.discussionPost.replies=[]),e.discussionPost.replies.push(i),1===e.discussionPost.replies.length&&o(),t.preventDefault())}),e.$on("discussionPostForm:updated",function(t,i){return t.defaultPrevented?void 0:(e.discussionPost=i,l(),t.preventDefault())}),e.$on("discussionPostForm:destroyed",function(e,t){return e.defaultPrevented?void 0:(t.isReply&&c(),t.isEdit&&l(),e.preventDefault())}),e.$on("discussionPostForm:show",function(t){return!e.allowNestedReply||e.discussionPost.parent_id||t.defaultPrevented?void 0:(m(),t.preventDefault())}),e.$on("discussionPost:destroyed",function(e,t){return e.defaultPrevented?void 0:d(t)?e.preventDefault():void 0})}}}])}.call(this),function(){app.directive("discussionPostForm",["$timeout","DiscussionPostsRepository","$rootScope","CurrentUser","FroalaOptions",function(e,t,i,n,s){return{templateUrl:"community/directives/discussions/discussion_post_form-"+window.locale+".html",restrict:"E",scope:{discussionPost:"=",parentId:"="},link:function(i,a,r){var o,l,c,d,u,m,p,g,f;return p=function(){return i.currentUser=n,i.froalaOptions=s["default"],i.discussionPost?(i.isEdit=!0,t.read(i.discussionPost.id).then(function(e){return i.discussionPost.body=e.body_preview_html,g()})):i.parentId?(i.isReply=!0,i.discussionPost={parent_id:i.parentId,body:""},g()):(i.isNew=!0,i.discussionPost={discussable_id:r.discussableId,discussable_type:r.discussableType,body:""},g())},g=function(){return i.originalBody=i.discussionPost.body.valueOf(),i.$emit("discussionPostForm:initialized",i.$id,l()),f()},d=function(e){return i.discussionPost=e,i.$emit("discussionPostForm:created",e),o(),i.submittingForm=!1},c=function(e){var t,n,s,a,r;if(_.has(e.data.errors,"body")){for(n="",r=e.data.errors.body,s=0,a=r.length;a>s;s++)t=r[s],n+="This "+t+".<br />";i.$broadcast("richMediaEditor:setError",i.richMediaEditorId,n)}else alert("Error: "+e.statusText+". Please contact support@artstation.com.");return i.submittingForm=!1},m=function(e){return i.discussionPost=e,i.$emit("discussionPostForm:updated",e),o(),i.submittingForm=!1},u=function(e){return c(e)},i.submitForm=function(){var e;return i.submittingForm=!0,i.isEdit?(e={id:i.discussionPost.id,body:i.discussionPost.body},t.update(e).then(m,u)):t.create(i.discussionPost).then(d,c)},i.cancel=function(){return i.discussionPost.body=i.originalBody,o()},l=function(){return{isNew:i.isNew,isEdit:i.isEdit,isReply:i.isReply}},o=function(){return i.$emit("discussionPostForm:destroyed",l())},f=function(){return e(function(){return $.scrollTo(a,500,{offset:-200})})},p(),i.$on("discussionPostForm:destroy",function(e,t){return e.defaultPrevented||t!==i.$id?void 0:(o(),e.preventDefault())})}}}])}.call(this),function(){app.directive("editCollectionModal",["$timeout","$window","$parse","CollectionsRepository",function(e,t,i,n){return{templateUrl:"community/directives/edit_collection_modal-"+window.locale+".html",restrict:"E",scope:{collection:"="},link:function(t,s,a){var r,o,l,c,d;return r=$("#edit-collection-modal"),o=$(".modal-backdrop"),c=function(){return d(t.collection)},d=function(e){return t.originalCollection=_(e).clone()},l=function(){return t.collectionForm.$setPristine(),e(function(){return r.modal("hide"),o.remove()})},t.submit=function(){return n.update(t.collection).then(function(e){return e.errors?_.each(e.errors,function(e){return Flash.notice(e)}):(l(),a.callback?i(a.callback)(t.$parent)(t.collection):void 0)})},t.cancel=function(){t.collection=_(t.originalCollection).clone(),l()},t.$watch("collection",function(e){return e?c():void 0})}}}])}.call(this),function(){app.directive("embedCopyButton",["$location",function(){return{templateUrl:"community/directives/embed_copy_button-"+window.locale+".html",restrict:"E",scope:{html:"="},link:function(e,t){var i,n;return i=$(t).find(".embed-modal"),n=new ZeroClipboard($(t).find(".copy-button")),n.on("copy",function(e){var i,n;return n=$(t).find(".copy-text").val(),i=e.clipboardData,i.setData("text/plain",n)}),e.showEmbedModal=function(){i.modal()},e.$on("$locationChangeStart",function(){return i.modal("hide"),i.remove(),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()})}}}])}.call(this),function(){app.directive("featuredJobs",["JobsResource",function(e){return{templateUrl:"community/directives/featured_jobs-"+window.locale+".html",restrict:"E",link:function(t){return e.index({limit:9,featured:!0,randomize:!0}).$promise.then(function(e){return t.featuredJobs=e})}}}])}.call(this),function(){app.directive("featuredMagazineArticles",["TopRowItemsResource",function(e){return{templateUrl:"community/directives/featured_magazine_articles-"+window.locale+".html",restrict:"E",link:function(t){return e.index({magazine:!0,limit:6}).$promise.then(function(e){return t.featuredMagazineArticles=e})}}}])}.call(this),function(){app.directive("artstationFitvids",function(){return{link:function(e,t){return e.$watch("asset.player_embedded",function(e){return e?t.fitVids({customSelector:"iframe"}):void 0})}}})}.call(this),function(){app.directive("followButton",["UsersRepository","CurrentUser",function(e,t){return{templateUrl:function(e,t){return t.followTemplate?"community/directives/"+t.followTemplate+"-"+window.locale+".html":"community/directives/follow_button-"+window.locale+".html"},restrict:"E",scope:{user:"=",followCallback:"&"},link:function(i,n,s){return i.errorHandler=function(e){return Flash.error((e.statusText="Unauthorized")?"Your session has been expired. Please refresh the page to update the session":I18n.t("error_pages.error_400_description"))},i.toggleFollow=function(){return i.user.followed?e.unfollow(i.user.id).then(function(){return i.user.followed=!1,i.$emit("unfollowed_user")},i.errorHandler):e.follow(i.user.id).then(function(){return i.user.followed=!0,i.$emit("followed_user"),i.followCallback?i.followCallback():void 0},i.errorHandler)},i.currentUser=t,i["class"]=s["class"]||"",s.bindKeyboard?$(document).on("keydown",function(e){var t;return t=e.target.type,"textarea"===t||"search"===t||"text"===t||$(e.target).hasClass("wysihtml-input")||70!==e.keyCode||e.ctrlKey||e.metaKey||i.user.followed?void 0:i.toggleFollow()}):void 0}}}])}.call(this),function(){app.directive("loadingSpinner",[function(){return{templateUrl:"community/directives/loading_spinner.html",restrict:"E",replace:!0}}])}.call(this),function(){app.directive("artstationModalHref",function(){return function(e,t,i){return t.attr("href",i.artstationModalHref),t.on("click",function(e){return e.metaKey||2===e.which?void 0:$(".modal").modal("hide")})}})}.call(this),function(){app.directive("artstationMosaic",[function(){return{restrict:"E",templateUrl:"community/directives/mosaic-"+window.locale+".html",scope:{collection:"="},link:function(e,t){var i;return i=[{minWidth:0,width:3,height:40,largeObjects:0,mediumObjects:0},{minWidth:768,width:4,height:30,largeObjects:0,mediumObjects:4},{minWidth:992,width:8,height:15,largeObjects:1,mediumObjects:4},{minWidth:1024,width:10,height:12,largeObjects:1,mediumObjects:4},{minWidth:1440,width:12,height:10,largeObjects:1,mediumObjects:4},{minWidth:1680,width:14,height:8,largeObjects:1,mediumObjects:4},{minWidth:1920,width:16,height:7,largeObjects:2,mediumObjects:4}],e.enoughItems=!0,e.$watchCollection("collection",function(n){var s,a,r;return(null!=n?n.items.length:void 0)>=120?(e.enoughItems=!0,s=t.find(".mosaic"),s.mosaicify("destroy"),r=s.mosaicify({responsive:!0,seed:n.seed,breakpoints:i,resize:function(e,t){return e.css(t)}}),a=s.children(".project").toArray().map($),r.add(a),r.resize()):e.enoughItems=!1}),e.resetFilters=function(){return e.$emit("resetFilters")},e.$on("$destroy",function(){return t.mosaicify("destroy")})}}}])}.call(this),function(){app.directive("ngAuthorizedArtistClick",["CurrentUser",function(e){return{restrict:"A",scope:{eventHandler:"&ngAuthorizedArtistClick"},link:function(t,i){return i.unbind("click"),i.on("click",function(){return e?e.isArtist()||e.isAdmin()||e.isChallengeHost()?t.$apply(function(){return t.eventHandler()}):$("#artist-permission-required-modal").modal("show"):$("#login-modal").modal("show")})}}}])}.call(this),function(){app.directive("ngAuthorizedClick",["CurrentUser",function(e){return{restrict:"A",scope:{eventHandler:"&ngAuthorizedClick"},link:function(t,i){return i.unbind("click"),i.on("click",function(){return e?t.$apply(function(){return t.eventHandler()}):$("#login-modal").modal("show")})}}}])}.call(this),function(){app.directive("artstationOpenFeedProject",["projectNavigator","FeedProjectFinder","$rootScope","$parse",function(e,t,i){return{link:function(n,s,a){return $(s).on("click",function(s){return 2===s.which||s.metaKey?void 0:s.ctrlKey&&-1!==window.navigator.userAgent.indexOf("Windows")?void 0:(i.$apply(function(){return e.openProject(a.artstationOpenFeedProject,!0,n.feedsCollection,t)}),!1)})}}}])}.call(this),function(){app.directive("artstationOpenProject",["projectNavigator","$rootScope",function(e,t){return{link:function(i,n,s){return $(n).on("click",function(n){return 2===n.which||n.metaKey||n.ctrlKey&&-1!==window.navigator.userAgent.indexOf("Windows")?void 0:s.resetCollection?(e.collection=null,void e.reset()):(t.$apply(function(){return e.openProject(s.artstationOpenProject,!0,i.collection)}),!1)})}}}])}.call(this),function(){app.directive("projectAssets",["$timeout","$window",function(e){return{templateUrl:"community/directives/project_assets-"+window.locale+".html",restrict:"E",scope:{collection:"="},link:function(t,i){var n,s,a,r,o,l,c,d,u,m,p,g,f,h;return t.visibleCollection=function(){return _.filter(t.collection,function(e){return e.has_image||e.has_embedded_player})},u=function(){return ResponsiveHelper.desktopAndAbove()},a=function(){return $(window).height()-$("#main-nav").height()
},l=function(){return $("aside.artwork-info-container").width()},o=function(){return u()?$(window).width()-l():$(window).width()},r=function(e){var t,i,n,s,a;return e.has_embedded_player&&!_.isEmpty(e.oembed)?(a=e.oembed.width||e.width,t=e.oembed.height||e.height):(a=e.width,t=e.height),i=a/t,s=o(),s>a&&!e.has_embedded_player&&(s=a),n=s/i,{width:s,height:n}},c=function(){var e,i,n,s,a,o;for(o=0,s=t.visibleCollection(),e=0,n=s.length;n>e;e++)i=s[e],a=r(i),o+=a.height;return o},h=function(i,n){var s,r,o,l;return r=t.visibleCollection().length,s=a(),l=$(i).data("viewport-constraint-type"),u()?"constrained"!==l?1===r&&n.height<s?(o=(s-n.height)/2,$(i).css("padding-top",o)):$(i).css("padding-top",0).css("max-height","auto"):(1===r&&(n.height<s?(o=(s-n.height)/2,$(i).css("padding-top",o)):e(function(){var e;return e=$(i).find(".caption").outerHeight(),e>25&&(e=25),$(i).find("img").css("max-height",s-e)})),r>1?e(function(){return $(i).find("img").css("max-height",.95*s)}):void 0):$(i).css("padding-top",0)},f=function(i,n){var r,l,c;return l=t.visibleCollection().length,r=a(),u()&&1===l&&r>n.height?(c=(r-n.height)/2,$(i).css("padding-top",c)):$(i).css("padding-top",0),e(function(){var e,t,a,c;return c=o()-90,t=$(i).find(".caption").outerHeight(),a=l>1?.875*r-t:r-t,e=s(n.width,n.height,c,a),$(i).find("iframe").attr("width",e.width),$(i).find("iframe").attr("height",e.height)})},s=function(e,t,i,n){var s,a,r,o;return s=e/t,a=i/n,a>s?(r=n,o=r*s):(o=i,r=o/s),{width:o,height:r}},g=function(){var e;return e=$(i).find(".artwork"),_.each(t.visibleCollection(),function(t){var i,n;return i=e.filter("[data-id='"+t.id+"']"),n=r(t),t.has_embedded_player?f(i,n):h(i,n)}),p(),m()},p=function(){var e,t;return u()?(e=a(),t=c(),e>t?$(".artwork-container").css("height",e):$(".artwork-container").css("height","auto")):$(".artwork-container").css("height","auto")},m=function(){var e,t,i,n,s;return u()?$(".arrow").css("margin-top",""):(n=c(),s=$(window).height(),t=$("#main-nav").height(),e=$(".arrow").height(),i=n>s?s/2-t-e/2:(n-e)/2,$(".arrow").css("margin-top",i))},d=function(){return e(function(){return g()})},$(window).on("resize.as-artwork",d.throttle(20,50)),t.$on("$destroy",function(){return $(window).off("resize.as-artwork")}),n=function(){var e,i,n,s,r,o;if(u())return r=c(),i=a(),s=$(window).scrollTop(),t.visibleCollection().length>1&&r>i?(e=$(".more-down-indicator"),n=1e3,o="translate(0,0)",e.css("display","block").css("-webkit-transform",o).css("-ms-transform",o).css("transform",o),$(document).on("scroll",function(){return e.is(":visible")?e.hide():void 0}),t.$on("$destroy",function(){return $(document).off("scroll")})):void 0},t.$watch("collection",function(t){return t?e(function(){return g(),n()}):void 0})}}}])}.call(this),function(){app.directive("projectsList",["$parse","PaginatedCollection","ProjectsFilters","FiltersRepository","ProjectsRepository","projectNavigator","$timeout","$route",function(e,t,i,n,s,a,r){return{templateUrl:"community/directives/projects_list-"+window.locale+".html",restrict:"E",link:function(o,l,c){var d,u,m,p,g,f,h,v;return o.shouldShowMosaic=function(){var e;return e=c.mosaic,e&&!o.filters.filters.sorting},o.shouldShowTwitchStreams=function(){return o.filters.isCurrent("sorting","streams")},f=function(){return a.rootScroll?r(function(){return $(document).scrollTop(a.rootScroll),a.reset()}):void 0},p=function(){var e;return e=$.extend(m(o)(),o.filters.getAll()),e.randomize=e.sorting?void 0:!0,e.album_id=o.album_id,e},h=function(e){return null==e&&(e=null),o.collection?(null===e&&(e=p()),o.collection.setFetcherOptions(e)):void 0},v=function(e){return null==e&&(e=null),o.showLoadingIcon?void 0:(o.showLoadingIcon=!0,h(e),o.collection.resetPage(),o.collection.fetchAndUpdate().then(function(){return o.showLoadingIcon=!1}))},o.resetFilters=function(){return o.setFilter("medium","default",u,!1),o.setFilter("category","default",d,!1),o.setAssetFilter("marmoset",!1,!1),o.setAssetFilter("sketchfab",!1,!1),o.setAssetFilter("video",!1,!1),o.setAssetFilter("pano",!1,!1),v()},o.reload=function(){return o.showLoadingIcon?void 0:(o.showLoadingIcon=!0,o.collection.replaceItemsCounter=!1,o.collection.isEnough()?(o.collection.resetPage(),o.collection.fetchAndUpdate().then(function(){return o.collection.seed=Math.floor(100*Math.random()),o.showLoadingIcon=!1})):o.collection.fetchAndReplace().then(function(){return o.collection.seed=Math.floor(100*Math.random()),o.showLoadingIcon=!1}))},o.setFilter=function(e,t,i,n){var s;return null==n&&(n=!0),s=$(l).find("[data-filter='"+e+"'] [data-value='"+t+"']"),s.closest("li").addClass("active").siblings().removeClass("active"),o.filters.set(e,t),i&&(o.dropdowns[e].title=i),n?v():void 0},o.setAssetFilter=function(e,t,i){switch(null==i&&(i=!0),e){case"marmoset":o.assetFilters.marmoset=t;break;case"sketchfab":o.assetFilters.sketchfab=t;break;case"video":o.assetFilters.video=t;break;case"pano":o.assetFilters.pano=t}return o.filters.set(e,t),i?v():void 0},o.loadMore=function(){return o.showLoadingIcon||o.collection.isEnough()?void 0:(o.showLoadingIcon=!0,o.collection.fetchAndAppend().then(function(){return o.showLoadingIcon=!1}))},g=function(e,t){var i,n,s,a;for(a=o.filterOptions[e],n=0,s=a.length;s>n;n++)if(i=a[n],i.uri===t)return i.name;return o.filterOptions[e].shift().name},m=e(c.fetcherOptionsWith),o.filters=new i(c.withNavigation),o.withNavigation=c.withNavigation,o.small=c.small,o.user_show_adult=window.user_show_adult,o.user_logged_in=!!window.user_id,o.assetFilters={marmoset:!!o.filters.filters.marmoset,sketchfab:!!o.filters.filters.sketchfab,video:!!o.filters.filters.video,pano:!!o.filters.filters.pano},!o.user_logged_in&&o.filters.isCurrent("sorting","following")&&o.filters.set("sorting","trending"),u="All Media",d="All Subject Matter",o.dropdowns={medium:{visible:!1,title:u},category:{visible:!1,title:d}},a.isSavedCollection(c.fetcherMethod,p())?(o.collection=a.collection,f()):(o.collection=new t,o.collection.setFetcherMethod(c.fetcherMethod),o.collection.setFetcherRepository(s),o.collection.seed=Math.floor(100*Math.random()),v()),n.readAll().then(function(e){return o.filterOptions=e,o.filters.filters.category&&(o.dropdowns.category.title=g("category",o.filters.filters.category)),o.filters.filters.medium?o.dropdowns.medium.title=g("medium",o.filters.filters.medium):void 0}),o.$on("resetFilters",function(){return o.resetFilters()})}}}])}.call(this),function(){app.directive("recommendedProjectsCarousel",["$timeout",function(){return{templateUrl:"community/directives/recommended_projects_carousel-"+window.locale+".html",restrict:"E",scope:{projects:"=",hideClose:"=",hideTitle:"=",recommendedClass:"@"},link:function(e,t){var i,n;return e.elementCount=3,e.currentPos=0,i=t.find(".similar-project-list"),n=function(){return angular.forEach(e.projects,function(t,i){return t.visible=i<e.elementCount})},e.$watch("projects.length",function(t){return t?n(e.projects):void 0})}}}])}.call(this),function(){app.directive("recommendedUsers",["$timeout",function(){return{templateUrl:"community/directives/recommended_users-"+window.locale+".html",restrict:"E",scope:{users:"=",onClose:"&"},link:function(e){return e.close=function(){return e.onClose(),e.users=[]}}}}])}.call(this),function(){app.directive("artstationScroll",["$timeout",function(){return{link:function(e,t){var i,n;return i=function(){var e;return e=$(window).width(),992>e?void($(t).data("scrollbar")&&($(t).perfectScrollbar("destroy"),$(t).data("scrollbar",!1))):$(t).data("scrollbar")?$(t).perfectScrollbar("update"):($(t).perfectScrollbar({suppressScrollX:!0,includePadding:!0}),$(t).data("scrollbar",!0))},e.$on("$viewContentLoaded",function(){return i()}),e.$on("updateScrollBar",function(){return i()}),n=function(){return i()},$(window).on("resize.as-scroll",n.throttle(100,200)),e.$on("$destroy",function(){return $(window).off("resize.as-scroll")})}}}])}.call(this),function(){app.directive("artstationSelect2",["$timeout",function(){return{link:function(e,t){return $(t).select2({width:"100%"})}}}])}.call(this),function(){app.directive("showLoginModalIfNotSignedIn",["CurrentUser",function(e){return{restrict:"A",link:function(t,i){var n;return n=$("#login-modal"),$(i).on("click",function(){return e||(n.modal("show"),setTimeout(function(){return function(){return n.find('input[type="email"]').focus()}}(this),500)),!0}),$(document).on("keydown",function(e){return 27===e.keyCode?n.modal("hide"):void 0}),t.$on("$destroy",function(){return $(document).off("keydown")})}}}])}.call(this),function(){app.directive("supportArtstationPlease",["CampaignPrioritiesRepository","CurrentUser","$sce",function(e,t,i){return{restrict:"E",templateUrl:"community/directives/support_artstation_please-"+window.locale+".html",link:function(n,s,a){var r,o;return n.size=a.assetSize,n.takeover=a.takeover,n.currentUser=t,e.readNext(n.size,n.takeover).then(function(e){return e.campaign_asset?(n.showAsset=!0,n.assetUrl=encodeURIComponent(e.campaign_asset.url),n.assetImage=e.campaign_asset.image_url,n.assetId=e.campaign_asset.id,n.width=e.campaign_asset.width,n.height=e.campaign_asset.height,n.impressionTrackingTag=i.trustAsHtml(e.campaign_asset.impression_tracking_tag),n.assetType=e.campaign_asset.asset_type,n.embedHtml=i.trustAsHtml(e.campaign_asset.embed_html)):(n.showAsset=!1,n.assetUrl=null,n.assetImage=null,n.assetId=null)}),r=function(){var e;return e=$(window).width(),n.responsiveWideEnough=e>768},o=_.debounce(r,100),$(window).resize(o),r()}}}])}.call(this),function(){app.directive("artstationTextareaOnReturn",["$parse",function(e){return{restrict:"A",link:function(t,i,n){var s;return s=n.artstationTextareaOnReturn?e(n.artstationTextareaOnReturn):angular.noop,i.on("keydown",function(e){return 13!==e.keyCode||e.shiftKey?void 0:s(t)})}}}])}.call(this),function(){app.directive("twitchStreams",["TwitchStreamsRepository","PaginatedCollection",function(e,t){return{restrict:"E",templateUrl:"community/directives/twitch_streams-"+window.locale+".html",link:function(i){var n;return i.streamsLoading=!1,i.streams=new t,i.streams.setFetcherMethod("readAll"),i.streams.setFetcherRepository(e),n=function(){return i.streamsLoading=!0,i.streams.fetchAndUpdate().then(function(){return i.streamsLoading=!1})},i.loadMore=function(){return i.streamsLoading||i.streams.isEnough()?void 0:(i.streamsLoading=!0,i.streams.fetchAndAppend().then(function(){return i.streamsLoading=!1}))},n()}}}])}.call(this),function(){app.directive("unescaped",["$filter",function(e){return{restrict:"A",require:"ngModel",link:function(t,i,n,s){return s.$formatters.push(function(t){return e("unescapeHTML")(t).toString()})}}}])}.call(this),function(){app.directive("userAlbumTitle",["AlbumsRepository",function(e){return{templateUrl:"community/directives/users/user_album_title-"+window.locale+".html",restrict:"E",scope:{user:"=",albumId:"="},link:function(t){var i;return i=function(i){return"all"===i?t.album={title:"All"}:e.read(i).then(function(e){return t.album=e})},t.$watch("albumId",function(e){return e?i(e):void 0})}}}])}.call(this),function(){app.directive("userAlbums",["AlbumsRepository","CurrentUser",function(e,t){return{templateUrl:"community/directives/users/user_albums-"+window.locale+".html",restrict:"E",scope:{user:"=",albumId:"="},link:function(i){var n;return n=function(t){return i.showLoadingIcon=!0,e.readAll(t).then(function(e){return _.each(e,function(e){return 1===e.album_type?e.id="all":void 0}),i.albums=e,i.showLoadingIcon=!1})},i.currentUser=t,i.$watch("user",function(e){return e?n(e.id):void 0}),i.$on("reloadUserAlbums",function(){return i.user?n(i.user.id):void 0})}}}])}.call(this),function(){app.directive("userCard",[function(){return{templateUrl:"community/directives/users/user_card-"+window.locale+".html",restrict:"E",scope:{user:"="},link:function(){}}}])}.call(this),function(){app.directive("userFollowers",["PaginatedCollection","UsersRepository","$timeout","$rootScope","$routeParams",function(e,t,i,n,s){return{templateUrl:"community/directives/users/user_followers-"+window.locale+".html",restrict:"E",link:function(i){var n;return n=function(){return i.showLoadingIcon=!0,i.collection.fetchAndUpdate().then(function(){return i.showLoadingIcon=!1})},i.loadMore=function(){return i.showLoadingIcon||i.collection.isEnough()?void 0:(i.showLoadingIcon=!0,i.collection.fetchAndAppend().then(function(){return i.showLoadingIcon=!1}))},i.collection=new e,i.collection.setFetcherRepository(t),i.collection.setFetcherMethod("readFollowers"),i.collection.setFetcherOptions({username:s.username}),n()}}}])}.call(this),function(){app.directive("userFollowing",["PaginatedCollection","UsersRepository","$timeout","$rootScope","$routeParams",function(e,t,i,n,s){return{templateUrl:"community/directives/users/user_following-"+window.locale+".html",restrict:"E",link:function(i){var n;return n=function(){return i.showLoadingIcon=!0,i.collection.fetchAndUpdate().then(function(){return i.showLoadingIcon=!1})},i.loadMore=function(){return i.showLoadingIcon||i.collection.isEnough()?void 0:(i.showLoadingIcon=!0,i.collection.fetchAndAppend().then(function(){return i.showLoadingIcon=!1}))},i.collection=new e,i.collection.setFetcherRepository(t),i.collection.setFetcherMethod("readFollowing"),i.collection.setFetcherOptions({username:s.username}),n()}}}])}.call(this),function(){app.directive("userHeader",["$timeout","CurrentUser","CoverResource",function(e,t,i){return{templateUrl:"community/directives/users/user_header-"+window.locale+".html",restrict:"E",scope:{user:"="},link:function(e){var n,s,a,r;return n=function(){var t,i;return t=$("#upload-cover"),e.coverUploadingInProcess=!1,i=!1,t.fileupload({autoUpload:!0,dataType:"json",url:"/account/cover",singleFileUploads:!0,add:function(){return function(e,t){var i;return i=!1,$.each(t.files,function(){var e;return/\.(jpg|jpeg|png)$/i.test(this.name)||(i="Please upload image in .png or .jpg format"),this.size>10485760&&(i="Please upload a smaller image, max size is 10Mb"),i?(e=t.files.indexOf(this),t.files.splice(e,1)):void 0}),i&&alert(i),t.files.length?t.submit():void 0}}(this),send:function(){return function(){return e.coverUploadingInProcess=!0,t.fileupload("disable"),e.$digest()}}(this),done:function(){return function(t,i){var n;return null!=i.result.errors?(n=_.map(i.result.errors.cover,function(e){return"Cover "+e}),Flash.error(n.join("\n"))):(e.user.default_cover_url=i.result.default_cover_url,e.user.cover_file_name=i.result.cover_file_name,e.user.cover_width=i.result.cover_width,e.user.cover_height=i.result.cover_height,r(),Waypoint.refreshAll())}}(this),always:function(){return function(){return e.coverUploadingInProcess=!1,t.fileupload("enable"),e.$digest()}}(this)})},e.deleteCover=function(){return i.destroy().$promise.then(function(t){return e.user.default_cover_url=t.default_cover_url,e.user.cover_file_name=t.cover_file_name,e.user.cover_width=null,e.user.cover_height=null,a(),Waypoint.refreshAll()})},a=function(){return $(".artist-masthead").css("height","")},r=function(){var t,i,n;return n=$(window).width(),n>=992?(e.user&&e.user.cover_width&&(t=e.user.cover_width/e.user.cover_height),i=t?n/t:340,$(".artist-masthead").css("height",i+"px")):$(".artist-masthead").css("height","auto")},s=function(){return r(),$(window).resize(r),n()},e.currentUser=t,e.$watch("user",function(e){return e?s():void 0})}}}])}.call(this),function(){app.directive("userMessageModal",["CurrentUser","MessagesRepository","MessagingSettingsRepository",function(e,t,i){return{templateUrl:"community/directives/users/user_message_modal-"+window.locale+".html",restrict:"E",scope:{user:"="},link:function(n){var s,a,r,o,l;return o=function(){return window.api.messaging.enabled&&e&&(n.currentUser.id===n.user.id?i.read().then(function(e){return n.previewMode=!0,n.disableGeneral="business"===e.enabled_conversation_types,n.introText=e.intro_text}):t.permissions(n.user.id).then(function(e){return n.lastConversationId||(n.lastConversationId=e.last_conversation_id),n.disableGeneral="business"===e.enabled_conversation_types,n.introText=e.intro_text})),n.conversationType="business",n.messageBody="",n.disableSubmit=!1},a=function(e){return n.disableSubmit=!1,n.messageBody="",n.lastConversationId=e.conversation_id,Flash.notice("Sent message to "+n.user.full_name+"!"),r()},s=function(e){var t;return t="Artist restricted ability to send him messages.",e.data&&e.data.message&&(t=e.data.message),Flash.error("Message was not delivered. "+t),r(),n.disableSubmit=!1},n.submit=function(){return n.previewMode?void 0:(n.disableSubmit=!0,t.create(n.user.id,n.messageBody,n.conversationType).then(a)["catch"](s))},l=function(){return $("#user-message-modal").modal({backdrop:"static"}),setTimeout(function(){return function(){return $("#user-message-modal textarea").focus()}}(this),500)},r=function(){return function(){return $("#user-message-modal").modal("hide")}}(this),$("#user-message-modal").on("hidden.bs.modal",function(){return n.messageBody=""}),n.currentUser=e,n.$watch("user",function(e){return e?o():void 0}),n.$on("userMessageModal:new",function(){return l()}),n.$on("$locationChangeStart",function(e){var t;return n.messageBody&&n.messageBody.length>0&&(t=confirm("Do you want to leave this page? Your message will not be saved."),!t)?e.preventDefault():void 0}),$(document).on("keydown",function(e){return 27===e.keyCode?r():void 0}),n.$on("$destroy",function(){return $(document).off("keydown")}),window.onbeforeunload=function(){return function(){return n.messageBody&&n.messageBody.length>0?"Do you want to leave this page? Your message will not be saved.":void 0}}(this)}}}])}.call(this),function(){app.directive("userPortfolioDisplayOptions",["UsersRepository","$timeout","$rootScope",function(e,t,i){return{templateUrl:"community/directives/users/user_portfolio_display_options-"+window.locale+".html",restrict:"E",scope:{user:"="},link:function(n){var s,a,r,o;return n.setDisplayAsAlbums=function(e){return n.account.display_portfolio_as_albums=e},n.showModal=function(){$("#portfolio-display-options-modal").modal()},s=function(){$("#portfolio-display-options-modal").modal("hide"),$("#modal-backdrop").remove()},n.submit=function(){var i;return i={username:n.user.username,account:n.account},e.update(i).then(function(e){return n.user.display_portfolio_as_albums=e.display_portfolio_as_albums,n.user.show_all_projects_album=e.show_all_projects_album,n.user.portfolio_display_settings_attributes=e.portfolio_display_settings,r(n.user.username),t(function(){return s(),n.user.portfolio_display_settings_attributes&&window.location.reload(),n.user.display_portfolio_as_albums?o():void 0})})},o=function(){return i.$broadcast("reloadUserAlbums")},r=function(t){return e.expireQuickCache(t)},a=function(t){return e.read(t.username).then(function(e){return n.account={display_portfolio_as_albums:e.display_portfolio_as_albums,show_all_projects_album:e.show_all_projects_album,portfolio_display_settings_attributes:e.portfolio_display_settings}})},n.$watch("user",function(e){return e?a(e):void 0})}}}])}.call(this),function(){app.directive("userProjects",["PaginatedCollection","ProjectsRepository","CurrentUser","projectNavigator","$timeout",function(e,t,i,n,s){return{templateUrl:"community/directives/users/user_projects-"+window.locale+".html",restrict:"E",scope:{user:"=",albumId:"=",smallThumbs:"=",fetcherMethod:"@"},link:function(a){var r,o,l,c;return o=function(){return n.isSavedCollection(a.fetcherMethod,r())?(a.collection=n.collection,l()):(a.collection=new e,a.collection.setFetcherMethod(a.fetcherMethod),a.collection.setFetcherRepository(t),a.collection.setFetcherOptions(r()),a.collection.seed=Math.floor(100*Math.random()),c())},r=function(){return{username:a.user.username,album_id:a.albumId}},c=function(){return a.showLoadingIcon?void 0:(a.showLoadingIcon=!0,a.collection.resetPage(),a.collection.fetchAndUpdate().then(function(){return a.showLoadingIcon=!1}))},a.loadMore=function(){return a.showLoadingIcon||a.collection.isEnough()?void 0:(a.showLoadingIcon=!0,a.collection.fetchAndAppend().then(function(){return a.showLoadingIcon=!1}))},l=function(){return n.rootScroll?s(function(){return $(document).scrollTop(n.rootScroll),n.reset()}):void 0},a.getUserName=function(e,t){return t.user?t.user.full_name:e.full_name},a.getUserAvatar=function(e,t){return t.user?t.user.medium_avatar_url:e.medium_avatar_url},a.getIsUserPro=function(e,t){return t.user?t.user.pro_member:e.pro_member},a.getIsStaff=function(e,t){return t.user?t.user.is_staff:e.is_staff},a.currentUser=i,a.$watch("user",function(e){return e?o():void 0}),a.$watch("albumId",function(e,t){return t&&e&&t!==e?o():void 0})}}}])}.call(this),function(){app.directive("userResume",["CurrentUser","UsersRepository","embedder","$sce","$timeout",function(e,t,i,n,s){return{templateUrl:"community/directives/users/user_resume-"+window.locale+".html",restrict:"E",scope:{username:"="},link:function(a){var r,o;return r=function(){return s(function(){return $("#demo_reel_preview").fitVids()})},o=function(e){return a.showLoadingIcon=!0,t.read(e).then(function(e){var t,s,o,l,c;for(a.showLoadingIcon=!1,a.user=e,a.user.location=_.compact([e.city,e.country]).join(", "),e.portfolio.demo_reel_url&&(a.demo_reel_video=n.trustAsHtml(i(e.portfolio.demo_reel_url)||""),r()),a.summary=n.trustAsHtml(e.portfolio.summary_as_html),l=e.experience_items,c=[],s=0,o=l.length;o>s;s++)t=l[s],c.push(t.description=n.trustAsHtml(t.description));return c},function(e){return errorHandler.handle(e)})},a.currentUser=e,a.$watch("username",function(e){return e?o(e):void 0})}}}])}.call(this),function(){app.directive("userSelfSummary",[function(){return{templateUrl:"community/directives/users/user_self_summary-"+window.locale+".html",restrict:"E",scope:{userSummary:"="}}}])}.call(this),function(){app.directive("userSidebarResume",["CurrentUser","UsersRepository","embedder","$sce","$timeout",function(e,t,i,n,s){return{templateUrl:"community/directives/users/user_sidebar_resume-"+window.locale+".html",restrict:"E",scope:{username:"="},link:function(a,r){var o,l;return o=function(){return s(function(){return $(r).find(".demo-reel-preview").fitVids()})},a.dataLoaded=!1,l=function(e){return t.read(e).then(function(e){var t,r,l,c;for(a.user=e,a.user.location=_.compact([e.city,e.country]).join(", "),e.portfolio.demo_reel_url&&(a.demo_reel_video=n.trustAsHtml(i(e.portfolio.demo_reel_url)||""),o()),a.summary=n.trustAsHtml(e.portfolio.summary_as_html),c=e.experience_items,r=0,l=c.length;l>r;r++)t=c[r],t.description=n.trustAsHtml(t.description);return a.dataLoaded=!0,s(function(){return a.$emit("updateScrollBar")})},function(e){return errorHandler.handle(e)})},a.currentUser=e,a.$watch("username",function(e){return e?l(e):void 0})}}}])}.call(this),function(){app.directive("userSubmission",["CurrentUser","SubmissionsRepository",function(e,t){return{templateUrl:"community/directives/users/user_submission-"+window.locale+".html",restrict:"E",scope:{submission:"="},link:function(i){return i.hideSubmission=function(){return t.hideOnProfile({submission:i.submission,challenge:i.submission.challenge}).then(function(e){return i.submission.visible_on_profile=e.visible_on_profile})},i.showSubmission=function(){return t.showOnProfile({submission:i.submission,challenge:i.submission.challenge}).then(function(e){return i.submission.visible_on_profile=e.visible_on_profile})},i.loadMore=function(){return i.showLoadingIcon||i.collection.isEnough()?void 0:(i.showLoadingIcon=!0,i.collection.fetchAndAppend().then(function(){return i.showLoadingIcon=!1}))},i.currentUser=e}}}])}.call(this),function(){app.directive("userSubmissions",["PaginatedCollection","UsersRepository","$routeParams",function(e,t,i){return{templateUrl:"community/directives/users/user_submissions-"+window.locale+".html",restrict:"E",link:function(n){var s;return s=function(){return n.showLoadingIcon=!0,n.collection.fetchAndUpdate().then(function(){return n.showLoadingIcon=!1})},n.loadMore=function(){return n.showLoadingIcon||n.collection.isEnough()?void 0:(n.showLoadingIcon=!0,n.collection.fetchAndAppend().then(function(){return n.showLoadingIcon=!1}))},n.collection=new e,n.collection.setFetcherRepository(t),n.collection.setFetcherMethod("readSubmissions"),n.collection.setFetcherOptions({username:i.username}),s()}}}])}.call(this),function(){window.app.factory("AbuseReportsResource",["$resource",function(e){return e("/abuse_reports.json",{},{create:{method:"POST"}})}])}.call(this),function(){window.app.factory("AccountResource",["$resource",function(e){return e("/users/:username.json",{username:"@username"},{update:{method:"PUT",cache:!1,url:"/account.json"}})}])}.call(this),function(){window.app.factory("ActivityFeedResource",["$resource",function(e){return e("/activity_feed_items.json",{},{index:{method:"GET"}})}])}.call(this),function(){window.app.factory("AlbumsResource",["$resource",function(e){return e("/albums.json",{},{index:{method:"GET",isArray:!0,url:"/albums.json"},read:{method:"GET",url:"/albums/:id.json",params:{id:"@id"}}})}])}.call(this),function(){window.app.factory("BetaAnswersResource",["$resource",function(e){return e("/beta_answers.json",{},{create:{method:"POST"},index:{method:"GET",cache:!0}})}])}.call(this),function(){window.app.factory("CampaignPrioritiesResource",["$resource",function(e){return e("/c.json",{},{index:{method:"GET"}})}])}.call(this),function(){window.app.factory("CategoriesResource",["$resource",function(e){return e("/categories.json",{},{index:{method:"GET",cache:!0,isArray:!0}})}])}.call(this),function(){app.factory("CollectionsResource",["$resource",function(e){return e("/collections.json",{},{add:{method:"POST",url:"/collections/add.json"},index:{method:"GET",url:"/collections.json",isArray:!0},read:{method:"GET",url:"/collections/:id.json"},remove:{method:"DELETE",url:"/collections/:id/remove.json"},create:{method:"POST"},destroy:{method:"DELETE",url:"/collections/:id.json"},update:{method:"PUT",url:"/collections/:id.json",params:{id:"@id"}},reorder:{method:"PUT",url:"/collections/reorder.json",isArray:!0},projects:{method:"GET",url:"/collections/:id/projects.json"}})}])}.call(this),function(){window.app.factory("CommentsResource",["$resource",function(e){return e("/comments/:id.json",{id:"@id"},{index:{url:"/projects/:project_id/comments/:id.json",method:"GET",cache:!0},create:{method:"POST"},update:{method:"PATCH"},destroy:{method:"DELETE"}})}])}.call(this),function(){window.app.factory("CoverResource",["$resource",function(e){return e("/account/cover.json",{},{destroy:{method:"DELETE"}})}])}.call(this),function(){app.factory("DiscussionPostsResource",["$resource",function(e){return e("/discussion_posts/:id.json",{id:"@id"},{index:{url:"/discussion_posts.json",method:"GET"},create:{method:"POST"},show:{method:"GET"},update:{method:"PATCH"},destroy:{method:"DELETE"}})}])}.call(this),function(){window.app.factory("FollowingsResource",["$resource",function(e){return e("/followings.json",{},{create:{method:"POST"},destroy:{method:"DELETE"}})}])}.call(this),function(){window.app.factory("JobsResource",["$resource",function(e){return e("/jobs.json",null,{index:{method:"GET",cache:!0,isArray:!0}})}])}.call(this),function(){app.factory("ManageChallengeAnnouncementsResource",["$resource",function(e){return e("/contests/manage_announcements/:id.json",{id:"@id"},{index:{url:"/contests/manage_announcements.json",method:"GET"},show:{method:"GET"},create:{method:"POST"},update:{method:"PATCH"},destroy:{method:"DELETE"}})}])}.call(this),function(){app.factory("MediaAssetsResource",["$resource",function(e){return e("/media_assets.json",{},{video:{method:"POST",url:"/media_assets/video.json"},model_3d:{method:"POST",url:"/media_assets/model_3d.json"}})}])}.call(this),function(){window.app.factory("MediumsResource",["$resource",function(e){return e("/mediums.json",{},{index:{method:"GET",cache:!0,isArray:!0}})}])}.call(this),function(){window.app.factory("MessagesResource",["$resource",function(e){return e("",{},{search:{method:"GET",url:"/api/v2/messaging/messages/search.json"},create:{method:"POST",url:"/api/v2/messaging/messages.json",ignore_errors:!0},permissions:{method:"GET",url:"/api/v2/messaging/messages/permissions.json",ignore_errors:!0,cache:!0}})}])}.call(this),function(){window.app.factory("MessagingSettingsResource",["$resource",function(e){return e("",{},{read:{method:"GET",url:"/api/v2/messaging/settings.json",cache:!0,ignore_errors:!0},update:{method:"PUT",url:"/api/v2/messaging/settings.json"}})}])}.call(this),function(){window.app.factory("ProjectsResource",["$resource",function(e){return e("/projects/:id.json",{id:"@id"},{index:{method:"GET"},show:{method:"GET",cache:!0},update:{method:"PATCH"}})}])}.call(this),function(){window.app.factory("RecommendationsResource",["$resource",function(e){return e("",{},{similarProjects:{method:"GET",cache:!1,ignore_errors:!0,url:"/api/v2/recommendations/recommended_projects.json"},similarUsers:{method:"GET",cache:!1,ignore_errors:!0,url:"/api/v2/recommendations/recommended_users.json"}})}])}.call(this),function(){window.app.factory("SearchResource",["$resource","ParamSerializer",function(e,t){return e("/search/projects.json",{},{searchProjects:{method:"GET"},searchUsers:{method:"GET",url:"/search/users.json",paramSerializer:t.serialize,cache:!0}})}])}.call(this),function(){window.app.factory("SkillsResource",["$resource",function(e){return e("/skills.json",{},{index:{method:"GET",isArray:!0}})}])}.call(this),function(){window.app.factory("SoftwareResource",["$resource",function(e){return e("/software.json",{},{index:{method:"GET",isArray:!0}})}])}.call(this),function(){window.app.factory("TopRowItemsResource",["$resource",function(e){return e("/top_row_items.json",{},{index:{method:"GET",cache:!0,isArray:!0},create:{method:"POST",url:"/manage_top_row_items.json"}})}])}.call(this),function(){window.app.factory("TwitchResource",["$resource",function(e){return e("/twitch.json",{},{status:{url:"/twitch/status.json",method:"GET"}})}])}.call(this),function(){window.app.factory("TwitchStreamsResource",["$resource",function(e){return e("/streams.json",{id:"@id"},{index:{method:"GET"},show:{url:"/streams/:id.json",method:"GET"}})}])}.call(this),function(){window.app.factory("UserBlocksResource",["$resource",function(e){return e("/myartstation/settings/user_blocks.json",{},{blockUser:{method:"POST",url:"/myartstation/settings/user_blocks.json"},unblockUser:{method:"POST",url:"/myartstation/settings/user_blocks/unblock.json"},index:{method:"GET",url:"/myartstation/settings/user_blocks.json",isArray:!0}})}])}.call(this),function(){window.app.factory("UserFeedResource",["$resource",function(e){return e("/api/v2/activity_feed/user_feeds.json",{},{index:{method:"GET"}})}])}.call(this),function(){window.app.factory("UsersResource",["$resource",function(e){return e("/users/:username.json",{username:"@username"},{show:{method:"GET",cache:!0},showQuick:{method:"GET",cache:!0,url:"/users/:username/quick.json"},update:{method:"PATCH",cache:!1,url:"/users/:username.json"},likes:{method:"GET",cache:!0,url:"/users/:username/likes.json"},followings:{method:"GET",cache:!0,url:"/users/:username/following.json"},followers:{method:"GET",cache:!0,url:"/users/:username/followers.json"},projects:{method:"GET",cache:!0,url:"/users/:username/projects.json"},randomProjects:{method:"GET",cache:!1,url:"/users/:username/random_projects.json"},submissions:{method:"GET",cache:!1,url:"/users/:username/submissions.json"},getSummary:{method:"GET",cache:!1,url:"/users/summary.json"}})}])}.call(this),function(){window.app.factory("VotesResource",["$resource",function(e){return e("/votes.json",{},{index:{method:"GET"},create:{method:"POST"},destroy:{method:"DELETE"},quick:{method:"GET",url:"/votes/quick.json",isArray:!0}})}])}.call(this),function(){window.app.factory("AbuseReportsRepository",["AbuseReportsResource","$q",function(e){var t;return new(t=function(){function t(){}return t.prototype.create=function(t){return e.create(t).$promise},t}())}])}.call(this),function(){window.app.factory("ActivityFeedRepository",["ActivityFeedResource","$sce","PaginatedCollection",function(e,t,i){var n;return new(n=function(){function n(){}return n.prototype.readActivityFeed=function(n){var s;return n||(n={}),n.page||(n.page=1),s=e.index(n).$promise,s.then(function(e){var n;return n=e.data,$.each(n,function(e,n){var s,a;return n.for_project?(a=n.project,a.description=t.trustAsHtml(n.project.description),a.commentsCollection=new i,a.commentsCollection.isFullPageLoaded=!0,s=a.comments,$.each(s,function(){return this.text_as_html=t.trustAsHtml(this.text_as_html)}),a.commentsCollection.set({data:s,total_count:a.comments_count,unloaded_count:a.comments_count-s.length})):void 0}),e.data=n,e}),s},n}())}])}.call(this),function(){window.app.factory("AlbumsRepository",["AlbumsResource","$q",function(e){var t;
return new(t=function(){function t(){}return t.prototype.read=function(t){return e.read({id:t}).$promise},t.prototype.readAll=function(t){return e.index({user_id:t}).$promise},t}())}])}.call(this),function(){window.app.factory("BetaAnswersRepository",["BetaAnswersResource","$q","$cacheFactory",function(e,t,i){var n;return new(n=function(){function t(){}return t.prototype.create=function(t){var i,n;return n=e.create(t).$promise,i=this,n.then(function(){return i.expireCache(t.subject)}),n},t.prototype.index=function(t){return e.index(t).$promise},t.prototype.expireCache=function(e){var t;return t=i.get("$http"),t.remove("/beta_answers.json?subject="+e)},t}())}])}.call(this),function(){window.app.factory("CampaignPrioritiesRepository",["CampaignPrioritiesResource","$q",function(e){var t;return new(t=function(){function t(){}return t.prototype.readNext=function(t,i){return e.index({size:t,takeover:i}).$promise},t}())}])}.call(this),function(){window.app.factory("CategoriesRepository",["CategoriesResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.index=function(){return e.index().$promise},t}())}])}.call(this),function(){window.app.factory("CollectionsRepository",["CollectionsResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.add=function(t,i){return e.add({collection_id:t,project_id:i}).$promise},t.prototype.index=function(t){return null==t&&(t={}),e.index(t).$promise},t.prototype.read=function(t){return e.read(t).$promise},t.prototype.remove=function(t,i){return e.remove({id:t,project_id:i}).$promise},t.prototype.create=function(t){return e.create(t).$promise},t.prototype.destroy=function(t){return e.destroy({id:t}).$promise},t.prototype.update=function(t){var i;return i={name:t.name,is_private:t.is_private},e.update({id:t.id,collection:i}).$promise},t.prototype.reorder=function(t){return null==t&&(t=[]),e.reorder({collections:t}).$promise},t.prototype.projects=function(t){return e.projects(t).$promise},t}())}])}.call(this),function(){window.app.factory("CommentsRepository",["CommentsResource","$q","$sce",function(e,t,i){var n;return new(n=function(){function t(){}return t.prototype.readAll=function(t,n){var s;return n||(n={}),n.project_id=t,s=e.index(n).$promise,s.then(function(e){var t;return t=e.data,$.each(t,function(){return this.text_as_html=i.trustAsHtml(this.text_as_html),$.each(this.child_comments,function(){return this.text_as_html=i.trustAsHtml(this.text_as_html)})}),e.data=t,e}),s},t.prototype.create=function(t,n){var s;return n.commentable_type="Project",n.commentable_id=t,s=e.create(n).$promise,s.then(function(e){return e.text_as_html=i.trustAsHtml(e.text_as_html),e.child_comments=[],e}),s},t.prototype.update=function(t,n){var s;return n.commentable_type="Project",n.commentable_id=t,s=e.update(n).$promise,s.then(function(e){return e.text_as_html=i.trustAsHtml(e.text_as_html),e}),s},t.prototype.destroy=function(t,i){return e.destroy({id:i}).$promise},t}())}])}.call(this),function(){window.app.factory("CountriesRepository",[function(){var e;return new(e=function(){function e(){}return e.prototype.readAsOptions=function(){return _.map(this.readAll(),function(e){return[e,e]})},e.prototype.readAll=function(){return["Afghanistan","Albania","Algeria","American Samoa","Andorre","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbade","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo","Congo (Dem. Rep.)","Cook Islands","Costa Rica","Crna Gora","Croatia","Cuba","Cura\xe7ao","Cyprus","Czech Republic","C\xf4te D'Ivoire","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey and Alderney","Guinea","Guinea-Bissau","Guyana","Haiti","Heard and McDonald Islands","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea (North)","Korea (South)","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","R\xe9union","Saint Barth\xe9lemy","Saint Helena","Saint Kitts and Nevis","Saint Lucia","Saint Martin","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Svalbard and Jan Mayen","Swaziland","Sweden","Switzerland","Syria","S\xe3o Tom\xe9 and Pr\xedncipe","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States Minor Outlying Islands","United States of America","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Virgin Islands of the United States","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe","\xc5land Islands"]},e}())}])}.call(this),function(){app.factory("DiscussionPostsRepository",["DiscussionPostsResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.readAll=function(t){return null==t&&(t={}),e.index(t).$promise},t.prototype.read=function(t){return e.show({id:t}).$promise},t.prototype.create=function(t){return e.create({discussion_post:t}).$promise},t.prototype.update=function(t){return e.update({id:t.id,discussion_post:t}).$promise},t.prototype.destroy=function(t){return e.destroy({id:t.id}).$promise},t}())}])}.call(this),function(){window.app.factory("FiltersRepository",["$q","$window","MediumsRepository","CategoriesRepository",function(e,t,i,n){var s,a;return a={},new(s=function(){function t(){var e;e=this,i.index().then(function(t){return e.mediums=t}),n.index().then(function(t){return e.categories=t})}return t.prototype.readAll=function(){var t;return t=this,e.when({sorting:[{uri:"default",name:I18n.t("community.projects.community")},{uri:"trending",name:I18n.t("community.projects.trending")},{uri:"latest",name:I18n.t("community.projects.latest")},{uri:"picks",name:I18n.t("community.projects.picks")}],medium:[{uri:"default",name:"All Media"}].concat(t.mediums),category:[{uri:"default",name:"All Subject Matter"}].concat(t.categories)})},t}())}])}.call(this),function(){app.factory("ManageChallengeAnnouncementsRepository",["ManageChallengeAnnouncementsResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.readAll=function(t){return null==t&&(t={}),e.index(t).$promise},t.prototype.read=function(t){return e.show({id:t}).$promise},t.prototype.create=function(t){return e.create({challenge_announcement:t}).$promise},t.prototype.publish_create=function(e){return e.published=!0,this.create(e)},t.prototype.update=function(t){return e.update({id:t.id,challenge_announcement:t}).$promise},t.prototype.publish_update=function(e){return e.published=!0,this.update(e)},t.prototype.destroy=function(t){return e.destroy({id:t.id}).$promise},t}())}])}.call(this),function(){window.app.factory("MediaAssetsRepository",["MediaAssetsResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.createVideo=function(t){return e.video({media_asset:t}).$promise},t.prototype.createModel3d=function(t){return e.model_3d({media_asset:t}).$promise},t}())}])}.call(this),function(){window.app.factory("MediumsRepository",["MediumsResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.index=function(){return e.index().$promise},t}())}])}.call(this),function(){window.app.factory("MessagesRepository",["MessagesResource","$q","$sce","$cacheFactory",function(e,t,i,n){var s;return new(s=function(){function t(){}return t.prototype.create=function(t,i,n){var s;return s={recepient_id:t,body:i},n&&(s.conversation_type=n),e.create(s).$promise},t.prototype.permissions=function(t,i){var s;return null==i&&(i={}),i.force&&(s=n.get("$http"),s.remove("/api/v2/messaging/messages/permissions.json?user_id="+t)),e.permissions({user_id:t}).$promise},t}())}])}.call(this),function(){window.app.factory("MessagingSettingsRepository",["MessagingSettingsResource","$q","$sce",function(e){var t;return new(t=function(){function t(){}return t.prototype.read=function(){return e.read().$promise},t}())}])}.call(this),function(){window.app.factory("ProjectsRepository",["ProjectsResource","VotesResource","UsersResource","$q","$sce","$http","$cacheFactory",function(e,t,i,n,s,a,r){var o;return new(o=function(){function t(){}return t.prototype.readAll=function(t){return t||(t={}),t.page||(t.page=1),e.index(t).$promise},t.prototype.readByUser=function(e){return e||(e={}),e.page||(e.page=1),i.projects(e).$promise},t.prototype.likedByUser=function(e){return e||(e={}),e.page||(e.page=1),i.likes(e).$promise},t.prototype.read=function(t){var i,n;return n=e.show({id:t}).$promise,i=this,n.then(function(e){return e.description=s.trustAsHtml(e.description),$.each(e.assets,function(){return this.player_embedded=s.trustAsHtml(this.player_embedded)}),i.expireCache(e.hash_id)}),n},t.prototype.update=function(t){return e.update(t).$promise},t.prototype.expireCache=function(e){var t;return t=r.get("$http"),t.remove("/projects/"+e+".json")},t.prototype.expireCommentsCache=function(e){var t;return t=r.get("$http"),t.remove("/projects/"+e+"/comments.json")},t}())}])}.call(this),function(){window.app.factory("RecommendationsRepository",["RecommendationsResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.similarProjects=function(t){return e.similarProjects({project_id:t}).$promise},t.prototype.similarUsers=function(t){return e.similarUsers({user_id:t}).$promise},t}())}])}.call(this),function(){window.app.factory("SearchRepository",["SearchResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.searchProjects=function(t){return t||(t={}),t.page||(t.page=1),e.searchProjects(t).$promise},t.prototype.searchUsers=function(t){return e.searchUsers(t).$promise},t}())}])}.call(this),function(){window.app.factory("TopRowItemsRepository",["TopRowItemsResource","$q","$sce",function(e){var t;return new(t=function(){function t(){}return t.prototype.create=function(t){return e.create({top_row_item:t}).$promise},t}())}])}.call(this),function(){window.app.factory("TwitchRepository",["TwitchResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.status=function(t){return e.status({submission_id:t}).$promise},t}())}])}.call(this),function(){window.app.factory("TwitchStreamsRepository",["TwitchStreamsResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.readAll=function(t){return t||(t={}),t.page||(t.page=1),e.index(t).$promise},t.prototype.read=function(t){return e.show({id:t}).$promise},t}())}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};window.app.factory("UserBlocksRepository",["UserBlocksResource","$rootScope","CurrentUser","$q",function(t,i,n,s){var a;return new(a=function(){function i(){this.unblockUser=e(this.unblockUser,this),this.blockUser=e(this.blockUser,this),this.currentUserBlocks=[],this.getUserBlocks().then(function(e){return function(t){return e.currentUserBlocks=t}}(this))}return i.prototype.repopulate=function(){return this.getUserBlocks().then(function(e){return function(t){return e.currentUserBlocks=t}}(this))},i.prototype.isBlocked=function(e){return _.some(this.currentUserBlocks||[],function(t){return t.blocked_user.id===e})},i.prototype.blockUser=function(e){return t.blockUser({user_block:{blocked_user_id:e}}).$promise.then(function(e){return function(){return e.repopulate()}}(this))},i.prototype.unblockUser=function(e){return t.unblockUser({blocked_user_id:e}).$promise.then(function(e){return function(){return e.repopulate()}}(this))},i.prototype.getUserBlocks=function(){return n?t.index().$promise:s.defer().promise},i}())}])}.call(this),function(){var e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e},t={}.hasOwnProperty;window.app.factory("UserFeedsRepository",["UserFeedResource","$sce","PaginatedCollection",function(t,i,n){var s,a,r,o;return a=function(){function e(e){this.id=e.id,this.type=e.type,this.lastActors=e.last_actors,"new_follower"===this.type&&(this.isNewFollower=!0),"followee_followed"===this.type&&(this.isFolloweeFollowed=!0),"new_project"===this.type&&(this.isNewProject=!0),"project_liked"===this.type&&(this.isProjectLiked=!0),"project_commented"===this.type&&(this.isProjectCommented=!0),"submission_update_liked"===this.type&&(this.isSubmissionUpdateLiked=!0),"new_submission_update"===this.type&&(this.isNewSubmissionUpdate=!0),this.isProject=this.isNewProject||this.isProjectLiked||this.isProjectCommented,this.isSubmissionUpdate=this.isSubmissionUpdateLiked||this.isNewSubmissionUpdate,this.isFollower=this.isNewFollower||this.isFolloweeFollowed,e.project&&(this.project=e.project),e.submission_update&&(this.submissionUpdate=e.submission_update),e.follower&&(this.user=e.follower),e.followee&&(this.user=e.followee)}return e}(),s=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.isEnough=function(){var e,t,i,n,s;for(s=0,n=this.items,t=0,i=n.length;i>t;t++)e=n[t],s+=e.child_comments.length+1;return this.totalCount<=s},i}(n),r=function(){function e(){}return e.prototype.toEntity=function(e){var t,n,r,o,l,c,d,u,m,p;if(o=new a(e),o.isProject){for(m=o.project,m.description=i.trustAsHtml(m.description),m.commentsCollection=new s,m.commentsCollection.isFullPageLoaded=!0,r=m.comments.data,l=0,d=r.length;d>l;l++)for(n=r[l],n.text_as_html=i.trustAsHtml(n.text_as_html),n.commentable_id=m.id,p=n.child_comments,c=0,u=p.length;u>c;c++)t=p[c],t.parent_id=n.id,t.commentable_id=m.id;m.commentsCollection.set({data:r,total_count:m.comments.total_count,unloaded_count:m.comments.total_count-r.length})}return o},e}(),new(o=function(){function e(){}return e.prototype.userFeeds=function(e){var i,n,s;return i={page:e.page||1},s=t.index(i).$promise,n=new r,s.then(function(e){var t,i;return i=[],e.totalFetched=e.data.length,t="deleted",$.each(e.data,function(e,s){return s.type!==t?i.push(n.toEntity(s)):void 0}),e.data=i,e}),s},e}())}])}.call(this),function(){window.app.factory("UsersRepository",["UsersResource","FollowingsResource","$q","$http","$cacheFactory",function(e,t,i,n,s){var a;return new(a=function(){function i(){}return i.prototype.read=function(t,i){return i||(i={}),i.username=t,e.show(i).$promise},i.prototype.readQuick=function(t,i){return i||(i={}),i.username=t,e.showQuick(i).$promise},i.prototype.update=function(t){return e.update(t).$promise},i.prototype.follow=function(e){return t.create({followee_id:e}).$promise},i.prototype.unfollow=function(e){return t.destroy({followee_id:e}).$promise},i.prototype.readRandomProjects=function(t,i){var n;return n={},n.username=t,n.project_id=i,e.randomProjects(n).$promise},i.prototype.expireCache=function(e){var t;return t=s.get("$http"),t.remove("/users/"+e+".json")},i.prototype.expireQuickCache=function(e){var t;return t=s.get("$http"),t.remove("/users/"+e+"/quick.json")},i.prototype.getSummary=function(){return e.getSummary().$promise},i.prototype.readFollowers=function(t){return t||(t={}),t.page||(t.page=1),e.followers(t).$promise},i.prototype.readFollowing=function(t){return t||(t={}),t.page||(t.page=1),e.followings(t).$promise},i.prototype.readSubmissions=function(t){return t||(t={}),t.page||(t.page=1),e.submissions(t).$promise},i}())}])}.call(this),function(){window.app.factory("VotesRepository",["VotesResource","$q",function(e){var t;return new(t=function(){function t(){}return t.prototype.likesForVotable=function(t,i,n){return null==n&&(n={}),n.page||(n.page=1),n.votable_id=t,n.votable_type=i,n.type="like",e.index(n).$promise},t.prototype.likeProject=function(t){return e.create({votable_id:t,votable_type:"Project",type:"like"}).$promise},t.prototype.unlikeProject=function(t){return e.destroy({votable_id:t,votable_type:"Project",type:"like"}).$promise},t.prototype.likeComment=function(t){return e.create({votable_id:t,votable_type:"Comment",type:"like"}).$promise},t.prototype.unlikeComment=function(t){return e.destroy({votable_id:t,votable_type:"Comment",type:"like"}).$promise},t.prototype.likeDiscussionPost=function(t){return e.create({votable_id:t,votable_type:"DiscussionPost",type:"like"}).$promise},t.prototype.unlikeDiscussionPost=function(t){return e.destroy({votable_id:t,votable_type:"DiscussionPost",type:"like"}).$promise},t.prototype.likeSubmission=function(t){return e.create({votable_id:t,votable_type:"Submission",type:"like"}).$promise},t.prototype.unlikeSubmission=function(t){return e.destroy({votable_id:t,votable_type:"Submission",type:"like"}).$promise},t.prototype.likeSubmissionUpdate=function(t){return e.create({votable_id:t,votable_type:"SubmissionUpdate",type:"like"}).$promise},t.prototype.unlikeSubmissionUpdate=function(t){return e.destroy({votable_id:t,votable_type:"SubmissionUpdate",type:"like"}).$promise},t.prototype.likeChallengeAnnouncement=function(t){return e.create({votable_id:t,votable_type:"ChallengeAnnouncement",type:"like"}).$promise},t.prototype.unlikeChallengeAnnouncement=function(t){return e.destroy({votable_id:t,votable_type:"ChallengeAnnouncement",type:"like"}).$promise},t}())}])}.call(this),function(){window.app.controller("ActivityController",["$scope","auth","ActivityFeedRepository","PaginatedCollection","ProjectsRepository","CommentsRepository","UsersRepository","VotesRepository","TopRowItemsResource","JobsResource","projectNavigator","$timeout","CurrentUser",function(e,t,i,n,s,a,r,o,l,c,d,u,m){return t.requireLoggedIn(function(){var t,s,p;e.currentUser=m,e.allowComment=m.isAdmin()||m.isArtist(),window.document.title="ArtStation - Activity",Track.pageView(),e.user_summary={loaded:!1},r.getSummary().then(function(t){e.user_summary=t,e.user_summary.loaded=!0}),e.showLoadingIcon=!0,p=function(){return d.rootScroll?($(document).scrollTop(d.rootScroll),d.reset()):void 0},d.isSavedCollection("readActivityFeed",{})?(e.feedsCollection=d.collection,u(function(){return p(),e.showLoadingIcon=!1,s()},1e3)):(e.feedsCollection=new n,e.feedsCollection.setFetcherMethod("readActivityFeed"),e.feedsCollection.setFetcherRepository(i),t=e.feedsCollection.fetchAndUpdate().then(function(){return e.showLoadingIcon=!1,s()})),l.index({limit:2}).$promise.then(function(t){return e.top_row_items=t}),c.index({limit:6,latest:!0}).$promise.then(function(t){return e.featured_jobs=t}),e.toggleLike=function(t){var i,n;return i=e.feedsCollection.find(t),n=i.project,n.liked=!n.liked,n.liked?(n.likes_count+=1,o.likeProject(n.id)):(n.likes_count-=1,o.unlikeProject(n.id))},e.toggleLikeSubmissionUpdate=function(t){var i,n;return i=e.feedsCollection.find(t),n=i.submission_update,n.liked=!n.liked,n.liked?(n.likes_count+=1,o.likeSubmissionUpdate(n.id)):(n.likes_count-=1,o.unlikeSubmissionUpdate(n.id))},e.emptyCommentText=function(e){return!e.newCommentText||!$("<div/>").html(e.newCommentText).text()},e.createComment=function(t){var i,n;return i=e.feedsCollection.find(t),n=i.project,e.emptyCommentText(n)?void 0:a.create(n.id,{text:n.newCommentText}).then(function(e){return e.errors?void(e.errors.commentable_id&&(n.commentError=e.errors.commentable_id[0])):(n.newCommentText="",n.commentsCollection.append([e]),n.commentsCollection.incTotalCount())})},e.loadMore=function(){return e.showLoadingIcon||e.feedsCollection.isEnough()?void 0:(e.showLoadingIcon=!0,e.feedsCollection.fetchAndAppend().then(function(){return e.showLoadingIcon=!1,s()}))},e.loadMoreComments=function(t){var i;return i=e.feedsCollection.find(t).project,i.commentsCollection.incPage(),a.readAll(i.id,{page:i.commentsCollection.page,size:10}).then(function(e){return i.commentsCollection.set(e)})},s=function(){return u(function(){return $(".activity-item-html-content").find("img").each(function(){return $(this).parents("span.image-content").length?void 0:$(this).wrap('<span class="image-content">')})})}})}])}.call(this),function(){window.app.controller("Activity2Controller",["$scope","auth","UserFeedsRepository","PaginatedCollection","ProjectsRepository","CommentsRepository","UsersRepository","VotesRepository","TopRowItemsResource","JobsResource","projectNavigator","$timeout","CurrentUser",function(e,t,i,n,s,a,r,o,l,c,d,u,m){return t.requireLoggedIn(function(){var t,s,p;e.currentUser=m,e.allowComment=m.isAdmin()||m.isArtist(),window.document.title="ArtStation - Activity",Track.pageView(),e.user_summary={loaded:!1},r.getSummary().then(function(t){e.user_summary=t,e.user_summary.loaded=!0}),e.showLoadingIcon=!0,p=function(){return d.rootScroll?($(document).scrollTop(d.rootScroll),d.reset()):void 0},d.isSavedCollection("userFeeds",{})?(e.feedsCollection=d.collection,u(function(){return p(),e.showLoadingIcon=!1,s()},1e3)):(e.feedsCollection=new n,e.feedsCollection.setFetcherMethod("userFeeds"),e.feedsCollection.setFetcherRepository(i),t=e.feedsCollection.fetchAndUpdate().then(function(t){return e.allFetched=t.totalFetched<10,e.showLoadingIcon=!1,s()})),l.index({limit:2}).$promise.then(function(t){return e.top_row_items=t}),c.index({limit:6,latest:!0}).$promise.then(function(t){return e.featured_jobs=t}),e.toggleLike=function(t){var i,n;return i=e.feedsCollection.find(t),n=i.project,n.liked=!n.liked,n.liked?(n.likes_count+=1,o.likeProject(n.id)):(n.likes_count-=1,o.unlikeProject(n.id))},e.toggleLikeSubmissionUpdate=function(t){var i,n;return i=e.feedsCollection.find(t),n=i.submissionUpdate,n.liked=!n.liked,n.liked?(n.likes_count+=1,o.likeSubmissionUpdate(n.id)):(n.likes_count-=1,o.unlikeSubmissionUpdate(n.id))},e.createComment=function(t){var i,n;return i=e.feedsCollection.find(t),n=i.project,n.newCommentText?a.create(n.id,{text:n.newCommentText}).then(function(e){return e.errors?void(e.errors.commentable_id&&(n.commentError=e.errors.commentable_id[0])):(n.newCommentText="",n.commentsCollection.append([e]),n.commentsCollection.incTotalCount())}):void 0},e.loadMore=function(){return e.showLoadingIcon||e.allFetched?!1:(e.showLoadingIcon=!0,e.feedsCollection.fetchAndAppend().then(function(t){return e.showLoadingIcon=!1,e.allFetched=t.totalFetched<10,s()}))},e.loadMoreComments=function(t){var i;return i=e.feedsCollection.find(t).project,i.commentsCollection.incPage(),a.readAll(i.id,{page:i.commentsCollection.page,size:10}).then(function(e){return i.commentsCollection.set(e)})},s=function(){return u(function(){return $(".activity-item-html-content").find("img").each(function(){return $(this).parents("span.image-content").length?void 0:$(this).wrap('<span class="image-content">')})})}})}])}.call(this),function(){window.app.controller("ArtistController",["$scope","$routeParams","UsersRepository","MessagesRepository","MessagingSettingsRepository","ProjectsRepository","CurrentUser","$location",function(e,t,i,n,s,a,r,o){var l,c,d,u;return e.isCurrentAlbum=function(t){return e.album_id?e.album_id===t.id||"all"===e.album_id&&"all_projects"===t.album_type:e.default_album.id===t.id},e.isPortfolioPage=function(){return"projects"===e.action||"albums"===e.action},u=function(t,i,n,s){return"projects"!==e.action&&"albums"!==e.action?!1:t.display_portfolio_as_albums?!1:i?!1:0===s.length||n&&1===s.length&&s[0].id===n.id?!1:n&&"all_projects"!==n.album_type?!0:!1},d=function(e,t,i,n,s){return"projects"!==i&&"albums"!==i?!1:n&&"projects"===i?!1:0===s.length?!1:s.length>1?!0:s[0].id===t.id?!1:!0},c=function(){var t;return t=e.user,e.showAlbumsNavbar=d(e.album_id,e.default_album,e.action,t.display_portfolio_as_albums,t.albums_with_community_projects||[]),e.showMoreArtwork=u(t,e.album_id,e.default_album,t.albums_with_community_projects),Track.userPageView()},l=function(){return i.readQuick(t.username).then(function(t){return window.document.title="ArtStation - "+window.defaultSanitizer.unescapeHTML(t.full_name),e.user=t,e.user.location=_.compact([t.city,t.country]).join(", "),t.profile_default_album&&(e.default_album=t.profile_default_album),t.is_artist||("projects"===e.action||"albums"===e.action||"challenges"===e.action)&&(e.action="profile"),c(),window.api.messaging.enabled&&e.currentUser?e.currentUser.id===t.id?s.read().then(function(t){return e.userCanReceiveMessages="none"!==t.enabled_conversation_types,e.previewMode=!0}):n.permissions(t.id).then(function(t){return e.userCanReceiveMessages=t.allowed}):void 0})},e.showUserMessageModal=function(){return r?e.$broadcast("userMessageModal:new"):void 0},e.changeAction=function(i){var n;if(i===e.action)return!1;switch(i){case"projects":n="/"+t.username;break;default:n="/"+t.username+"/"+i}return e.action=i,o.path(n,!1),c()},e.changeAlbum=function(i){var n;return n="/"+t.username+"/albums/"+i,e.album_id=i,e.action="albums",o.path(n,!1),c()},e.currentUser=r,e.action=t.action||"projects","albums"===e.action&&(e.album_id="all"===t.item_id?"all":parseInt(t.item_id)),e.$on("user.unblocked",function(){return function(t,i){return e.user&&(i.id===e.user.id&&(e.user.blocked=!1),!e.userCanReceiveMessages)?n.permissions(e.user.id,{force:!0}).then(function(t){return e.userCanReceiveMessages=t.allowed}):void 0}}(this)),e.$on("user.blocked",function(t,i){return e.user&&i.id===e.user.id?e.user.blocked=!0:void 0}),l()}])}.call(this),function(){window.app.controller("ArtistLikesController",["$scope","$location","$routeParams","UsersRepository","ProjectsRepository","PaginatedCollection","VotesRepository","projectNavigator","$timeout",function(e,t,i,n,s,a,r,o,l){var c,d,u;return u=function(){return e.showLoadingIcon=!0,e.collection.fetchAndUpdate().then(function(){return e.showLoadingIcon=!1})},e.loadMore=function(){return e.showLoadingIcon||e.collection.isEnough()?void 0:(e.showLoadingIcon=!0,e.collection.fetchAndAppend().then(function(){return e.showLoadingIcon=!1}))},e.deleteFromCollection=function(t){return confirm("Are you sure you want to remove this project?")?r.unlikeProject(t.id).then(function(){return e.collection.replace(_.without(e.collection.items,t)),e.collection.totalCount-=1}):void 0},c=function(){var e;return e={username:i.username}},d=function(){return o.rootScroll?l(function(){return $(document).scrollTop(o.rootScroll),o.reset()}):void 0},Track.pageView(),e.current_user={id:window.user_id,full_name:window.user_full_name,email:window.user_email},o.isSavedCollection("likedByUser",c())?(e.collection=o.collection,d()):(e.collection=new a,e.collection.setFetcherMethod("likedByUser"),e.collection.setFetcherRepository(s),e.collection.setFetcherOptions(c()),e.collection.seed=Math.floor(100*Math.random())),n.readQuick(i.username).then(function(t){return e.artist=t,u()})}])}.call(this),function(){window.app.controller("ArtworkController",["$scope","ProjectsRepository","TopRowItemsResource","facebook_likes","twitter_followers","instagram_followers","CurrentUser",function(e,t,i,n,s,a,r){return e.currentUser=r,e.facebook_likes=n,e.twitter_followers=s,e.instagram_followers=a,window.document.title="ArtStation",i.index({}).$promise.then(function(t){return e.top_row_items=t}),e.getFetcherOptions=function(){return{}},e.tabletAndAbove=function(){return ResponsiveHelper.tabletAndAbove()},e.desktopAndAbove=function(){return ResponsiveHelper.desktopAndAbove()},Track.pageView()}])}.call(this),function(){window.app.controller("CollectionController",["$scope","$timeout","$location","$routeParams","UsersRepository","CollectionsRepository","PaginatedCollection","projectNavigator","CurrentUser",function(e,t,i,n,s,a,r,o,l){var c,d,u,m;return m=function(){return e.showLoadingIcon=!0,e.collection.fetchAndUpdate().then(function(){return e.showLoadingIcon=!1})},e.deleteFromCollection=function(t){return confirm("Are you sure you want to remove this project?")?a.remove(e.collectionItem.id,t.id).then(function(){return e.collection.replace(_.without(e.collection.items,t))}):void 0},e.editCollection=function(){$("#edit-collection-modal").modal("show")},e.deleteCollection=function(){return confirm("Are you sure you want to remove this collection?")?a.destroy(e.collectionItem.id).then(function(){return i.path("/"+n.username+"/collections/")}):void 0},d=function(){return o.rootScroll?t(function(){return $(document).scrollTop(o.rootScroll),o.reset()}):void 0},c=function(){var t;return t={id:n.id,collection_id:e.collectionItem.id}},u=function(){return o.isSavedCollection("projects",c())?(e.collection=o.collection,d()):(e.collection=new r,e.collection.setFetcherRepository(a),e.collection.setFetcherMethod("projects"),e.collection.setFetcherOptions(c()),e.collection.seed=Math.floor(100*Math.random()))},e.loadMore=function(){return!e.collection||e.showLoadingIcon||e.collection.isEnough()?void 0:(e.showLoadingIcon=!0,e.collection.fetchAndAppend().then(function(){return e.showLoadingIcon=!1}))},Track.pageView(),e.currentUser=l,s.readQuick(n.username).then(function(t){return e.artist=t,a.read({id:n.id,user_id:e.artist.id}).then(function(t){return e.collectionItem=t,u(),m()})}),t(function(){return $("#edit-collection-modal").on("shown.bs.modal",function(){return $('input[name="collection_name"]').focus()})})}])}.call(this),function(){window.app.controller("CollectionsController",["$scope","$timeout","$routeParams","$filter","UsersRepository","CollectionsRepository","ProjectsRepository","CurrentUser",function(e,t,i,n,s,a,r,o){var l,c,d;return d=function(){return a.index({user_id:e.artist.id}).then(function(t){return e.collections=t,e.collectionsLoaded=!0})},l=function(){return r.likedByUser({username:i.username,per_page:1}).then(function(t){return e.likes_total_count=t.total_count,0===t.data.length?(e.likes=[],e.likes.push({cover:{small_square_url:"/assets/placeholders/asset/small_square.png"}})):e.likes=t.data,e.likesLoaded=!0})},e.showCreateCollectionModal=function(){$("#create-collection-modal").modal("show")},e.finishEditingCollection=function(){return d()},e.deleteCollection=function(t){return confirm("Are you sure you want to remove this collection?")?(a.destroy(t.id),e.collections=_.without(e.collections,t)):void 0},c=function(){var t;return t=o!==e.artist.id,e.publicSortableOptions={cursor:"move",disabled:t,stop:function(){var t;return t=_.map(e.publicCollections,function(e,t){return{id:e.id,position:t,name:e.name}}),a.reorder(t).then(function(e){return setCollections(e,"public")})}},e.privateSortableOptions={cursor:"move",disabled:t,stop:function(){var t;return t=_.map(e.privateCollections,function(e,t){return{id:e.id,position:t,name:e.name}}),a.reorder(t).then(function(e){return setCollections(e,"private")})}}},e.currentUser=o,s.readQuick(i.username).then(function(t){return e.artist=t,d(),c(),l()}),t(function(){return $("#create-collection-modal").on("shown.bs.modal",function(){return $('input[name="collection_name"]').focus()})}),Track.pageView()}])}.call(this),function(){window.app.controller("ConnectionsController",["$scope","$timeout","$routeParams","UsersRepository","PaginatedCollection","$location",function(e,t,i,n,s,a){var r,o,l,c;return c=function(){return e.showLoadingIcon=!0,e.collection.fetchAndUpdate({q:e.searchTerm,order:e.order}).then(function(){return e.showLoadingIcon=!1,e.searchTerm?$("#connections-search").focus():void 0
})},e.loadMore=function(){return!e.user||e.showLoadingIcon||e.collection.isEnough()?void 0:(e.showLoadingIcon=!0,e.collection.fetchAndAppend({q:e.searchTerm,order:e.order}).then(function(){return e.showLoadingIcon=!1}))},o=function(t){return"followers"===t?(e.collection.setFetcherMethod("readFollowers"),e.action="followers"):(e.collection.setFetcherMethod("readFollowing"),e.action="following")},r=function(){return e.$on("unfollowed_user",function(){return"followers"===e.action?e.user.followers_count-=1:e.user.followees_count-=1}),e.$on("followed_user",function(){return"followers"===e.action?e.user.followers_count+=1:e.user.followees_count+=1})},l=function(){return a.search("q",e.searchTerm),c()},e.updateSearchDebounced=_.debounce(l,250),e.updateOrder=function(){return a.search("order",e.order),c()},Track.pageView(),e.searchTerm=i.q,e.order=i.order||"last_name",e.current_user={id:window.user_id,full_name:window.user_full_name,email:window.user_email},e.collection=new s,e.collection.setFetcherRepository(n),o(i.action),e.showLoadingIcon=!0,n.read(i.username,{cache:!0}).then(function(t){return e.showLoadingIcon=!1,e.user=t,e.collection.setFetcherOptions({username:t.username}),c()}),r()}])}.call(this),function(){window.app.controller("ProjectController",["$scope","$routeParams","$sanitize","ProjectsRepository","UsersRepository","CommentsRepository","VotesRepository","PaginatedCollection","projectNavigator","errorHandler","CurrentUser","$sce","$timeout","RecommendationsRepository",function(e,t,i,n,s,a,r,o,l,c,d,u,m,p){var g,f,h,v,b;return e.commentsCollection=new o,e.user_id=window.user_id,e.commentCreatingInProgress=!1,e.user_permissions=window.user_permissions,e.is_admin=_.include(e.user_permissions,"admin"),e.is_moderator=e.is_admin||_.include(window.user_permissions,"moderator"),e.is_artist=_.include(e.user_permissions,"artist"),e.showAdultFilter=!0,e.commentText="",e.allowComment=e.is_moderator||e.is_artist,e.currentUser=d,e.recommendedProjects=[],b=function(){return m(function(){return e.$broadcast("updateScrollBar")})},f=function(){return n.expireCache(t.id)},h=function(){return n.expireCommentsCache(t.id)},n.read(t.id).then(function(t){var i;return e.project=t,e.userBlocked=e.project.user.blocked,l.initWith(t),$(document).find("title").html("ArtStation - "+t.title+", "+t.user.full_name),i=new ViewTracker,i.track("Project",t.id).then(function(e){return m(function(){return t.views_count=e.views_count})},function(e){return c.handle(e)}),e.showTags=t.medium||t.categories.length>0||t.tags.length>0,s.readRandomProjects(t.user.username,t.id).then(function(t){return e.moreProjectsByUser=t.data,b()}),m(function(){return $("#project-description").readmore({collapsedHeight:180}),e.$broadcast("loadedProject")}),b()},function(e){throw exception(e)}),e.currentCollectionsList=function(){var t,n,s;return t=null!=(s=e.project)?s.collections:void 0,t?(n=t.map(function(e){return'<a href="/'+window.user_username+"/collections/"+e.id+'">'+i(e.name)+"</a>"}),u.trustAsHtml(n.join(", "))):""},a.readAll(t.id).then(function(t){return e.commentsCollection.set(t),b()}),e.loadMoreComments=function(){return e.commentsCollection.incPage(),a.readAll(t.id,{page:e.commentsCollection.page}).then(function(t){return e.commentsCollection.append(t.data),b()})},e.emptyCommentText=function(){return!e.commentText||!$("<div/>").html(e.commentText).text()},e.createComment=function(){return e.emptyCommentText()||e.commentCreatingInProgress?void 0:(e.commentCreatingInProgress=!0,a.create(e.project.id,{text:e.commentText}).then(function(t){return e.commentCreatingInProgress=!1,t.errors?(t.errors.commentable_id&&(e.commentForm.limitError=t.errors.commentable_id[0]),void e.commentForm.$setValidity("custom",!1)):(e.commentText="",e.commentsCollection.append([t]),e.commentsCollection.incTotalCount(),v(),b(),h())}))},e.errorHandler=function(e){return Flash.error((e.statusText="Unauthorized")?"Your session has been expired. Please refresh the page to update the session":I18n.t("error_pages.error_400_description"))},e.recommendedUsers=[],e.clearUserRecommendations=function(){return e.recommendedUsers=[]},e.isRecommendationsVisible=window.api.recommendations.enabled,e.showRecommendations=function(){return window.api.recommendations.enabled&&e.project?e.recommendedUsers.length?e.recommendedUsers=[]:(e.recommendedUsers=[],p.similarUsers(e.project.user.id).then(function(t){var i,n,s,a,r,o,l,c;for(e.recommendedUsers=t.data,o=e.recommendedUsers,i=0,s=o.length;s>i;i++)for(c=o[i],l=c.projects,n=0,a=l.length;a>n;n++)r=l[n],r.url=c.artstation_profile_url;return b()})):void 0},e.toggleLike=function(){return e.project.liked?r.unlikeProject(e.project.id).then(function(){return e.recommendedProjects=[],e.project.liked=!1,e.project.likes_count-=1,e.$emit("project:unlike"),f()},e.errorHandler):r.likeProject(e.project.id).then(function(){return e.recommendedProjects=[],e.project.liked=!0,e.project.likes_count+=1,e.$emit("project:like"),f(),window.api.recommendations.enabled?p.similarProjects(e.project.id).then(function(t){return e.recommendedProjects=t.data,b()}):void 0},e.errorHandler)},e.shareOnFacebook=function(){var e;return e=encodeURIComponent(window.location.href),window.open("https://www.facebook.com/sharer/sharer.php?u="+e,"facebook","width=660,height=380"),!0},e.shareOnTwitter=function(){var t;return t=encodeURIComponent(e.project.title+" via @artstationhq "+window.location.href),window.open("https://twitter.com/home?status="+t,"twitter","width=660,height=380"),!0},e.shareOnPinterest=function(){var t,i,n;return n=encodeURIComponent(window.location.href),i=encodeURIComponent(e.project.cover_url),t=encodeURIComponent(e.project.title+", "+e.project.user.full_name+" on ArtStation at "+window.location.href),window.open("https://pinterest.com/pin/create/button/?url="+n+"&media="+i+"&description="+t,"pinterest","width=660,height=380"),!0},e.shareOnLinkedin=function(){var t,i,n;return n=encodeURIComponent(window.location.href),i=encodeURIComponent(e.project.title),t=encodeURIComponent(e.project.title+", "+e.project.user.full_name+" on ArtStation at "+window.location.href),window.open("https://www.linkedin.com/shareArticle?mini=true&url="+n+"&title="+i+"&summary="+t,"linkedin","width=660,height=380"),!0},e.close=function(){return l.close()},e.next=function(){return l.next()},e.prev=function(){return l.prev()},e.showAdult=function(){return e.showAdultFilter=!1},e.canPrev=function(){return!!l.prevId},e.canNext=function(){return!!l.nextId},g=function(){return $("#comment-textarea").addClass("expanded"),$("#post-comment-button").show()},v=function(){return $("#comment-textarea").removeClass("expanded").blur(),$("#post-comment-button").hide()},e.isDesktop=function(){return ResponsiveHelper.desktopAndAbove()},e.$on("$viewContentLoaded",function(){return $("#comment-textarea").focus(function(){return g()}),$(document).on("keydown",function(t){var i,n;return n=t.target.type,"textarea"===n||"search"===n||"text"===n||(27===t.keyCode&&(i=$(".modal:visible"),i.length?i.modal("hide"):m(function(){return l.close()})),37===t.keyCode&&m(function(){return l.prev()}),39===t.keyCode&&m(function(){return l.next()}),65===t.keyCode&&$('[data-target="#collection-modal"]').click(),76!==t.keyCode||e.project.liked)?void 0:e.toggleLike()})}),e.$on("$destroy",function(){return $(document).off("keydown")}),e.$on("followed_user",function(){return f()}),e.$on("unfollowed_user",function(){return f()}),Track.pageView()}])}.call(this),function(){window.app.controller("SearchProjectsController",["$scope","$routeParams","$location","PaginatedCollection","$timeout","$route","SearchRepository","projectNavigator",function(e,t,i,n,s,a,r,o){var l,c,d,u,m,p,g;return e.orderOptions=[["Recent","published_at desc"],["Likes","likes_count desc"]],e.defaultOrder="published_at",e.defaultDirection="desc",e.showProFirst=!0,e.showLoadingIcon=!1,m=function(){return i.search("q",e.searchQuery),e.collection.setFetcherOptions({q:e.searchQuery,page:1,order:e.searchOrder,direction:e.searchDirection,show_pro_first:e.showProFirst}),e.showLoadingIcon=!0,e.collection.fetchAndUpdate().then(function(){return e.showLoadingIcon=!1})},e.loadMore=function(){return e.showLoadingIcon||e.collection.isEnough()||!e.searchQuery||e.collection.allDataLoaded?void 0:(e.showLoadingIcon=!0,e.collection.fetchAndAppend().then(function(){return e.showLoadingIcon=!1}))},c=function(){var t;return t={q:e.searchQuery}},l=function(){if(e.searchOrder=e.defaultOrder,e.searchDirection=e.defaultDirection,t.sorting){if("likes"===t.sorting)return e.searchOrder="likes_count",e.searchDirection="desc";if("recent"===t.sorting)return e.searchOrder="published_at",e.searchDirection="desc"}},g=function(){return"likes_count"===e.searchOrder?a.updateParams({sorting:"likes"}):"published_at"===e.searchOrder?a.updateParams({sorting:"recent"}):void 0},p=function(){return o.rootScroll?s(function(){return $(document).scrollTop(o.rootScroll),o.reset()}):void 0},e.setOrder=function(){var t;return t=e.sortBy.split(" "),e.searchOrder=t[0],e.searchDirection=t[1],d()},d=function(){return e.sortBy=e.searchOrder+" "+e.searchDirection,e.collection=new n,e.collection.setFetcherRepository(r),e.collection.setFetcherMethod("searchProjects"),g(),e.searchQuery&&m(),s(function(){return $(".order-select").val(e.sortBy).trigger("change")})},u=_.debounce(d,250),window.document.title="Search",Track.pageView(),e.searchQuery=t.q,l(),o.isSavedCollection("searchProjects",c())?(e.collection=o.collection,p()):d(),e.user_show_adult=window.user_show_adult,e.$watch("searchQuery",function(e,t){return e&&e!==t?u():void 0}),e.$on("$locationChangeSuccess",function(){return e.searchQuery!==t.q?s(function(){return e.searchQuery=t.q}):void 0}),e.$watch("sortBy",function(t,i){return t!==i?e.setOrder():void 0},!0),e.$watch("showProFirst",function(e,t){return e!==t?d():void 0},!0),e.projectInfoVisible=!1}])}.call(this),function(){app.controller("SearchUsersController",["$scope","SearchRepository","CountriesRepository","ClientData","$routeParams","$location","$timeout","$window","CurrentUser","$filter",function(e,t,i,n,s,a,r,o,l,c){var d,u,m,p,g;return e.countries=[["Any Country",""]].concat(i.readAsOptions()),e.orderOptions=[["Name Ascending","last_name asc"],["Name Descending","last_name desc"],["Likes Ascending","likes_count asc"],["Likes Descending","likes_count desc"],["Followers Ascending","followers_count asc"],["Followers Descending","followers_count desc"]],e.isFiltersPresent=function(){return e.searchFilter.skills.length||e.searchFilter.software_items.length||e.searchQuery.length||e.searchFilter.city.length||e.searchFilter.country||!(e.searchFilter.available_freelance&&e.searchFilter.available_contract&&e.searchFilter.available_full_time)},p=function(i,n){var s;return null==i&&(i=1),null==n&&(n=!1),s=e.searchQuery||"",a.search("q",e.searchQuery),s.length<3&&(s=""),e.storeClientData(),!e.showLoadingIcon||n?(1===i&&(e.searchResults=[]),e.showLoadingIcon=!0,t.searchUsers({q:s,user:e.searchFilter,page:i,order:e.searchOrder,direction:e.searchDirection}).then(function(t){return e.totalCount=t.total_count,e.usersCount=t.users_count||t.total_count,e.page=i,e.searchResults=1===i?t.data:e.searchResults.concat(t.data),e.showLoadingIcon=!1})):void 0},g=_.debounce(p,250),e.loadMore=function(){return e.showLoadingIcon||e.searchResults.length>=e.totalCount?void 0:p(e.page+1)},e.storeClientData=function(){return n.put("searchData",{searchQuery:e.searchQuery,searchFilter:e.searchFilter,searchOrder:e.searchOrder,searchDirection:e.searchDirection})},d=function(){var t;return e.showLoadingIcon=!0,t=n.get("searchData")||{},e.searchQuery=s.q||t.searchQuery||"",e.searchFilter=$.extend({},t.searchFilter||e.defaultFilter),void 0===e.searchFilter.show_pro_first&&(e.searchFilter.show_pro_first=!0),e.searchOrder=t.searchOrder||e.defaultOrder,e.searchDirection=t.searchDirection||e.defaultDirection,e.sortBy=e.searchOrder+" "+e.searchDirection,r(function(){return $(".country-select").val(e.searchFilter.country).trigger("change"),$(".order-select").val(e.sortBy).trigger("change"),p(1,!0)})},e.resetSearch=function(){return e.searchQuery="",e.searchFilter=$.extend({},e.defaultFilter),e.searchOrder=e.defaultOrder,e.sortBy=e.searchOrder+" "+e.searchDirection,e.searchDirection=e.defaultDirection,e.storeClientData(),r(function(){return $(".country-select").trigger("change"),$(".order-select").trigger("change")})},e.setOrder=function(){var t;return t=e.sortBy.split(" "),e.searchOrder=t[0],e.searchDirection=t[1],p()},m=c("unescapeHTML"),u=function(t){return t.select2({multiple:!0,minimumInputLength:2,placeholder:t.data("prompt-text"),ajax:{url:t.data("autocomplete-url"),dataType:"json",quietMillis:250,data:function(e){return{q:e.term}},processResults:function(e){var t;return t=e.map(function(e){return{id:e.id,text:m(e.name).toString()}}),{results:t}},cache:!0}}),t.parents(".form-group").on("keyup","input.select2-input",function(e){return 13===e.keyCode&&$(this).val()?(self.addElement("",$(this).val()),$("#select2-drop-mask").click()):void 0}),t.on("select2:select",function(i){var n,s;return t.val()?(n=i.params.data,s=n.text,t.select2("val",null),t.hasClass("skills-filter-input")?e.searchFilter.skills.push(s):e.searchFilter.software_items.push(s),e.$apply()):void 0})},e.removeSkill=function(t){var i;return i=e.searchFilter.skills.indexOf(t),i>-1?e.searchFilter.skills.splice(i,1):void 0},e.removeSoftware=function(t){var i;return i=e.searchFilter.software_items.indexOf(t),i>-1?e.searchFilter.software_items.splice(i,1):void 0},e.currentUser=l,e.searchResults=[],e.defaultOrder="likes_count",e.defaultDirection="desc",e.defaultFilter={available_full_time:!0,available_freelance:!0,available_contract:!0,likes_count:0,followers_count:0,skills:[],software_items:[],country:null,city:"",show_pro_first:!0},e.page=1,d(),e.$watch("searchFilter",function(e,t){return e!==t?g():void 0},!0),e.$watch("searchQuery",function(e,t){return e!==t?g():void 0},!0),e.$watch("sortBy",function(t,i){return t!==i?e.setOrder():void 0},!0),e.$on("$locationChangeSuccess",function(){return e.searchQuery!==s.q?r(function(){return e.searchQuery=s.q}):void 0},!0),u($(".skills-filter-input")),u($(".software-filter-input"))}])}.call(this),function(){window.app.controller("StreamsShowController",["$scope","$routeParams","$timeout","$location","$sce","CurrentUser","TwitchStreamsRepository","UsersRepository",function(e,t,i,n,s,a,r,o){var l,c,d;return e.close=function(){return n.url("/artwork?sorting=streams")},e.next=function(){return e.stream.next_id?n.url("/streams/"+e.stream.next_id):void 0},e.previous=function(){return e.stream.prev_id?n.url("/streams/"+e.stream.prev_id):void 0},l=function(){return function(){var e,t,i,n,s,a,r;return e=$("[data-fitvids=true]"),ResponsiveHelper.desktopAndAbove()?(t=1.778,s=$(window).height()-$("#main-nav").height(),a=$(".artwork-container").width(),a/s>t?(r=t*s,i=0):(r="100%",n=a/t,i=(s-n)/2)):(r="100%",i=0),e.css("width",r),e.css("margin-top",i)}(this),function(){var e,t,i;return ResponsiveHelper.desktopAndAbove()?(i=$(".artwork-info-container").height(),t=$(".artwork-info").outerHeight(),t+=$(".more-artworks").outerHeight(),e=i-t,$(".twitch-chat").height(e)):$(".twitch-chat").height(500)}(this)},c=_.debounce(l,100),d=function(){return e.currentUser=a,r.read(t.stream_id).then(function(t){return e.stream=t.data,e.stream.embed_url=s.trustAsResourceUrl(e.stream.embed_url),e.stream.chat_embed_url=s.trustAsResourceUrl(e.stream.chat_embed_url),i(function(){$("[data-fitvids=true]").fitVids(),l()}),o.readRandomProjects(e.stream.user.username,null).then(function(t){return e.moreProjectsByUser=t.data})})},d(),Track.pageView(),angular.element(document).ready(function(){return c()}),e.$watch(function(){return c()}),$(window).on("resize.twitch-stream",c),$(document).on("keydown",function(t){var n;return n=t.target.type,"textarea"!==n&&"search"!==n&&"text"!==n&&(27===t.keyCode&&i(function(){return e.close()}),37===t.keyCode&&i(function(){return e.previous()}),39===t.keyCode)?i(function(){return e.next()}):void 0}),e.$on("$destroy",function(){return $(window).off("resize.twitch-stream"),$(document).off("keydown")})}])}.call(this),function(){app.factory("embedder",function(){var e;return e=[{getId:function(e){var t,i;return i=/(youtu\.be\/|youtube\.com\/(watch\?(.*&)?v=|(embed|v)\/))([^\?&"'>]+)/,t=e.match(i),t&&11===t[5].length?t[5]:void 0},frame:'<iframe width="500" height="281" src="//www.youtube.com/embed/{{id}}?rel=0" frameborder="0" allowfullscreen></iframe>',regexp:/(youtube.com|youtu.be)/i},{getId:function(e){var t,i;return i=/(www\.)?vimeo.com\/(\d+)($|\/)/,t=e.match(i),t?t[2]:void 0},frame:'<iframe src="//player.vimeo.com/video/{{id}}" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',regexp:/(vimeo.com)/i},{getId:function(e){var t,i;return i=/(www\.)?sketchfab\.com\/models\/([\d\w]+)/,t=e.match(i),t?t[2]:void 0},frame:'<iframe src="//sketchfab.com/models/{{id}}/embed" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',regexp:/(sketchfab\.com)/i}],function(t){var i,n;return n=void 0,angular.forEach(e,function(e){var i;return i=t.match(e.regexp),i&&i[1]?n=e:void 0}),n?(i=n.getId(t),n.frame.replace(/({{id}})/,i)):void 0}})}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("contests/challenges/show-ru.html",'<div class="container"><div class="separator"></div><support-artstation-please asset-size="large" ng-if="challenge.show_ads"></support-artstation-please><challenge-show-header challenge="challenge" contest="contest"></challenge-show-header><div class="separator-lg"></div><challenge-show-navigation action="action" challenge="challenge" contest="contest"></challenge-show-navigation><challenge-briefing challenge="challenge" contest="contest" ng-if="action == &#39;briefing&#39; &amp;&amp; challenge"></challenge-briefing><challenge-announcements challenge="challenge" contest="contest" ng-if="action == &#39;announcements&#39; &amp;&amp; challenge &amp;&amp; showAnnouncements"></challenge-announcements><challenge-submissions challenge="challenge" contest="contest" ng-if="action == &#39;submissions&#39; &amp;&amp; challenge &amp;&amp; showSubmissions &amp;&amp; !challenge.completed"></challenge-submissions><challenge-winners challenge="challenge" contest="contest" ng-if="action == &#39;submissions&#39; &amp;&amp; challenge &amp;&amp; showSubmissions &amp;&amp; challenge.completed"></challenge-winners><challenge-streams challenge="challenge" contest="contest" ng-if="action == &#39;streams&#39; &amp;&amp; challenge &amp;&amp; !challenge.is_private &amp;&amp; !challenge.completed"></challenge-streams><div class="row" ng-if="action == &#39;terms&#39; &amp;&amp; challenge"><div class="col-md-8 col-md-offset-2"><h3 class="text-center">Challenge Legal Terms</h3><div class="separator"></div><div ng-bind-html="challenge.legal_presentation_html | trustAsHtml"></div></div></div></div>'),e.put("contests/challenges/show-en.html",'<div class="container"><div class="separator"></div><support-artstation-please asset-size="large" ng-if="challenge.show_ads"></support-artstation-please><challenge-show-header challenge="challenge" contest="contest"></challenge-show-header><div class="separator-lg"></div><challenge-show-navigation action="action" challenge="challenge" contest="contest"></challenge-show-navigation><challenge-briefing challenge="challenge" contest="contest" ng-if="action == &#39;briefing&#39; &amp;&amp; challenge"></challenge-briefing><challenge-announcements challenge="challenge" contest="contest" ng-if="action == &#39;announcements&#39; &amp;&amp; challenge &amp;&amp; showAnnouncements"></challenge-announcements><challenge-submissions challenge="challenge" contest="contest" ng-if="action == &#39;submissions&#39; &amp;&amp; challenge &amp;&amp; showSubmissions &amp;&amp; !challenge.completed"></challenge-submissions><challenge-winners challenge="challenge" contest="contest" ng-if="action == &#39;submissions&#39; &amp;&amp; challenge &amp;&amp; showSubmissions &amp;&amp; challenge.completed"></challenge-winners><challenge-streams challenge="challenge" contest="contest" ng-if="action == &#39;streams&#39; &amp;&amp; challenge &amp;&amp; !challenge.is_private &amp;&amp; !challenge.completed"></challenge-streams><div class="row" ng-if="action == &#39;terms&#39; &amp;&amp; challenge"><div class="col-md-8 col-md-offset-2"><h3 class="text-center">Challenge Legal Terms</h3><div class="separator"></div><div ng-bind-html="challenge.legal_presentation_html | trustAsHtml"></div></div></div></div>'),e.put("contests/challenges/show.html",e.get("contests/challenges/show-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/contests/archive-ru.html",'<div class="separator"></div><support-artstation-please asset-size="large"></support-artstation-please><div class="page-header"><h1>\u041f\u0440\u043e\u0448\u0435\u0434\u0448\u0438\u0435 \u0442\u0443\u0440\u043d\u0438\u0440\u044b</h1><div class="text-center"><a href="/contests">Current Challenges</a></div></div><div class="container"><div ng-repeat="contest in contests"><h2 class="single-text">{{contest.title}}</h2><div class="challenges-index"><div class="thumbnail challenge" ng-repeat="challenge in contest.challenges"><div class="challenge-thumbnail"><div class="overlay"><a class="hitzone" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}"><div class="btn btn-primary">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0442\u0443\u0440\u043d\u0438\u0440\u0430</div></a></div><img ng-src="{{ challenge.image_medium_wide_url }}" /></div><div class="caption"><h4><a ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}">{{ challenge.contest.title }} - {{ challenge.title }}</a></h4><p><i class="fa fa-calendar fa-pad-right"></i>{{ challenge.submission_updates_start_at | date: \'dd MMMM yyyy\' }} - {{ challenge.judging_start_at | date: \'dd MMMM yyyy\' }}<br /><i class="fa fa-users fa-pad-right"></i>{{ challenge.active_submissions_count }} challengers</p><div class="btn-toolbar"><div class="btn-group"><a class="btn btn-default btn-sm" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}"><i class="fa fa-pad-right fa-arrow-right"></i>\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c</a></div><div class="btn-group" ng-if="challenge.my_submission_id"><a class="btn btn-success btn-sm" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/submissions/{{ challenge.my_submission_id }}">\u041c\u043e\u044f \u0440\u0430\u0431\u043e\u0442\u0430</a></div><div class="btn-group" ng-if="canEdit"><a class="btn btn-default btn-sm" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/edit" target="_self"><i class="fa fa-pad-right fa-pencil"></i>\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a></div></div></div></div></div><div class="separator"></div></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner></div>'),e.put("contests/contests/archive-en.html",'<div class="separator"></div><support-artstation-please asset-size="large"></support-artstation-please><div class="page-header"><h1>Past Challenges</h1><div class="text-center"><a href="/contests">Current Challenges</a></div></div><div class="container"><div ng-repeat="contest in contests"><h2 class="single-text">{{contest.title}}</h2><div class="challenges-index"><div class="thumbnail challenge" ng-repeat="challenge in contest.challenges"><div class="challenge-thumbnail"><div class="overlay"><a class="hitzone" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}"><div class="btn btn-primary">View Challenge</div></a></div><img ng-src="{{ challenge.image_medium_wide_url }}" /></div><div class="caption"><h4><a ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}">{{ challenge.contest.title }} - {{ challenge.title }}</a></h4><p><i class="fa fa-calendar fa-pad-right"></i>{{ challenge.submission_updates_start_at | date: \'dd MMMM yyyy\' }} - {{ challenge.judging_start_at | date: \'dd MMMM yyyy\' }}<br /><i class="fa fa-users fa-pad-right"></i>{{ challenge.active_submissions_count }} challengers</p><div class="btn-toolbar"><div class="btn-group"><a class="btn btn-default btn-sm" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}"><i class="fa fa-pad-right fa-arrow-right"></i>View</a></div><div class="btn-group" ng-if="challenge.my_submission_id"><a class="btn btn-success btn-sm" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/submissions/{{ challenge.my_submission_id }}">My Submission</a></div><div class="btn-group" ng-if="canEdit"><a class="btn btn-default btn-sm" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/edit" target="_self"><i class="fa fa-pad-right fa-pencil"></i>Edit</a></div></div></div></div></div><div class="separator"></div></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner></div>'),e.put("contests/contests/archive.html",e.get("contests/contests/archive-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/contests/index-ru.html",'<div class="separator"></div><support-artstation-please asset-size="large"></support-artstation-please><div class="page-header"><h1>Challenges<small><p>Epic art competitions on ArtStation</p></small></h1><div class="text-center" ng-if="showArchivedContestsLink"><a href="/contests/archive">\u041f\u0440\u043e\u0448\u0435\u0434\u0448\u0438\u0435 \u0442\u0443\u0440\u043d\u0438\u0440\u044b</a></div></div><div class="container"><div class="challenges-index"><div class="thumbnail challenge" ng-repeat="challenge in challenges"><div class="challenge-thumbnail"><div class="overlay"><a class="hitzone" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}"><div class="btn btn-primary">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0442\u0443\u0440\u043d\u0438\u0440\u0430</div></a></div><img ng-src="{{ challenge.image_medium_wide_url }}" /></div><div class="caption"><h4><a ng-bind-html="challenge.contest.title + &#39; - &#39; + challenge.title" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}"></a></h4><p><i class="fa fa-calendar fa-pad-right"></i>{{ challenge.startAtUtc | moment: \'DD MMMM YYYY\' }} - {{ challenge.endAtUtc | moment: \'DD MMMM YYYY\' }}<br /><i class="fa fa-users fa-pad-right"></i>{{ challenge.active_submissions_count }} challengers</p><div class="btn-toolbar"><div class="btn-group"><a class="btn btn-default btn-sm" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}"><i class="fa fa-pad-right fa-arrow-right"></i><span ng-if="challenge.completed &amp;&amp; !challenge.is_private">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u0435\u0439</span><span ng-if="!challenge.completed || challenge.is_private">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c</span></a></div><div class="btn-group" ng-if="challenge.my_submission_id"><a class="btn btn-success btn-sm" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/submissions/{{ challenge.my_submission_id }}">\u041c\u043e\u044f \u0440\u0430\u0431\u043e\u0442\u0430</a></div><div class="separator-sm" ng-if="challenge.my_submission_id &amp;&amp; (challenge.canEdit || challenge.canJudge)"></div><div class="btn-group" ng-if="challenge.canEdit"><a class="btn btn-default btn-sm" href="{{ challenge.editPath }}" target="_self"><i class="fa fa-pad-right fa-pencil"></i>\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a></div><div class="btn-group" ng-if="challenge.canJudge"><a class="btn btn-default btn-sm" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging"><i class="fa fa-pad-right fa-pencil"></i>Judging</a></div></div></div></div></div></div><div class="separator"></div><div ng-if="streamingCollection.items.length &gt; 0"><div class="single-text"><h2>Live Twitch Streams</h2></div><div class="separator"></div><div class="container"><div class="challenge-submissions" infinite-scroll="loadMoreStreamings()" infinite-scroll-distance="1"><div class="thumbnail challenge-submission" ng-repeat="submission in streamingCollection.items"><div class="challenge-submission-thumbnail"><div class="overlay"><a class="hitzone" ng-href="/contests/{{ getChallengeData(submission.challenge_id).contest.slug }}/challenges/{{ submission.challenge_id }}/submissions/{{ submission.id }}"><div class="btn btn-primary">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443</div></a></div><img ng-if="submission.twitch_preview_url" ng-src="{{ submission.twitch_preview_url }}" /><img ng-if="!submission.twitch_preview_url" ng-src="/assets/placeholders/challenge.jpg" /></div><div class="caption challenger"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="submission.user.full_name" ng-href="/{{ submission.user.username }}"></a><a class="pro-badge" href="/pro" ng-if="submission.user.pro_member" target="_top">PRO</a><a class="host-badge" ng-if="isHost(submission.challenge_id, submission.user.id)" target="_top">HOST</a><div class="staff-badge" ng-if="submission.user.is_staff">STAFF</div><div class="headline" ng-bind-html="submission.user.headline"></div><div class="location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="submission.user.location"></span></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><i class="fa fa-comments fa-pad-right"></i>{{ submission.activity_count }}</div></div></div></div></div><loading-spinner ng-show="showLoadingStreamingIcon"></loading-spinner></div><div class="separator"></div></div><div class="single-text"><h2>Submissions</h2></div><div class="text-center"><ul class="link-bar"><li><a href="" ng-class="{active: isSortingSelected(&#39;latest&#39;)}" ng-click="setSorting(&#39;latest&#39;)">\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435</a></li><li><a href="" ng-class="{active: isSortingSelected(&#39;popular&#39;)}" ng-click="setSorting(&#39;popular&#39;)">\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435</a></li><li ng-if="user_logged_in"><a href="" ng-class="{active: isSortingSelected(&#39;following&#39;)}" ng-click="setSorting(&#39;following&#39;)">\u041c\u043e\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438</a></li></ul></div><div class="separator"></div><div class="text-center" ng-if="submissionCollection.items.length == 0"><div class="separator"></div><p class="lead">There are currently no submissions</p><div class="separator"></div></div><div class="container"><div class="challenge-submissions" infinite-scroll="loadMoreWithSorting()" infinite-scroll-distance="1"><div class="thumbnail challenge-submission" ng-repeat="submission in submissionCollection.items"><div class="challenge-submission-thumbnail"><div class="overlay"><a class="hitzone" ng-href="/contests/{{ getChallengeData(submission.challenge_id).contest.slug }}/challenges/{{ submission.challenge_id }}/submissions/{{ submission.id }}?sorting={{ sorting }}_all"><div class="btn btn-primary">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443</div></a></div><img ng-src="{{ submission.cover_image_url }}" /></div><div class="caption challenge-title"><a ng-bind-html="getChallengeData(submission.challenge_id).contest.title + &#39; - &#39; + getChallengeData(submission.challenge_id).title" ng-href="/contests/{{ getChallengeData(submission.challenge_id).contest.slug }}/challenges/{{ submission.challenge_id }}"></a></div><div class="caption challenger"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-href="/{{ submission.user.username }}">{{ submission.user.full_name | unescapeHTML }}<a class="pro-badge smaller" href="/pro" ng-if="submission.user.pro_member" target="_top">PRO</a><a class="host-badge smaller" ng-if="isHost(submission.challenge_id, submission.user.id)" target="_top">HOST</a><div class="staff-badge smaller" ng-if="submission.user.is_staff">STAFF</div></a><div class="headline" ng-bind-html="submission.user.headline"></div><div class="location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="submission.user.location"></span></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><i class="fa fa-comments fa-pad-right"></i>{{ submission.activity_count }}</div></div></div></div></div><loading-spinner ng-show="showLoadingWithSortingIcon"></loading-spinner></div>'),e.put("contests/contests/index-en.html",'<div class="separator"></div><support-artstation-please asset-size="large"></support-artstation-please><div class="page-header"><h1>Challenges<small><p>Epic art competitions on ArtStation</p></small></h1><div class="text-center" ng-if="showArchivedContestsLink"><a href="/contests/archive">Past Challenges</a></div></div><div class="container"><div class="challenges-index"><div class="thumbnail challenge" ng-repeat="challenge in challenges"><div class="challenge-thumbnail"><div class="overlay"><a class="hitzone" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}"><div class="btn btn-primary">View Challenge</div></a></div><img ng-src="{{ challenge.image_medium_wide_url }}" /></div><div class="caption"><h4><a ng-bind-html="challenge.contest.title + &#39; - &#39; + challenge.title" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}"></a></h4><p><i class="fa fa-calendar fa-pad-right"></i>{{ challenge.startAtUtc | moment: \'DD MMMM YYYY\' }} - {{ challenge.endAtUtc | moment: \'DD MMMM YYYY\' }}<br /><i class="fa fa-users fa-pad-right"></i>{{ challenge.active_submissions_count }} challengers</p><div class="btn-toolbar"><div class="btn-group"><a class="btn btn-default btn-sm" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}"><i class="fa fa-pad-right fa-arrow-right"></i><span ng-if="challenge.completed &amp;&amp; !challenge.is_private">View Winners</span><span ng-if="!challenge.completed || challenge.is_private">View</span></a></div><div class="btn-group" ng-if="challenge.my_submission_id"><a class="btn btn-success btn-sm" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/submissions/{{ challenge.my_submission_id }}">My Submission</a></div><div class="separator-sm" ng-if="challenge.my_submission_id &amp;&amp; (challenge.canEdit || challenge.canJudge)"></div><div class="btn-group" ng-if="challenge.canEdit"><a class="btn btn-default btn-sm" href="{{ challenge.editPath }}" target="_self"><i class="fa fa-pad-right fa-pencil"></i>Edit</a></div><div class="btn-group" ng-if="challenge.canJudge"><a class="btn btn-default btn-sm" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging"><i class="fa fa-pad-right fa-pencil"></i>Judging</a></div></div></div></div></div></div><div class="separator"></div><div ng-if="streamingCollection.items.length &gt; 0"><div class="single-text"><h2>Live Twitch Streams</h2></div><div class="separator"></div><div class="container"><div class="challenge-submissions" infinite-scroll="loadMoreStreamings()" infinite-scroll-distance="1"><div class="thumbnail challenge-submission" ng-repeat="submission in streamingCollection.items"><div class="challenge-submission-thumbnail"><div class="overlay"><a class="hitzone" ng-href="/contests/{{ getChallengeData(submission.challenge_id).contest.slug }}/challenges/{{ submission.challenge_id }}/submissions/{{ submission.id }}"><div class="btn btn-primary">View Submission</div></a></div><img ng-if="submission.twitch_preview_url" ng-src="{{ submission.twitch_preview_url }}" /><img ng-if="!submission.twitch_preview_url" ng-src="/assets/placeholders/challenge.jpg" /></div><div class="caption challenger"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="submission.user.full_name" ng-href="/{{ submission.user.username }}"></a><a class="pro-badge" href="/pro" ng-if="submission.user.pro_member" target="_top">PRO</a><a class="host-badge" ng-if="isHost(submission.challenge_id, submission.user.id)" target="_top">HOST</a><div class="staff-badge" ng-if="submission.user.is_staff">STAFF</div><div class="headline" ng-bind-html="submission.user.headline"></div><div class="location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="submission.user.location"></span></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><i class="fa fa-comments fa-pad-right"></i>{{ submission.activity_count }}</div></div></div></div></div><loading-spinner ng-show="showLoadingStreamingIcon"></loading-spinner></div><div class="separator"></div></div><div class="single-text"><h2>Submissions</h2></div><div class="text-center"><ul class="link-bar"><li><a href="" ng-class="{active: isSortingSelected(&#39;latest&#39;)}" ng-click="setSorting(&#39;latest&#39;)">Latest Updates</a></li><li><a href="" ng-class="{active: isSortingSelected(&#39;popular&#39;)}" ng-click="setSorting(&#39;popular&#39;)">Popular</a></li><li ng-if="user_logged_in"><a href="" ng-class="{active: isSortingSelected(&#39;following&#39;)}" ng-click="setSorting(&#39;following&#39;)">Following</a></li></ul></div><div class="separator"></div><div class="text-center" ng-if="submissionCollection.items.length == 0"><div class="separator"></div><p class="lead">There are currently no submissions</p><div class="separator"></div></div><div class="container"><div class="challenge-submissions" infinite-scroll="loadMoreWithSorting()" infinite-scroll-distance="1"><div class="thumbnail challenge-submission" ng-repeat="submission in submissionCollection.items"><div class="challenge-submission-thumbnail"><div class="overlay"><a class="hitzone" ng-href="/contests/{{ getChallengeData(submission.challenge_id).contest.slug }}/challenges/{{ submission.challenge_id }}/submissions/{{ submission.id }}?sorting={{ sorting }}_all"><div class="btn btn-primary">View Submission</div></a></div><img ng-src="{{ submission.cover_image_url }}" /></div><div class="caption challenge-title"><a ng-bind-html="getChallengeData(submission.challenge_id).contest.title + &#39; - &#39; + getChallengeData(submission.challenge_id).title" ng-href="/contests/{{ getChallengeData(submission.challenge_id).contest.slug }}/challenges/{{ submission.challenge_id }}"></a></div><div class="caption challenger"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-href="/{{ submission.user.username }}">{{ submission.user.full_name | unescapeHTML }}<a class="pro-badge smaller" href="/pro" ng-if="submission.user.pro_member" target="_top">PRO</a><a class="host-badge smaller" ng-if="isHost(submission.challenge_id, submission.user.id)" target="_top">HOST</a><div class="staff-badge smaller" ng-if="submission.user.is_staff">STAFF</div></a><div class="headline" ng-bind-html="submission.user.headline"></div><div class="location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="submission.user.location"></span></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><i class="fa fa-comments fa-pad-right"></i>{{ submission.activity_count }}</div></div></div></div></div><loading-spinner ng-show="showLoadingWithSortingIcon"></loading-spinner></div>'),e.put("contests/contests/index.html",e.get("contests/contests/index-en.html"))
}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/contests/show-ru.html",'<div class="container"><div class="row"><div class="col-md-8 col-md-offset-2"><div class="page-header"><h1><small><a ng-href="/contests">ArtStation Challenges</a></small>{{ contest.title }}</h1></div></div></div><div class="row"><div class="col-md-8 col-md-offset-2"><div class="challenges"><challenge-card challenge="challenge" ng-repeat="challenge in challenges"></challenge-card></div></div></div></div>'),e.put("contests/contests/show-en.html",'<div class="container"><div class="row"><div class="col-md-8 col-md-offset-2"><div class="page-header"><h1><small><a ng-href="/contests">ArtStation Challenges</a></small>{{ contest.title }}</h1></div></div></div><div class="row"><div class="col-md-8 col-md-offset-2"><div class="challenges"><challenge-card challenge="challenge" ng-repeat="challenge in challenges"></challenge-card></div></div></div></div>'),e.put("contests/contests/show.html",e.get("contests/contests/show-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/directives/challenge_announcement-ru.html",'<div class="discussion-post" id="challenge-announcement-{{ challengeAnnouncement.id }}"><div class="discussion-post-user"><a class="avatar" href="" ng-href="{{ challengeAnnouncement.user.permalink }}"><img ng-src="{{ challengeAnnouncement.user.large_avatar_url }}" /></a><div class="name"><a href="" ng-bind-html="challengeAnnouncement.user.full_name" ng-href="{{ challengeAnnouncement.user.permalink }}"></a><a class="pro-badge smaller" href="/pro" ng-if="challengeAnnouncement.user.pro_member" target="_top">PRO</a><a class="host-badge smaller" ng-if="isHost()" target="_top">HOST</a><div class="staff-badge smaller" ng-if="challengeAnnouncement.user.is_staff">STAFF</div></div><div class="headline" ng-bind-html="challengeAnnouncement.user.headline"></div><div class="location"><i class="fa fa-map-marker fa-pad-right"></i><span ng-bind-html="challengeAnnouncement.user.location"></span></div></div><div class="discussion-post-body"><div class="panel panel-default" ng-if="!editing"><div class="panel-heading">\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043e {{ challengeAnnouncement.published_at | fromNow }}<div class="btn-group pull-right" ng-if="currentUser &amp;&amp; belongsToCurrentUser()"><a class="dropdown-toggle btn btn-default btn-xs" data-toggle="dropdown" href=""><i class="fa fa-chevron-down"></i></a><ul class="dropdown-menu dropdown-menu-right dropdown-menu-sm"><li ng-if="belongsToCurrentUser()"><a ng-href="/contests/{{challenge.contest.slug}}/challenges/{{challenge.id}}/manage-announcements/{{challengeAnnouncement.id}}/edit" target="_self">Edit</a></li></ul></div></div><div class="panel-body"><div class="post-user-mobile"><a class="avatar" href="" ng-href="{{ challengeAnnouncement.user.permalink }}"><img ng-src="{{ challengeAnnouncement.user.medium_avatar_url }}" /></a><div class="user-info"><a class="name" href="" ng-bind-html="challengeAnnouncement.user.full_name" ng-href="{{ challengeAnnouncement.user.permalink }}"></a><div class="headline" ng-bind-html="challengeAnnouncement.user.headline"></div></div></div><h4 ng-bind-html="challengeAnnouncement.title | trustAsHtml" ng-if="challengeAnnouncement.title"></h4><div as-light-box="" class="post-content" ng-bind-html="challengeAnnouncement.body_presentation_html | trustAsHtml"></div><div class="edited-notice" ng-if="challengeAnnouncement.edited_at"><div class="separator"></div><i>Edited {{ challengeAnnouncement.edited_at | fromNow }}</i></div><ul class="post-actions"><li><a href="" ng-authorized-click="toggleLike()" ng-if="!challengeAnnouncement.liked">Like</a><a class="liked" href="" ng-click="toggleLike()" ng-if="challengeAnnouncement.liked"><i class="fa fa-check fa-pad-right"></i>Liked</a></li><li><as-likes hide-likes-list="!canSeeLikes" votable="challengeAnnouncement" votable-type="ChallengeAnnouncement"></as-likes></li><li ng-if="canReply"><a href="" ng-authorized-artist-click="reply()">Reply</a></li></ul></div></div><p class="text-center" ng-if="challengeAnnouncement.replies_count &gt; preloadedRepliesCount"><a class="load-more-comments" href="#" ng-click="loadMoreReplies()"><i class="fa fa-angle-up fa-pad-right"></i><span ng-show="!loadingReplies">Load more replies ({{challengeAnnouncement.replies_count - preloadedRepliesCount}})</span><span ng-show="loadingReplies">Loading..</span><i class="fa fa-angle-up fa-pad-left"></i></a></p><discussion-post allow-nested-reply="false" challenge="challenge" disable-comment="!canReply" discussion-post="reply" hide-likes-list="!canSeeLikes" ng-repeat="reply in challengeAnnouncement.replies"></discussion-post><div class="discussion-post discussion-nested-reply" ng-if="replying"><div class="discussion-post-user"><a class="avatar" href="" ng-href="/{{ currentUser.username }}"><img ng-src="{{ currentUser.avatar_url }}" /></a><a class="name" href="" ng-bind-html="currentUser.full_name" ng-href="/{{ currentUser.username }}"></a></div><div class="discussion-post-body"><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title">Post a reply</h4></div><discussion-post-form current-user="currentUser" discussable-id="{{ challengeAnnouncement.id }}" discussable-type="ChallengeAnnouncement"></discussion-post-form></div></div></div></div></div>'),e.put("contests/directives/challenge_announcement-en.html",'<div class="discussion-post" id="challenge-announcement-{{ challengeAnnouncement.id }}"><div class="discussion-post-user"><a class="avatar" href="" ng-href="{{ challengeAnnouncement.user.permalink }}"><img ng-src="{{ challengeAnnouncement.user.large_avatar_url }}" /></a><div class="name"><a href="" ng-bind-html="challengeAnnouncement.user.full_name" ng-href="{{ challengeAnnouncement.user.permalink }}"></a><a class="pro-badge smaller" href="/pro" ng-if="challengeAnnouncement.user.pro_member" target="_top">PRO</a><a class="host-badge smaller" ng-if="isHost()" target="_top">HOST</a><div class="staff-badge smaller" ng-if="challengeAnnouncement.user.is_staff">STAFF</div></div><div class="headline" ng-bind-html="challengeAnnouncement.user.headline"></div><div class="location"><i class="fa fa-map-marker fa-pad-right"></i><span ng-bind-html="challengeAnnouncement.user.location"></span></div></div><div class="discussion-post-body"><div class="panel panel-default" ng-if="!editing"><div class="panel-heading">Posted {{ challengeAnnouncement.published_at | fromNow }}<div class="btn-group pull-right" ng-if="currentUser &amp;&amp; belongsToCurrentUser()"><a class="dropdown-toggle btn btn-default btn-xs" data-toggle="dropdown" href=""><i class="fa fa-chevron-down"></i></a><ul class="dropdown-menu dropdown-menu-right dropdown-menu-sm"><li ng-if="belongsToCurrentUser()"><a ng-href="/contests/{{challenge.contest.slug}}/challenges/{{challenge.id}}/manage-announcements/{{challengeAnnouncement.id}}/edit" target="_self">Edit</a></li></ul></div></div><div class="panel-body"><div class="post-user-mobile"><a class="avatar" href="" ng-href="{{ challengeAnnouncement.user.permalink }}"><img ng-src="{{ challengeAnnouncement.user.medium_avatar_url }}" /></a><div class="user-info"><a class="name" href="" ng-bind-html="challengeAnnouncement.user.full_name" ng-href="{{ challengeAnnouncement.user.permalink }}"></a><div class="headline" ng-bind-html="challengeAnnouncement.user.headline"></div></div></div><h4 ng-bind-html="challengeAnnouncement.title | trustAsHtml" ng-if="challengeAnnouncement.title"></h4><div as-light-box="" class="post-content" ng-bind-html="challengeAnnouncement.body_presentation_html | trustAsHtml"></div><div class="edited-notice" ng-if="challengeAnnouncement.edited_at"><div class="separator"></div><i>Edited {{ challengeAnnouncement.edited_at | fromNow }}</i></div><ul class="post-actions"><li><a href="" ng-authorized-click="toggleLike()" ng-if="!challengeAnnouncement.liked">Like</a><a class="liked" href="" ng-click="toggleLike()" ng-if="challengeAnnouncement.liked"><i class="fa fa-check fa-pad-right"></i>Liked</a></li><li><as-likes hide-likes-list="!canSeeLikes" votable="challengeAnnouncement" votable-type="ChallengeAnnouncement"></as-likes></li><li ng-if="canReply"><a href="" ng-authorized-artist-click="reply()">Reply</a></li></ul></div></div><p class="text-center" ng-if="challengeAnnouncement.replies_count &gt; preloadedRepliesCount"><a class="load-more-comments" href="#" ng-click="loadMoreReplies()"><i class="fa fa-angle-up fa-pad-right"></i><span ng-show="!loadingReplies">Load more replies ({{challengeAnnouncement.replies_count - preloadedRepliesCount}})</span><span ng-show="loadingReplies">Loading..</span><i class="fa fa-angle-up fa-pad-left"></i></a></p><discussion-post allow-nested-reply="false" challenge="challenge" disable-comment="!canReply" discussion-post="reply" hide-likes-list="!canSeeLikes" ng-repeat="reply in challengeAnnouncement.replies"></discussion-post><div class="discussion-post discussion-nested-reply" ng-if="replying"><div class="discussion-post-user"><a class="avatar" href="" ng-href="/{{ currentUser.username }}"><img ng-src="{{ currentUser.avatar_url }}" /></a><a class="name" href="" ng-bind-html="currentUser.full_name" ng-href="/{{ currentUser.username }}"></a></div><div class="discussion-post-body"><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title">Post a reply</h4></div><discussion-post-form current-user="currentUser" discussable-id="{{ challengeAnnouncement.id }}" discussable-type="ChallengeAnnouncement"></discussion-post-form></div></div></div></div></div>'),e.put("contests/directives/challenge_announcement.html",e.get("contests/directives/challenge_announcement-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/directives/challenge_announcements-ru.html",'<div class="row"><div class="col-md-10 col-md-offset-1"><p class="text-center" ng-if="challengeAnnouncements.items.length == 0 &amp;&amp; !showLoadingIcon">There are currently no announcements.<br />Challenge participants are emailed when there are new announcements.</p><div class="wrapper announcement-options" ng-show="isHost()"><a class="btn btn-default" href="/contests/{{contest.slug}}/challenges/{{challenge.id}}/manage-announcements/new" target="_top"><i class="fa fa-pad-right fa-bullhorn"></i>New Announcement</a></div><div infinite-scroll="loadMoreChallengeAnnouncements()" infinite-scroll-distance="1"><challenge-announcement challenge="challenge" challenge-announcement="challengeAnnouncement" contest="contest" ng-repeat="challengeAnnouncement in challengeAnnouncements.items"></challenge-announcement></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner></div></div><abuse-report-modal ng-if="currentUser"></abuse-report-modal>'),e.put("contests/directives/challenge_announcements-en.html",'<div class="row"><div class="col-md-10 col-md-offset-1"><p class="text-center" ng-if="challengeAnnouncements.items.length == 0 &amp;&amp; !showLoadingIcon">There are currently no announcements.<br />Challenge participants are emailed when there are new announcements.</p><div class="wrapper announcement-options" ng-show="isHost()"><a class="btn btn-default" href="/contests/{{contest.slug}}/challenges/{{challenge.id}}/manage-announcements/new" target="_top"><i class="fa fa-pad-right fa-bullhorn"></i>New Announcement</a></div><div infinite-scroll="loadMoreChallengeAnnouncements()" infinite-scroll-distance="1"><challenge-announcement challenge="challenge" challenge-announcement="challengeAnnouncement" contest="contest" ng-repeat="challengeAnnouncement in challengeAnnouncements.items"></challenge-announcement></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner></div></div><abuse-report-modal ng-if="currentUser"></abuse-report-modal>'),e.put("contests/directives/challenge_announcements.html",e.get("contests/directives/challenge_announcements-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/directives/challenge_briefing-ru.html",'<div class="row"><div class="col-md-8 col-md-offset-2"><div class="rich-media-content" ng-bind-html="challenge.briefing_presentation_html | trustAsHtml"></div><div class="separator"></div><h2>Challenge Rules</h2><div class="rich-media-content" ng-bind-html="challenge.rules_presentation_html | trustAsHtml"></div><div class="separator"></div><h2>Frequently Asked Questions</h2><div class="rich-media-content" ng-bind-html="challenge.faq_presentation_html | trustAsHtml"></div></div></div>'),e.put("contests/directives/challenge_briefing-en.html",'<div class="row"><div class="col-md-8 col-md-offset-2"><div class="rich-media-content" ng-bind-html="challenge.briefing_presentation_html | trustAsHtml"></div><div class="separator"></div><h2>Challenge Rules</h2><div class="rich-media-content" ng-bind-html="challenge.rules_presentation_html | trustAsHtml"></div><div class="separator"></div><h2>Frequently Asked Questions</h2><div class="rich-media-content" ng-bind-html="challenge.faq_presentation_html | trustAsHtml"></div></div></div>'),e.put("contests/directives/challenge_briefing.html",e.get("contests/directives/challenge_briefing-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/directives/challenge_card-ru.html",'<div class="challenge"><div class="challenge-thumbnail"><a ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}"><img ng-src="{{ challenge.image_small_url }}" /></a></div><div class="challenge-details"><ul class="list-inline"><li ng-if="!challenge.published"><span class="label label-default">\u041d\u0435 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d</span></li><li ng-if="challenge.accepting_registrations"><span class="label label-success">\u041e\u0442\u043a\u0440\u044b\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f</span></li><li ng-if="challenge.accepting_submissions"><span class="label label-success">\u041e\u0442\u043a\u0440\u044b\u0442 \u043f\u0440\u0438\u0435\u043c \u0440\u0430\u0431\u043e\u0442</span></li><li ng-if="challenge.judging &amp;&amp; !challenge.completed"><span class="label label-primary">\u0418\u0434\u0435\u0442 \u043e\u0446\u0435\u043d\u043a\u0430 \u0440\u0430\u0431\u043e\u0442</span></li><li ng-if="challenge.completed"><span class="label label-default">\u0422\u0443\u0440\u043d\u0438\u0440 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d</span></li></ul><h2 class="challenge-title" ng-bind-html="challenge.title"></h2><div class="hosts" ng-bind-html="&#39;\u0412\u0435\u0434\u0443\u0449\u0438\u0435:  &#39; + hosts()" ng-if="challenge.public_hosts.length &gt; 0"></div><div class="dates">\u0414\u0430\u0442\u044b: {{ startAtUtc | moment: \'DD MMMM YYYY\' }} - {{ endAtUtc | moment: \'DD MMMM YYYY\' }} </div><div class="separator-sm"></div><div class="btn-toolbar"><div class="btn-group"><a class="btn btn-default btn-sm" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}"><i class="fa fa-pad-right fa-arrow-right"></i><span ng-if="challenge.completed &amp;&amp; !challenge.is_private">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u0435\u0439</span><span ng-if="!challenge.completed || challenge.is_private">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0442\u0443\u0440\u043d\u0438\u0440\u0430</span></a></div><div class="btn-group" ng-if="canEdit"><a class="btn btn-default btn-sm" ng-href="{{ editPath }}" target="_self"><i class="fa fa-pad-right fa-pencil"></i>\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a></div><div class="btn-group" ng-if="canJudge"><a class="btn btn-default btn-sm" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging"><i class="fa fa-pad-right fa-pencil"></i>Judging</a></div></div></div></div>'),e.put("contests/directives/challenge_card-en.html",'<div class="challenge"><div class="challenge-thumbnail"><a ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}"><img ng-src="{{ challenge.image_small_url }}" /></a></div><div class="challenge-details"><ul class="list-inline"><li ng-if="!challenge.published"><span class="label label-default">Not Published</span></li><li ng-if="challenge.accepting_registrations"><span class="label label-success">Accepting Registrations</span></li><li ng-if="challenge.accepting_submissions"><span class="label label-success">Accepting Submissions</span></li><li ng-if="challenge.judging &amp;&amp; !challenge.completed"><span class="label label-primary">Judging Period</span></li><li ng-if="challenge.completed"><span class="label label-default">Challenge Completed</span></li></ul><h2 class="challenge-title" ng-bind-html="challenge.title"></h2><div class="hosts" ng-bind-html="&#39;Hosted by &#39; + hosts()" ng-if="challenge.public_hosts.length &gt; 0"></div><div class="dates">Dates: {{ startAtUtc | moment: \'DD MMMM YYYY\' }} - {{ endAtUtc | moment: \'DD MMMM YYYY\' }} </div><div class="separator-sm"></div><div class="btn-toolbar"><div class="btn-group"><a class="btn btn-default btn-sm" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}"><i class="fa fa-pad-right fa-arrow-right"></i><span ng-if="challenge.completed &amp;&amp; !challenge.is_private">View Winners</span><span ng-if="!challenge.completed || challenge.is_private">View Challenge</span></a></div><div class="btn-group" ng-if="canEdit"><a class="btn btn-default btn-sm" ng-href="{{ editPath }}" target="_self"><i class="fa fa-pad-right fa-pencil"></i>Edit</a></div><div class="btn-group" ng-if="canJudge"><a class="btn btn-default btn-sm" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging"><i class="fa fa-pad-right fa-pencil"></i>Judging</a></div></div></div></div>'),e.put("contests/directives/challenge_card.html",e.get("contests/directives/challenge_card-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/directives/challenge_editing_subnav-ru.html",'<div class="sub-nav"><div class="btn-group"><a class="btn btn-default" ng-class="{ active: editing }" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/edit" ng-if="canManageChallenge">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a><a class="btn btn-default" ng-class="{ active: announcements }" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/manage-announcements" ng-if="canManageAnnouncements">\u041e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u044f</a><a class="btn btn-default" ng-class="{ active: team }" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/managers" ng-if="canManageTeam">\u041a\u043e\u043c\u0430\u043d\u0434\u0440\u0430</a><a class="btn btn-default" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}" target="_blank"><i class="fa fa-eye fa-pad-right"></i>\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440</a></div></div>'),e.put("contests/directives/challenge_editing_subnav-en.html",'<div class="sub-nav"><div class="btn-group"><a class="btn btn-default" ng-class="{ active: editing }" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/edit" ng-if="canManageChallenge">Edit</a><a class="btn btn-default" ng-class="{ active: announcements }" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/manage-announcements" ng-if="canManageAnnouncements">Announcements</a><a class="btn btn-default" ng-class="{ active: team }" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/managers" ng-if="canManageTeam">Team</a><a class="btn btn-default" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}" target="_blank"><i class="fa fa-eye fa-pad-right"></i>View</a></div></div>'),e.put("contests/directives/challenge_editing_subnav.html",e.get("contests/directives/challenge_editing_subnav-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/directives/challenge_show_header-ru.html",'<div class="challenge-header"><div class="row"><div class="col-md-8 col-md-offset-2"><div class="page-header"><div class="text-center"><h1><small><a href="" ng-bind-html="contest.title" ng-href="/contests/{{ contest.slug }}"></a></small><span ng-bind-html="challenge.title"></span></h1><h4 ng-if="challenge.sponsors">Brought to you by <span ng-bind-html="challenge.sponsors | trustAsHtml"></span></h4><h4 ng-bind-html="&#39;\u0412\u0435\u0434\u0443\u0449\u0438\u0435: &#39; + hosts" ng-if="hosts"></h4></div></div></div></div><div class="row"><div class="col-md-10 col-md-offset-1"><div class="row"><div class="col-md-6"><div id="challenge-header-video" ng-bind-html="challenge.video_embedded | trustAsHtml" ng-if="challenge.video_embedded"></div><div class="challenge-header-image" ng-if="challenge.image_medium_url &amp;&amp; !challenge.video_embedded"><img class="img-responsive" ng-src="{{ challenge.image_medium_url }}" /><div class="credit" ng-if="challenge.image_credit">Credit: <span ng-bind-html="challenge.image_credit | trustAsHtml"></span></div></div><div class="separator-sm"></div><div class="challenge-headline" ng-bind-html="challenge.headline | trustAsHtml"></div></div><div class="col-md-6"><div class="counter">{{ challenge.active_submissions_count }}</div><ng-pluralize count="challenge.active_submissions_count" when="{ &#39;0&#39;: &#39;Challengers&#39;, &#39;one&#39;: &#39;Challenger&#39;, &#39;other&#39;: &#39;Challengers&#39; }"></ng-pluralize></div><div class="col-md-6" ng-if="challenge.completed"><div class="counter">{{ challenge.finalized_submissions_count }} </div>Final <ng-pluralize count="challenge.finalized_submissions_count" when="{ &#39;0&#39;: &#39;Submissions&#39;, &#39;one&#39;: &#39;Submission&#39;, &#39;other&#39;: &#39;Submissions&#39; }"></ng-pluralize></div><div class="col-md-6"><div class="separator"></div><div ng-if="challenge.accepting_submissions"><ul class="counter-list"><li>{{ timeLeft.days }}<span class="small">D</span></li><li>{{ timeLeft.hours }}<span class="small">H</span></li><li>{{ timeLeft.minutes }}<span class="small">M</span></li><li>{{ timeLeft.seconds }}<span class="small">S</span></li></ul>Time left<div class="separator"></div></div><p>\u0414\u0430\u0442\u044b: {{ startAtUtc | moment: \'DD MMMM YYYY\' }} - {{ endAtUtc | moment: \'DD MMMM YYYY HH:mm z\' }}</p><div ng-if="challenge.accepting_registrations &amp;&amp; !challenge.judging"><p>\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0434\u043e {{ registrationEndAtUtc | moment: \'DD MMMM YYYY HH:mm z\' }}</p></div><div ng-if="!challenge.accepting_registrations &amp;&amp; challenge.accepting_submissions"><p>Registration for this challenge has closed. Good luck to all participants!</p></div><div ng-if="!challenge.accepting_registrations &amp;&amp; !challenge.accepting_submissions &amp;&amp; challenge.judging &amp;&amp; !challenge.completed"><p>The challenge has ended and judging is in progress. Good luck to all participants!</p></div><div ng-if="challenge.completed &amp;&amp; !challenge.completed_without_winners"><p>The challenge has ended. Congrats to all winners and finalists! Thank you to all participants!</p></div><div ng-if="challenge.completed &amp;&amp; challenge.completed_without_winners"><p>The challenge has ended. Thank you to all participants!</p></div><div class="separator"></div><div ng-if="!challenge.my_submission_id &amp;&amp; challenge.accepting_registrations"><a class="btn btn-success btn-lg" ng-authorized-artist-click="joinChallenge()"><i class="fa fa-pad-right fa-arrow-right"></i>\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u0422\u0443\u0440\u043d\u0438\u0440</a></div><div ng-if="challenge.my_submission_id"><a class="btn btn-success btn-lg" ng-authorized-click="viewMySubmission()"><i class="fa fa-pad-right fa-arrow-right"></i>\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043c\u043e\u044e \u0440\u0430\u0431\u043e\u0442\u0443</a></div></div></div></div></div></div>'),e.put("contests/directives/challenge_show_header-en.html",'<div class="challenge-header"><div class="row"><div class="col-md-8 col-md-offset-2"><div class="page-header"><div class="text-center"><h1><small><a href="" ng-bind-html="contest.title" ng-href="/contests/{{ contest.slug }}"></a></small><span ng-bind-html="challenge.title"></span></h1><h4 ng-if="challenge.sponsors">Brought to you by <span ng-bind-html="challenge.sponsors | trustAsHtml"></span></h4><h4 ng-bind-html="&#39;Hosts: &#39; + hosts" ng-if="hosts"></h4></div></div></div></div><div class="row"><div class="col-md-10 col-md-offset-1"><div class="row"><div class="col-md-6"><div id="challenge-header-video" ng-bind-html="challenge.video_embedded | trustAsHtml" ng-if="challenge.video_embedded"></div><div class="challenge-header-image" ng-if="challenge.image_medium_url &amp;&amp; !challenge.video_embedded"><img class="img-responsive" ng-src="{{ challenge.image_medium_url }}" /><div class="credit" ng-if="challenge.image_credit">Credit: <span ng-bind-html="challenge.image_credit | trustAsHtml"></span></div></div><div class="separator-sm"></div><div class="challenge-headline" ng-bind-html="challenge.headline | trustAsHtml"></div></div><div class="col-md-6"><div class="counter">{{ challenge.active_submissions_count }}</div><ng-pluralize count="challenge.active_submissions_count" when="{ &#39;0&#39;: &#39;Challengers&#39;, &#39;one&#39;: &#39;Challenger&#39;, &#39;other&#39;: &#39;Challengers&#39; }"></ng-pluralize></div><div class="col-md-6" ng-if="challenge.completed"><div class="counter">{{ challenge.finalized_submissions_count }} </div>Final <ng-pluralize count="challenge.finalized_submissions_count" when="{ &#39;0&#39;: &#39;Submissions&#39;, &#39;one&#39;: &#39;Submission&#39;, &#39;other&#39;: &#39;Submissions&#39; }"></ng-pluralize></div><div class="col-md-6"><div class="separator"></div><div ng-if="challenge.accepting_submissions"><ul class="counter-list"><li>{{ timeLeft.days }}<span class="small">D</span></li><li>{{ timeLeft.hours }}<span class="small">H</span></li><li>{{ timeLeft.minutes }}<span class="small">M</span></li><li>{{ timeLeft.seconds }}<span class="small">S</span></li></ul>Time left<div class="separator"></div></div><p>Dates: {{ startAtUtc | moment: \'DD MMMM YYYY\' }} - {{ endAtUtc | moment: \'DD MMMM YYYY HH:mm z\' }}</p><div ng-if="challenge.accepting_registrations &amp;&amp; !challenge.judging"><p>Registration ends {{ registrationEndAtUtc | moment: \'DD MMMM YYYY HH:mm z\' }}</p></div><div ng-if="!challenge.accepting_registrations &amp;&amp; challenge.accepting_submissions"><p>Registration for this challenge has closed. Good luck to all participants!</p></div><div ng-if="!challenge.accepting_registrations &amp;&amp; !challenge.accepting_submissions &amp;&amp; challenge.judging &amp;&amp; !challenge.completed"><p>The challenge has ended and judging is in progress. Good luck to all participants!</p></div><div ng-if="challenge.completed &amp;&amp; !challenge.completed_without_winners"><p>The challenge has ended. Congrats to all winners and finalists! Thank you to all participants!</p></div><div ng-if="challenge.completed &amp;&amp; challenge.completed_without_winners"><p>The challenge has ended. Thank you to all participants!</p></div><div class="separator"></div><div ng-if="!challenge.my_submission_id &amp;&amp; challenge.accepting_registrations"><a class="btn btn-success btn-lg" ng-authorized-artist-click="joinChallenge()"><i class="fa fa-pad-right fa-arrow-right"></i>Join The Challenge</a></div><div ng-if="challenge.my_submission_id"><a class="btn btn-success btn-lg" ng-authorized-click="viewMySubmission()"><i class="fa fa-pad-right fa-arrow-right"></i>View My Submission</a></div></div></div></div></div></div>'),e.put("contests/directives/challenge_show_header.html",e.get("contests/directives/challenge_show_header-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/directives/challenge_show_navigation-ru.html",'<div class="sub-nav" ng-show="!hideNavigation"><div class="btn-group"><a class="btn btn-default" ng-class="{active: action == &#39;briefing&#39;}" ng-click="setAction(&#39;briefing&#39;)" ng-href="{{ buildPathForAction(&#39;briefing&#39;) }}">\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435</a><a class="btn btn-default" ng-class="{active: action == &#39;announcements&#39;}" ng-click="setAction(&#39;announcements&#39;)" ng-href="{{ buildPathForAction(&#39;announcements&#39;) }}" ng-if="showAnnouncements">\u041e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u044f</a><a class="btn btn-default" ng-class="{active: action == &#39;submissions&#39;}" ng-click="setAction(&#39;submissions&#39;)" ng-href="{{ buildPathForAction(&#39;submissions&#39;) }}" ng-if="showSubmissions">\u041f\u0440\u0435\u0442\u0435\u043d\u0434\u0435\u043d\u0442\u044b</a><a class="btn btn-default" ng-class="{active: action == &#39;streams&#39;}" ng-click="setAction(&#39;streams&#39;)" ng-href="{{ buildPathForAction(&#39;streams&#39;) }}" ng-if="challenge.accepting_submissions &amp;&amp; !challenge.is_private">Twitch Streams</a></div></div>'),e.put("contests/directives/challenge_show_navigation-en.html",'<div class="sub-nav" ng-show="!hideNavigation"><div class="btn-group"><a class="btn btn-default" ng-class="{active: action == &#39;briefing&#39;}" ng-click="setAction(&#39;briefing&#39;)" ng-href="{{ buildPathForAction(&#39;briefing&#39;) }}">Briefing</a><a class="btn btn-default" ng-class="{active: action == &#39;announcements&#39;}" ng-click="setAction(&#39;announcements&#39;)" ng-href="{{ buildPathForAction(&#39;announcements&#39;) }}" ng-if="showAnnouncements">Announcements</a><a class="btn btn-default" ng-class="{active: action == &#39;submissions&#39;}" ng-click="setAction(&#39;submissions&#39;)" ng-href="{{ buildPathForAction(&#39;submissions&#39;) }}" ng-if="showSubmissions">Submissions</a><a class="btn btn-default" ng-class="{active: action == &#39;streams&#39;}" ng-click="setAction(&#39;streams&#39;)" ng-href="{{ buildPathForAction(&#39;streams&#39;) }}" ng-if="challenge.accepting_submissions &amp;&amp; !challenge.is_private">Twitch Streams</a></div></div>'),e.put("contests/directives/challenge_show_navigation.html",e.get("contests/directives/challenge_show_navigation-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/directives/challenge_streams-ru.html",'<div class="text-center"><p>Challenge streaming brought to you by:</p><p><a href="//twitch.tv" target="_blank"><img src="/assets/challenges/twitch_logo.png" style="width: 100px; height: auto; opacity: 0.95;" /></a></p><p><a href="http://support.artstation.com/knowledge_base/topics/how-do-i-stream-to-artstation-using-twitch" target="_blank">How do I stream?</a></p></div><div class="separator"></div><div class="challenge-submissions" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="thumbnail challenge-submission" ng-repeat="submission in collection.items"><a ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/submissions/{{ submission.id }}"><img ng-src="{{ submission.twitch_preview_url }}" /></a><div class="caption challenger"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="submission.user.full_name" ng-href="/{{ submission.user.username }}"></a><a class="pro-badge" href="/pro" ng-if="submission.user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="submission.user.is_staff">STAFF</div><div class="headline" ng-bind-html="submission.user.headline"></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><i class="fa fa-comments fa-pad-right"></i>{{ submission.activity_count }}</div></div></div></div></div>'),e.put("contests/directives/challenge_streams-en.html",'<div class="text-center"><p>Challenge streaming brought to you by:</p><p><a href="//twitch.tv" target="_blank"><img src="/assets/challenges/twitch_logo.png" style="width: 100px; height: auto; opacity: 0.95;" /></a></p><p><a href="http://support.artstation.com/knowledge_base/topics/how-do-i-stream-to-artstation-using-twitch" target="_blank">How do I stream?</a></p></div><div class="separator"></div><div class="challenge-submissions" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="thumbnail challenge-submission" ng-repeat="submission in collection.items"><a ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/submissions/{{ submission.id }}"><img ng-src="{{ submission.twitch_preview_url }}" /></a><div class="caption challenger"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="submission.user.full_name" ng-href="/{{ submission.user.username }}"></a><a class="pro-badge" href="/pro" ng-if="submission.user.pro_member" target="_top">PRO</a><div class="staff-badge" ng-if="submission.user.is_staff">STAFF</div><div class="headline" ng-bind-html="submission.user.headline"></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><i class="fa fa-comments fa-pad-right"></i>{{ submission.activity_count }}</div></div></div></div></div>'),e.put("contests/directives/challenge_streams.html",e.get("contests/directives/challenge_streams-en.html"))
}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/directives/challenge_submissions-ru.html",'<div class="text-center"><ul class="link-bar"><li><a href="" ng-class="{active: isSortingSelected(&#39;latest&#39;)}" ng-click="setSorting(&#39;latest&#39;)">\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435</a></li><li><a href="" ng-class="{active: isSortingSelected(&#39;popular&#39;)}" ng-click="setSorting(&#39;popular&#39;)">\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435</a></li><li ng-if="user_logged_in"><a href="" ng-class="{active: isSortingSelected(&#39;following&#39;)}" ng-click="setSorting(&#39;following&#39;)">\u041c\u043e\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438</a></li><li><a href="" ng-class="{active: isSortingSelected(&#39;survivors&#39;)}" ng-click="setSorting(&#39;survivors&#39;)">Completed</a></li></ul></div><div class="separator"></div><div class="text-center" ng-if="collection.items.length == 0"><div class="separator"></div><p class="lead">There are currently no submissions</p><div class="separator"></div></div><div class="challenge-submissions" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="thumbnail challenge-submission" ng-repeat="submission in collection.items"><div class="challenge-submission-thumbnail"><div class="overlay"><a class="hitzone" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/submissions/{{ submission.id }}?sorting={{ sorting }}"><div class="btn btn-primary">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443</div></a></div><img ng-src="{{ submission.cover_image_url }}" /></div><div class="caption challenger"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="submission.user.full_name" ng-href="/{{ submission.user.username }}"></a><a class="pro-badge" href="/pro" ng-if="submission.user.pro_member" target="_top">PRO</a><a class="host-badge" ng-if="isHost(submission.user.id)" target="_top">HOST</a><div class="staff-badge" ng-if="submission.user.is_staff">STAFF</div><div class="headline" ng-bind-html="submission.user.headline"></div><div class="location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="submission.user.location"></span></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><i class="fa fa-comments fa-pad-right"></i>{{ submission.activity_count }}</div></div></div></div></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner>'),e.put("contests/directives/challenge_submissions-en.html",'<div class="text-center"><ul class="link-bar"><li><a href="" ng-class="{active: isSortingSelected(&#39;latest&#39;)}" ng-click="setSorting(&#39;latest&#39;)">Latest Updates</a></li><li><a href="" ng-class="{active: isSortingSelected(&#39;popular&#39;)}" ng-click="setSorting(&#39;popular&#39;)">Popular</a></li><li ng-if="user_logged_in"><a href="" ng-class="{active: isSortingSelected(&#39;following&#39;)}" ng-click="setSorting(&#39;following&#39;)">Following</a></li><li><a href="" ng-class="{active: isSortingSelected(&#39;survivors&#39;)}" ng-click="setSorting(&#39;survivors&#39;)">Completed</a></li></ul></div><div class="separator"></div><div class="text-center" ng-if="collection.items.length == 0"><div class="separator"></div><p class="lead">There are currently no submissions</p><div class="separator"></div></div><div class="challenge-submissions" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="thumbnail challenge-submission" ng-repeat="submission in collection.items"><div class="challenge-submission-thumbnail"><div class="overlay"><a class="hitzone" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/submissions/{{ submission.id }}?sorting={{ sorting }}"><div class="btn btn-primary">View Submission</div></a></div><img ng-src="{{ submission.cover_image_url }}" /></div><div class="caption challenger"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="submission.user.full_name" ng-href="/{{ submission.user.username }}"></a><a class="pro-badge" href="/pro" ng-if="submission.user.pro_member" target="_top">PRO</a><a class="host-badge" ng-if="isHost(submission.user.id)" target="_top">HOST</a><div class="staff-badge" ng-if="submission.user.is_staff">STAFF</div><div class="headline" ng-bind-html="submission.user.headline"></div><div class="location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="submission.user.location"></span></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><i class="fa fa-comments fa-pad-right"></i>{{ submission.activity_count }}</div></div></div></div></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner>'),e.put("contests/directives/challenge_submissions.html",e.get("contests/directives/challenge_submissions-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/directives/challenge_winners-ru.html",'<div class="single-text"><h2>Winners</h2></div><div class="separator"></div><div class="challenge-submissions" ng-if="challengeWinners.length"><div class="thumbnail challenge-submission" ng-repeat="submission in challengeWinners"><div class="challenge-submission-thumbnail"><div class="submission-judging-header"><div class="position"><i class="fa fa-trophy fa-pad-right"></i><span ng-if="submission.winner_position == &#39;first_place&#39;">1st</span><span ng-if="submission.winner_position == &#39;second_place&#39;">2nd</span><span ng-if="submission.winner_position == &#39;third_place&#39;">3rd</span></div></div><div class="overlay"><a class="hitzone" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/submissions/{{ submission.id }}?sorting=winners"><div class="btn btn-primary">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443</div></a></div><img ng-src="{{ submission.cover_image_url }}" /></div><div class="caption challenger"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="submission.user.full_name" ng-href="/{{ submission.user.username }}"></a><div class="headline" ng-bind-html="submission.user.headline"></div><div class="location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="submission.user.location"></span></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><i class="fa fa-comments fa-pad-right"></i>{{ submission.activity_count }}</div></div></div></div></div><div ng-if="!challengeWinners.length &amp;&amp; !challengeHonourableMentions.length"><div class="text-center"><p class="lead">This challenge has been completed without winners</p></div></div><div class="separator"></div><div class="single-text" ng-if="challengeHonourableMentions.length"><h2>Honourable Mentions</h2></div><div class="separator"></div><div class="challenge-submissions" ng-if="challengeHonourableMentions.length"><div class="thumbnail challenge-submission" ng-repeat="submission in challengeHonourableMentions"><div class="challenge-submission-thumbnail"><div class="submission-judging-header"><div class="position"><i class="fa fa-trophy fa-pad-right"></i><span>HM</span></div></div><div class="overlay"><a class="hitzone" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/submissions/{{ submission.id }}?sorting=mentions"><div class="btn btn-primary">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443</div></a></div><img ng-src="{{ submission.cover_image_url }}" /></div><div class="caption challenger"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="submission.user.full_name" ng-href="/{{ submission.user.username }}"></a><div class="headline" ng-bind-html="submission.user.headline"></div><div class="location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="submission.user.location"></span></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><i class="fa fa-comments fa-pad-right"></i>{{ submission.activity_count }}</div></div></div></div></div><div class="single-text"><h2>Submissions</h2></div><div class="separator"></div><div class="text-center"><ul class="link-bar"><li><a href="" ng-class="{active: isSortingSelected(&#39;survivors&#39;)}" ng-click="setSorting(&#39;survivors&#39;)">Survivors</a></li><li><a href="" ng-class="{active: isSortingSelected(&#39;picks&#39;)}" ng-click="setSorting(&#39;picks&#39;)">Picks</a></li><li><a href="" ng-class="{active: isSortingSelected(&#39;popular&#39;)}" ng-click="setSorting(&#39;popular&#39;)">All Submissions</a></li></ul></div><div class="separator"></div><div class="text-center" ng-if="collection.items.length == 0"><div class="separator"></div><p class="lead">There are currently no submissions</p><div class="separator"></div></div><div class="challenge-submissions" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="thumbnail challenge-submission" ng-repeat="submission in collection.items"><div class="challenge-submission-thumbnail"><div class="overlay"><a class="hitzone" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/submissions/{{ submission.id }}?sorting={{ sorting }}"><div class="btn btn-primary">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443</div></a></div><img ng-src="{{ submission.cover_image_url }}" /></div><div class="caption challenger"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="submission.user.full_name" ng-href="/{{ submission.user.username }}"></a><div class="headline" ng-bind-html="submission.user.headline"></div><div class="location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="submission.user.location"></span></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><i class="fa fa-comments fa-pad-right"></i>{{ submission.activity_count }}</div></div></div></div></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner>'),e.put("contests/directives/challenge_winners-en.html",'<div class="single-text"><h2>Winners</h2></div><div class="separator"></div><div class="challenge-submissions" ng-if="challengeWinners.length"><div class="thumbnail challenge-submission" ng-repeat="submission in challengeWinners"><div class="challenge-submission-thumbnail"><div class="submission-judging-header"><div class="position"><i class="fa fa-trophy fa-pad-right"></i><span ng-if="submission.winner_position == &#39;first_place&#39;">1st</span><span ng-if="submission.winner_position == &#39;second_place&#39;">2nd</span><span ng-if="submission.winner_position == &#39;third_place&#39;">3rd</span></div></div><div class="overlay"><a class="hitzone" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/submissions/{{ submission.id }}?sorting=winners"><div class="btn btn-primary">View Submission</div></a></div><img ng-src="{{ submission.cover_image_url }}" /></div><div class="caption challenger"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="submission.user.full_name" ng-href="/{{ submission.user.username }}"></a><div class="headline" ng-bind-html="submission.user.headline"></div><div class="location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="submission.user.location"></span></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><i class="fa fa-comments fa-pad-right"></i>{{ submission.activity_count }}</div></div></div></div></div><div ng-if="!challengeWinners.length &amp;&amp; !challengeHonourableMentions.length"><div class="text-center"><p class="lead">This challenge has been completed without winners</p></div></div><div class="separator"></div><div class="single-text" ng-if="challengeHonourableMentions.length"><h2>Honourable Mentions</h2></div><div class="separator"></div><div class="challenge-submissions" ng-if="challengeHonourableMentions.length"><div class="thumbnail challenge-submission" ng-repeat="submission in challengeHonourableMentions"><div class="challenge-submission-thumbnail"><div class="submission-judging-header"><div class="position"><i class="fa fa-trophy fa-pad-right"></i><span>HM</span></div></div><div class="overlay"><a class="hitzone" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/submissions/{{ submission.id }}?sorting=mentions"><div class="btn btn-primary">View Submission</div></a></div><img ng-src="{{ submission.cover_image_url }}" /></div><div class="caption challenger"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="submission.user.full_name" ng-href="/{{ submission.user.username }}"></a><div class="headline" ng-bind-html="submission.user.headline"></div><div class="location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="submission.user.location"></span></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><i class="fa fa-comments fa-pad-right"></i>{{ submission.activity_count }}</div></div></div></div></div><div class="single-text"><h2>Submissions</h2></div><div class="separator"></div><div class="text-center"><ul class="link-bar"><li><a href="" ng-class="{active: isSortingSelected(&#39;survivors&#39;)}" ng-click="setSorting(&#39;survivors&#39;)">Survivors</a></li><li><a href="" ng-class="{active: isSortingSelected(&#39;picks&#39;)}" ng-click="setSorting(&#39;picks&#39;)">Picks</a></li><li><a href="" ng-class="{active: isSortingSelected(&#39;popular&#39;)}" ng-click="setSorting(&#39;popular&#39;)">All Submissions</a></li></ul></div><div class="separator"></div><div class="text-center" ng-if="collection.items.length == 0"><div class="separator"></div><p class="lead">There are currently no submissions</p><div class="separator"></div></div><div class="challenge-submissions" infinite-scroll="loadMore()" infinite-scroll-distance="1"><div class="thumbnail challenge-submission" ng-repeat="submission in collection.items"><div class="challenge-submission-thumbnail"><div class="overlay"><a class="hitzone" ng-href="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/submissions/{{ submission.id }}?sorting={{ sorting }}"><div class="btn btn-primary">View Submission</div></a></div><img ng-src="{{ submission.cover_image_url }}" /></div><div class="caption challenger"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="submission.user.full_name" ng-href="/{{ submission.user.username }}"></a><div class="headline" ng-bind-html="submission.user.headline"></div><div class="location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="submission.user.location"></span></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><i class="fa fa-comments fa-pad-right"></i>{{ submission.activity_count }}</div></div></div></div></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner>'),e.put("contests/directives/challenge_winners.html",e.get("contests/directives/challenge_winners-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/directives/judging_header-ru.html",'<div class="page-header"><h1><small><a href="#" ng-bind-html="contest.title" ng-href="/contests/{{ contest.slug }}"></a></small><span ng-bind-html="challenge.title"></span><small>Judging</small></h1></div><div class="sub-nav"><div class="btn-group"><a class="btn btn-default" ng-class="{ active: menuItem == &#39;judging&#39; }" ng-href="/contests/{{ contest.slug }}/challenges/{{ challenge.id }}/judging" ng-if="canJudgeRead">Submissions</a><a class="btn btn-default" ng-class="{ active: menuItem == &#39;shortlist&#39; }" ng-href="/contests/{{ contest.slug }}/challenges/{{ challenge.id }}/judging/shortlist" ng-if="canJudgeWrite">Shortlist</a><a class="btn btn-default" ng-class="{ active: menuItem == &#39;standings&#39; }" ng-href="/contests/{{ contest.slug }}/challenges/{{ challenge.id }}/judging/standings" ng-if="canJudgeRead">Standings</a><a class="btn btn-default" ng-class="{ active: menuItem == &#39;winners&#39; }" ng-href="/contests/{{ contest.slug }}/challenges/{{ challenge.id }}/judging/winners" ng-if="canManageChallenge">Winners</a></div></div>'),e.put("contests/directives/judging_header-en.html",'<div class="page-header"><h1><small><a href="#" ng-bind-html="contest.title" ng-href="/contests/{{ contest.slug }}"></a></small><span ng-bind-html="challenge.title"></span><small>Judging</small></h1></div><div class="sub-nav"><div class="btn-group"><a class="btn btn-default" ng-class="{ active: menuItem == &#39;judging&#39; }" ng-href="/contests/{{ contest.slug }}/challenges/{{ challenge.id }}/judging" ng-if="canJudgeRead">Submissions</a><a class="btn btn-default" ng-class="{ active: menuItem == &#39;shortlist&#39; }" ng-href="/contests/{{ contest.slug }}/challenges/{{ challenge.id }}/judging/shortlist" ng-if="canJudgeWrite">Shortlist</a><a class="btn btn-default" ng-class="{ active: menuItem == &#39;standings&#39; }" ng-href="/contests/{{ contest.slug }}/challenges/{{ challenge.id }}/judging/standings" ng-if="canJudgeRead">Standings</a><a class="btn btn-default" ng-class="{ active: menuItem == &#39;winners&#39; }" ng-href="/contests/{{ contest.slug }}/challenges/{{ challenge.id }}/judging/winners" ng-if="canManageChallenge">Winners</a></div></div>'),e.put("contests/directives/judging_header.html",e.get("contests/directives/judging_header-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/directives/judging_submission-ru.html",'<div class="thumbnail challenge-submission" data-id="{{ submission.id }}"><div class="submission-judging-header"><div class="judging-status-label" ng-if="showLabels &amp;&amp; submission.viewed &amp;&amp; !submission.shortlisted &amp;&amp; !submission.rejected &amp;&amp; !submission.disqualified">Viewed</div><div class="judging-status-label success" ng-if="showLabels &amp;&amp; submission.shortlisted">Shortlisted</div><div class="judging-status-label danger" ng-if="showLabels &amp;&amp; submission.rejected">Rejected</div><div class="judging-status-label danger" ng-if="showLabels &amp;&amp; submission.disqualified">Disqualified</div><div class="position" ng-if="position &amp;&amp; !showWinners">{{ position }}</div><div class="position" ng-if="position &amp;&amp; showWinners"><span ng-if="position == 1">1st winner</span><span ng-if="position == 2">2nd winner</span><span ng-if="position == 3">3rd winner</span><span ng-if="position &gt; 3">Honourable mention</span></div><a class="remove" href="#" ng-click="removeAction()" ng-if="showRemoveButton"><i class="fa fa-times fa-fw"></i></a></div><a class="challenge-submission-cover" href="#" ng-click="clickAction()" ng-href="{{ url }}"><img ng-src="{{ submission.cover_image_url }}" /></a><div class="caption challenger"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="submission.user.full_name" ng-href="/{{ submission.user.username }}"></a><div class="headline" ng-bind-html="submission.user.headline"></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><artstation-star-rating rating="submission.stars_rating"></artstation-star-rating></div></div></div></div>'),e.put("contests/directives/judging_submission-en.html",'<div class="thumbnail challenge-submission" data-id="{{ submission.id }}"><div class="submission-judging-header"><div class="judging-status-label" ng-if="showLabels &amp;&amp; submission.viewed &amp;&amp; !submission.shortlisted &amp;&amp; !submission.rejected &amp;&amp; !submission.disqualified">Viewed</div><div class="judging-status-label success" ng-if="showLabels &amp;&amp; submission.shortlisted">Shortlisted</div><div class="judging-status-label danger" ng-if="showLabels &amp;&amp; submission.rejected">Rejected</div><div class="judging-status-label danger" ng-if="showLabels &amp;&amp; submission.disqualified">Disqualified</div><div class="position" ng-if="position &amp;&amp; !showWinners">{{ position }}</div><div class="position" ng-if="position &amp;&amp; showWinners"><span ng-if="position == 1">1st winner</span><span ng-if="position == 2">2nd winner</span><span ng-if="position == 3">3rd winner</span><span ng-if="position &gt; 3">Honourable mention</span></div><a class="remove" href="#" ng-click="removeAction()" ng-if="showRemoveButton"><i class="fa fa-times fa-fw"></i></a></div><a class="challenge-submission-cover" href="#" ng-click="clickAction()" ng-href="{{ url }}"><img ng-src="{{ submission.cover_image_url }}" /></a><div class="caption challenger"><a class="avatar" ng-href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="name"><a ng-bind-html="submission.user.full_name" ng-href="/{{ submission.user.username }}"></a><div class="headline" ng-bind-html="submission.user.headline"></div></div></div><div class="caption stats"><div class="row"><div class="col-xs-4"><i class="fa fa-eye fa-pad-right"></i>{{ submission.views_count }}</div><div class="col-xs-4"><i class="fa fa-thumbs-up fa-pad-right"></i>{{ submission.likes_count }}</div><div class="col-xs-4"><artstation-star-rating rating="submission.stars_rating"></artstation-star-rating></div></div></div></div>'),e.put("contests/directives/judging_submission.html",e.get("contests/directives/judging_submission-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/directives/judging_submission_browser-ru.html",'<div class="gallery-single"><div class="artwork-container"><a class="mobile-close" href="#" ng-click="close()"><i class="fa fa-times"></i></a><a class="arrow-previous" href="#" ng-click="prev()" ng-if="prev_id"><div class="arrow-container"><div class="arrow arrow-previous"></div></div></a><a class="arrow-next" href="#" ng-click="next()" ng-if="next_id"><div class="arrow-container"><div class="arrow arrow-next"></div></div></a><div class="separator"></div><div class="container" infinite-scroll="loadMoreSubmissionUpdates()" infinite-scroll-distance="1"><submission-update disable-comment="true" disable-delete="true" disable-edit="true" ng-repeat="submissionUpdate in submissionUpdates.items" submission-update="submissionUpdate"></submission-update></div></div><aside class="artwork-info-container"><div artstation-scroll="true" class="artwork-info"><div class="btn-toolbar"><div class="btn-group hidden-sm hidden-xs"><button class="btn btn-default btn-xs" ng-click="close()" type="button"><i class="fa fa-times"></i></button></div></div><div class="separator-sm"></div><div class="artist"><a class="avatar" href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="artist-name-and-headline"><div class="name"><a href="/{{ submission.user.username }}" ng-bind-html="submission.user.full_name"></a></div><div class="headline" ng-bind-html="submission.user.headline"></div><div class="headline" ng-bind-html="submission.user.location"></div></div></div><div class="button-blocks"><div class="separator"></div><div class="row"><div class="col-xs-6"><button class="btn btn-success btn-sm" ng-click="toggleLike()" ng-if="!submission.liked" type="button"><i class="fa fa-thumbs-up fa-pad-right"></i>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</button><button class="btn btn-default btn-sm" ng-click="toggleLike()" ng-if="submission.liked" type="button"><i class="fa fa-check fa-pad-right"></i>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</button></div><div class="col-xs-6"><follow-button bind-keyboard="true" user="submission.user"></follow-button></div></div></div><div class="separator"></div><ul class="list-inline"><li><i class="fa fa-thumbs-up fa-pad-right"></i>{{submission.likes_count | number}} Likes</li><li><i class="fa fa-eye fa-pad-right"></i>{{submission.views_count | number}} Views</li><li><artstation-star-rating rating="submission.stars_rating" show-count="true"></artstation-star-rating></li></ul><div class="separator"></div><div class="button-blocks"><h4>Judging Actions</h4><div class="row"><div class="col-xs-6"><div ng-if="canJudgeWrite"><button class="btn btn-primary btn-sm" ng-click="addToShortlist()" ng-if="!submission.shortlisted" type="button"><i class="fa fa-plus fa-pad-right"></i>Add to shortlist</button><button class="btn btn-danger btn-sm" ng-click="removeFromShortlist()" ng-if="submission.shortlisted" type="button">Remove from shortlist</button></div></div><div class="col-xs-6"><div ng-if="canJudgeWrite"><button class="btn btn-danger btn-sm" ng-click="reject()" ng-if="!submission.rejected" type="button"><i class="fa fa-times fa-pad-right"></i>Reject</button><button class="btn btn-danger btn-sm" ng-click="cancelReject()" ng-if="submission.rejected" type="button"><i class="fa fa-times fa-pad-right"></i>Rejected</button></div><div ng-if="!canJudgeWrite"><button class="btn btn-danger btn-sm" disabled="disabled" ng-if="submission.rejected" type="button"><i class="fa fa-times fa-pad-right"></i>Rejected</button></div></div></div><div class="separator"></div><div class="row"><div class="col-xs-6"><div ng-if="canJudgeWrite"><button class="btn btn-danger btn-sm" ng-click="disqualify()" ng-if="!submission.disqualified" type="button"><i class="fa fa-times fa-pad-right"></i>Disqualify</button><button class="btn btn-danger btn-sm" ng-click="cancelDisqualify()" ng-if="submission.disqualified" type="button"><i class="fa fa-times fa-pad-right"></i>Disqualified</button></div><div ng-if="!canJudgeWrite"><button class="btn btn-danger btn-sm" disabled="disabled" ng-if="submission.disqualified" type="button"><i class="fa fa-times fa-pad-right"></i>Disqualified</button></div></div><div class="col-xs-6"><div ng-if="canJudgeWrite"><button class="btn btn-primary btn-sm" ng-click="addToPicks()" ng-if="!submission.picked" type="button"><i class="fa fa-trophy fa-pad-right"></i>Add to Picks</button><button class="btn btn-danger btn-sm" ng-click="removeFromPicks()" ng-if="submission.picked" type="button"><i class="fa fa-times fa-pad-right"></i>Remove from Picks</button></div></div></div><div class="separator"></div></div><div ng-if="canJudgeWrite"><h4>Rate Submission</h4><div class="star-rating star-rating-lg"><a href="#" ng-class="{active: submission.judge_stars_rating &gt;= index}" ng-click="setStarsRating(index)" ng-repeat="index in [1, 2, 3, 4, 5]"><i class="fa fa-star-o"></i></a></div><div class="separator"></div></div><h4>Judging Notes</h4><p>Judging notes are not visible to end-users. Only judges will see these notes.</p><form><div class="form-group"><textarea class="form-control" ng-model="submission.judging_notes" placeholder="Any notes that you want to share with other judges." style="min-height: 100px;"></textarea></div><button class="btn btn-primary btn-sm" ng-click="updateJudgingNotes()" type="submit"><i class="fa fa-save fa-pad-right"></i>Save</button></form><div class="separator"></div><div class="separator-sm"></div><h4 ng-if="submission.other_submissions.length">Other Contest Submissions</h4><div class="media" ng-repeat="another in submission.other_submissions"><div class="media-left media-middle"><a href="#" ng-href="/contests/{{another.challenge.contest.slug}}/challenges/{{another.challenge.id}}/submissions/{{another.id}}" target="_blank"><img class="media-object" ng-src="{{another.image_url}}" style="width: 64px; height: 64px;" /></a></div><div class="media-body media-middle"><a href="#" ng-href="/contests/{{another.challenge.contest.slug}}/challenges/{{another.challenge.id}}/submissions/{{another.id}}" target="_blank">{{submission.user.full_name | unescapeHTML}}\'s submission on {{another.challenge.contest.title}} - {{another.challenge.title}}</a></div></div><div class="keyboard-shortcuts hidden-xs hidden-sm"><hr /><h5>Keyboard Shortcuts</h5><ul class="shortcuts"><li><span class="label label-default"><i class="fa fa-caret-left"></i></span>Previous</li><li><span class="label label-default"><i class="fa fa-caret-right"></i></span>Next</li><li ng-if="canJudgeWrite"><span class="label label-default">A</span>Add to Shortlist</li><li ng-if="canJudgeWrite"><span class="label label-default">R</span>Reject</li><li ng-if="canJudgeWrite"><span class="label label-default">D</span>Disqualify</li><li><span class="label label-default">L</span>Like</li><li><span class="label label-default">F</span>Follow User</li><li><span class="label label-default">esc</span>Close</li></ul></div></div></aside></div>'),e.put("contests/directives/judging_submission_browser-en.html",'<div class="gallery-single"><div class="artwork-container"><a class="mobile-close" href="#" ng-click="close()"><i class="fa fa-times"></i></a><a class="arrow-previous" href="#" ng-click="prev()" ng-if="prev_id"><div class="arrow-container"><div class="arrow arrow-previous"></div></div></a><a class="arrow-next" href="#" ng-click="next()" ng-if="next_id"><div class="arrow-container"><div class="arrow arrow-next"></div></div></a><div class="separator"></div><div class="container" infinite-scroll="loadMoreSubmissionUpdates()" infinite-scroll-distance="1"><submission-update disable-comment="true" disable-delete="true" disable-edit="true" ng-repeat="submissionUpdate in submissionUpdates.items" submission-update="submissionUpdate"></submission-update></div></div><aside class="artwork-info-container"><div artstation-scroll="true" class="artwork-info"><div class="btn-toolbar"><div class="btn-group hidden-sm hidden-xs"><button class="btn btn-default btn-xs" ng-click="close()" type="button"><i class="fa fa-times"></i></button></div></div><div class="separator-sm"></div><div class="artist"><a class="avatar" href="/{{ submission.user.username }}"><img ng-src="{{ submission.user.medium_avatar_url }}" /></a><div class="artist-name-and-headline"><div class="name"><a href="/{{ submission.user.username }}" ng-bind-html="submission.user.full_name"></a></div><div class="headline" ng-bind-html="submission.user.headline"></div><div class="headline" ng-bind-html="submission.user.location"></div></div></div><div class="button-blocks"><div class="separator"></div><div class="row"><div class="col-xs-6"><button class="btn btn-success btn-sm" ng-click="toggleLike()" ng-if="!submission.liked" type="button"><i class="fa fa-thumbs-up fa-pad-right"></i>Like</button><button class="btn btn-default btn-sm" ng-click="toggleLike()" ng-if="submission.liked" type="button"><i class="fa fa-check fa-pad-right"></i>Liked</button></div><div class="col-xs-6"><follow-button bind-keyboard="true" user="submission.user"></follow-button></div></div></div><div class="separator"></div><ul class="list-inline"><li><i class="fa fa-thumbs-up fa-pad-right"></i>{{submission.likes_count | number}} Likes</li><li><i class="fa fa-eye fa-pad-right"></i>{{submission.views_count | number}} Views</li><li><artstation-star-rating rating="submission.stars_rating" show-count="true"></artstation-star-rating></li></ul><div class="separator"></div><div class="button-blocks"><h4>Judging Actions</h4><div class="row"><div class="col-xs-6"><div ng-if="canJudgeWrite"><button class="btn btn-primary btn-sm" ng-click="addToShortlist()" ng-if="!submission.shortlisted" type="button"><i class="fa fa-plus fa-pad-right"></i>Add to shortlist</button><button class="btn btn-danger btn-sm" ng-click="removeFromShortlist()" ng-if="submission.shortlisted" type="button">Remove from shortlist</button></div></div><div class="col-xs-6"><div ng-if="canJudgeWrite"><button class="btn btn-danger btn-sm" ng-click="reject()" ng-if="!submission.rejected" type="button"><i class="fa fa-times fa-pad-right"></i>Reject</button><button class="btn btn-danger btn-sm" ng-click="cancelReject()" ng-if="submission.rejected" type="button"><i class="fa fa-times fa-pad-right"></i>Rejected</button></div><div ng-if="!canJudgeWrite"><button class="btn btn-danger btn-sm" disabled="disabled" ng-if="submission.rejected" type="button"><i class="fa fa-times fa-pad-right"></i>Rejected</button></div></div></div><div class="separator"></div><div class="row"><div class="col-xs-6"><div ng-if="canJudgeWrite"><button class="btn btn-danger btn-sm" ng-click="disqualify()" ng-if="!submission.disqualified" type="button"><i class="fa fa-times fa-pad-right"></i>Disqualify</button><button class="btn btn-danger btn-sm" ng-click="cancelDisqualify()" ng-if="submission.disqualified" type="button"><i class="fa fa-times fa-pad-right"></i>Disqualified</button></div><div ng-if="!canJudgeWrite"><button class="btn btn-danger btn-sm" disabled="disabled" ng-if="submission.disqualified" type="button"><i class="fa fa-times fa-pad-right"></i>Disqualified</button></div></div><div class="col-xs-6"><div ng-if="canJudgeWrite"><button class="btn btn-primary btn-sm" ng-click="addToPicks()" ng-if="!submission.picked" type="button"><i class="fa fa-trophy fa-pad-right"></i>Add to Picks</button><button class="btn btn-danger btn-sm" ng-click="removeFromPicks()" ng-if="submission.picked" type="button"><i class="fa fa-times fa-pad-right"></i>Remove from Picks</button></div></div></div><div class="separator"></div></div><div ng-if="canJudgeWrite"><h4>Rate Submission</h4><div class="star-rating star-rating-lg"><a href="#" ng-class="{active: submission.judge_stars_rating &gt;= index}" ng-click="setStarsRating(index)" ng-repeat="index in [1, 2, 3, 4, 5]"><i class="fa fa-star-o"></i></a></div><div class="separator"></div></div><h4>Judging Notes</h4><p>Judging notes are not visible to end-users. Only judges will see these notes.</p><form><div class="form-group"><textarea class="form-control" ng-model="submission.judging_notes" placeholder="Any notes that you want to share with other judges." style="min-height: 100px;"></textarea></div><button class="btn btn-primary btn-sm" ng-click="updateJudgingNotes()" type="submit"><i class="fa fa-save fa-pad-right"></i>Save</button></form><div class="separator"></div><div class="separator-sm"></div><h4 ng-if="submission.other_submissions.length">Other Contest Submissions</h4><div class="media" ng-repeat="another in submission.other_submissions"><div class="media-left media-middle"><a href="#" ng-href="/contests/{{another.challenge.contest.slug}}/challenges/{{another.challenge.id}}/submissions/{{another.id}}" target="_blank"><img class="media-object" ng-src="{{another.image_url}}" style="width: 64px; height: 64px;" /></a></div><div class="media-body media-middle"><a href="#" ng-href="/contests/{{another.challenge.contest.slug}}/challenges/{{another.challenge.id}}/submissions/{{another.id}}" target="_blank">{{submission.user.full_name | unescapeHTML}}\'s submission on {{another.challenge.contest.title}} - {{another.challenge.title}}</a></div></div><div class="keyboard-shortcuts hidden-xs hidden-sm"><hr /><h5>Keyboard Shortcuts</h5><ul class="shortcuts"><li><span class="label label-default"><i class="fa fa-caret-left"></i></span>Previous</li><li><span class="label label-default"><i class="fa fa-caret-right"></i></span>Next</li><li ng-if="canJudgeWrite"><span class="label label-default">A</span>Add to Shortlist</li><li ng-if="canJudgeWrite"><span class="label label-default">R</span>Reject</li><li ng-if="canJudgeWrite"><span class="label label-default">D</span>Disqualify</li><li><span class="label label-default">L</span>Like</li><li><span class="label label-default">F</span>Follow User</li><li><span class="label label-default">esc</span>Close</li></ul></div></div></aside></div>'),e.put("contests/directives/judging_submission_browser.html",e.get("contests/directives/judging_submission_browser-en.html"))
}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/directives/submission_update-ru.html",'<div class="discussion-post" id="submission-update-{{ submissionUpdate.id }}"><div class="discussion-post-user"><a class="avatar" href="" ng-href="{{ submissionUpdate.user.permalink }}"><img ng-src="{{ submissionUpdate.user.large_avatar_url }}" /></a><div class="name"><a href="" ng-bind-html="submissionUpdate.user.full_name" ng-href="{{ submissionUpdate.user.permalink }}"></a><a class="pro-badge smaller" href="/pro" ng-if="submissionUpdate.user.pro_member" target="_top">PRO</a><a class="host-badge smaller" ng-if="isHost()" target="_top">HOST</a><div class="staff-badge smaller" ng-if="submissionUpdate.user.is_staff">STAFF</div></div><div class="headline" ng-bind-html="submissionUpdate.user.headline"></div><div class="location"><i class="fa fa-map-marker fa-pad-right"></i><span ng-bind-html="submissionUpdate.user.location"></span></div></div><div class="discussion-post-body"><div class="panel panel-default" ng-if="!editing"><div class="panel-heading">\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043e {{ submissionUpdate.created_at | fromNow }}<div class="btn-group pull-right" ng-if="currentUser.id"><a class="dropdown-toggle btn btn-default btn-xs" data-toggle="dropdown" href=""><i class="fa fa-chevron-down"></i></a><ul class="dropdown-menu dropdown-menu-right dropdown-menu-sm"><li ng-if="belongsToCurrentUser() &amp;&amp; !disableEdit"><a href="" ng-click="edit()">Edit</a></li><li class="disabled" ng-if="belongsToCurrentUser() &amp;&amp; disableEdit"><a href="">Edit disabled</a></li><li ng-if="belongsToCurrentUser() &amp;&amp; !disableDelete"><a href="" ng-click="destroy()">Remove</a></li><li class="disabled" ng-if="belongsToCurrentUser() &amp;&amp; disableDelete"><a href="">Remove disabled</a></li><li ng-if="!belongsToCurrentUser()"><a href="" ng-click="reportAbuse()">Report Abuse</a></li></ul></div></div><div class="panel-body"><div class="post-user-mobile"><a class="avatar" href="" ng-href="{{ submissionUpdate.user.permalink }}"><img ng-src="{{ submissionUpdate.user.large_avatar_url }}" /></a><div class="user-info"><a class="name" href="" ng-bind-html="submissionUpdate.user.full_name" ng-href="{{ submissionUpdate.user.permalink }}"></a><div class="headline" ng-bind-html="submissionUpdate.user.headline"></div></div></div><h4 ng-bind-html="submissionUpdate.title | trustAsHtml" ng-if="submissionUpdate.title"></h4><div as-light-box="" class="post-content" ng-bind-html="submissionUpdate.body_presentation_html | trustAsHtml"></div><div class="edited-notice" ng-if="submissionUpdate.edited_at"><div class="separator"></div><i>Edited {{ submissionUpdate.edited_at | fromNow }}</i></div><ul class="post-actions"><li><a href="" ng-authorized-click="toggleLike()" ng-if="!submissionUpdate.liked">Like</a><a class="liked" href="" ng-click="toggleLike()" ng-if="submissionUpdate.liked"><i class="fa fa-check fa-pad-right"></i>Liked</a></li><li><as-likes votable="submissionUpdate" votable-type="SubmissionUpdate"></as-likes></li><li ng-if="!disableComment"><a href="" ng-authorized-artist-click="reply()">Reply</a></li></ul></div></div><div class="panel panel-default" ng-if="editing"><div class="panel-heading"><h4 class="panel-title">Edit</h4></div><submission-update-form challenge-id="challenge.id" marmoset-viewer-max-size="challenge.marmoset_viewer_max_size" submission-update="submissionUpdate"></submission-update-form></div><discussion-post allow-nested-reply="false" challenge="challenge" disable-comment="disableComment" discussion-post="reply" ng-repeat="reply in submissionUpdate.replies"></discussion-post><div class="discussion-post discussion-nested-reply" ng-if="replying"><div class="discussion-post-user"><a class="avatar" href="" ng-href="/{{ currentUser.username }}"><img ng-src="{{ currentUser.avatar_url }}" /></a><a class="name" href="" ng-bind-html="currentUser.full_name" ng-href="/{{ currentUser.username }}"></a></div><div class="discussion-post-body"><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title">Post a reply</h4></div><discussion-post-form current-user="currentUser" discussable-id="{{ submissionUpdate.id }}" discussable-type="SubmissionUpdate"></discussion-post-form></div></div></div></div></div>'),e.put("contests/directives/submission_update-en.html",'<div class="discussion-post" id="submission-update-{{ submissionUpdate.id }}"><div class="discussion-post-user"><a class="avatar" href="" ng-href="{{ submissionUpdate.user.permalink }}"><img ng-src="{{ submissionUpdate.user.large_avatar_url }}" /></a><div class="name"><a href="" ng-bind-html="submissionUpdate.user.full_name" ng-href="{{ submissionUpdate.user.permalink }}"></a><a class="pro-badge smaller" href="/pro" ng-if="submissionUpdate.user.pro_member" target="_top">PRO</a><a class="host-badge smaller" ng-if="isHost()" target="_top">HOST</a><div class="staff-badge smaller" ng-if="submissionUpdate.user.is_staff">STAFF</div></div><div class="headline" ng-bind-html="submissionUpdate.user.headline"></div><div class="location"><i class="fa fa-map-marker fa-pad-right"></i><span ng-bind-html="submissionUpdate.user.location"></span></div></div><div class="discussion-post-body"><div class="panel panel-default" ng-if="!editing"><div class="panel-heading">Posted {{ submissionUpdate.created_at | fromNow }}<div class="btn-group pull-right" ng-if="currentUser.id"><a class="dropdown-toggle btn btn-default btn-xs" data-toggle="dropdown" href=""><i class="fa fa-chevron-down"></i></a><ul class="dropdown-menu dropdown-menu-right dropdown-menu-sm"><li ng-if="belongsToCurrentUser() &amp;&amp; !disableEdit"><a href="" ng-click="edit()">Edit</a></li><li class="disabled" ng-if="belongsToCurrentUser() &amp;&amp; disableEdit"><a href="">Edit disabled</a></li><li ng-if="belongsToCurrentUser() &amp;&amp; !disableDelete"><a href="" ng-click="destroy()">Remove</a></li><li class="disabled" ng-if="belongsToCurrentUser() &amp;&amp; disableDelete"><a href="">Remove disabled</a></li><li ng-if="!belongsToCurrentUser()"><a href="" ng-click="reportAbuse()">Report Abuse</a></li></ul></div></div><div class="panel-body"><div class="post-user-mobile"><a class="avatar" href="" ng-href="{{ submissionUpdate.user.permalink }}"><img ng-src="{{ submissionUpdate.user.large_avatar_url }}" /></a><div class="user-info"><a class="name" href="" ng-bind-html="submissionUpdate.user.full_name" ng-href="{{ submissionUpdate.user.permalink }}"></a><div class="headline" ng-bind-html="submissionUpdate.user.headline"></div></div></div><h4 ng-bind-html="submissionUpdate.title | trustAsHtml" ng-if="submissionUpdate.title"></h4><div as-light-box="" class="post-content" ng-bind-html="submissionUpdate.body_presentation_html | trustAsHtml"></div><div class="edited-notice" ng-if="submissionUpdate.edited_at"><div class="separator"></div><i>Edited {{ submissionUpdate.edited_at | fromNow }}</i></div><ul class="post-actions"><li><a href="" ng-authorized-click="toggleLike()" ng-if="!submissionUpdate.liked">Like</a><a class="liked" href="" ng-click="toggleLike()" ng-if="submissionUpdate.liked"><i class="fa fa-check fa-pad-right"></i>Liked</a></li><li><as-likes votable="submissionUpdate" votable-type="SubmissionUpdate"></as-likes></li><li ng-if="!disableComment"><a href="" ng-authorized-artist-click="reply()">Reply</a></li></ul></div></div><div class="panel panel-default" ng-if="editing"><div class="panel-heading"><h4 class="panel-title">Edit</h4></div><submission-update-form challenge-id="challenge.id" marmoset-viewer-max-size="challenge.marmoset_viewer_max_size" submission-update="submissionUpdate"></submission-update-form></div><discussion-post allow-nested-reply="false" challenge="challenge" disable-comment="disableComment" discussion-post="reply" ng-repeat="reply in submissionUpdate.replies"></discussion-post><div class="discussion-post discussion-nested-reply" ng-if="replying"><div class="discussion-post-user"><a class="avatar" href="" ng-href="/{{ currentUser.username }}"><img ng-src="{{ currentUser.avatar_url }}" /></a><a class="name" href="" ng-bind-html="currentUser.full_name" ng-href="/{{ currentUser.username }}"></a></div><div class="discussion-post-body"><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title">Post a reply</h4></div><discussion-post-form current-user="currentUser" discussable-id="{{ submissionUpdate.id }}" discussable-type="SubmissionUpdate"></discussion-post-form></div></div></div></div></div>'),e.put("contests/directives/submission_update.html",e.get("contests/directives/submission_update-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/directives/submission_update_form-ru.html",'<form id="submission-update-form-{{$id}}" name="submissionUpdateForm" ng-submit="submitForm()"><div class="panel-body-wysihtml"><div class="form-group form-group-title-input" ng-class="{ &#39;has-error&#39;: submissionUpdateForm.title.$invalid &amp;&amp; submissionUpdateForm.title.$dirty }"><input autofocus="true" class="form-control" maxlength="200" name="title" ng-model="submissionUpdate.title" placeholder="\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u041e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u044f" required="true" type="text" /><div class="help-block" ng-messages="submissionUpdateForm.title.$error" ng-show="submissionUpdateForm.title.$invalid &amp;&amp; submissionUpdateForm.title.$dirty"><div ng-message="required">Required</div></div></div><textarea froala="froalaOptions" name="body" ng-if="froalaOptions" ng-model="submissionUpdate.body" required="true" type="text"></textarea></div><div class="panel-body"><div class="btn-toolbar"><div class="btn-group"><button class="btn btn-primary btn-sm" ng-disabled="submissionUpdateForm.$invalid || submittingForm" type="submit"><span ng-if="!submittingForm">\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c</span><span ng-if="submittingForm">\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435...</span></button></div><div class="btn-group"><a class="btn btn-default btn-sm" href="" ng-click="cancel()" ng-disabled="submittingForm">\u041e\u0442\u043c\u0435\u043d\u0430</a></div></div></div></form>'),e.put("contests/directives/submission_update_form-en.html",'<form id="submission-update-form-{{$id}}" name="submissionUpdateForm" ng-submit="submitForm()"><div class="panel-body-wysihtml"><div class="form-group form-group-title-input" ng-class="{ &#39;has-error&#39;: submissionUpdateForm.title.$invalid &amp;&amp; submissionUpdateForm.title.$dirty }"><input autofocus="true" class="form-control" maxlength="200" name="title" ng-model="submissionUpdate.title" placeholder="Post Title" required="true" type="text" /><div class="help-block" ng-messages="submissionUpdateForm.title.$error" ng-show="submissionUpdateForm.title.$invalid &amp;&amp; submissionUpdateForm.title.$dirty"><div ng-message="required">Required</div></div></div><textarea froala="froalaOptions" name="body" ng-if="froalaOptions" ng-model="submissionUpdate.body" required="true" type="text"></textarea></div><div class="panel-body"><div class="btn-toolbar"><div class="btn-group"><button class="btn btn-primary btn-sm" ng-disabled="submissionUpdateForm.$invalid || submittingForm" type="submit"><span ng-if="!submittingForm">Submit</span><span ng-if="submittingForm">Please wait...</span></button></div><div class="btn-group"><a class="btn btn-default btn-sm" href="" ng-click="cancel()" ng-disabled="submittingForm">Cancel</a></div></div></div></form>'),e.put("contests/directives/submission_update_form.html",e.get("contests/directives/submission_update_form-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/judging/index-ru.html",'<div class="container" ng-show="!showSubmission"><judging-header challenge="challenge" contest="challenge.contest" menu-item="menu_item"></judging-header><div class="text-center"><h3>Judging Instructions</h3><p class="lead">View the submissions and shortlist them.</p></div><div class="row"><div class="col-sm-5"><ul class="link-bar"><li class="link-bar-label">Sort by:</li><li><a href="#" ng-class="{active: isSortingSelected(&#39;popular&#39;)}" ng-click="setSorting(&#39;popular&#39;)">Public Popularity</a></li><li><a href="#" ng-class="{active: isSortingSelected(&#39;shortlisted_count&#39;)}" ng-click="setSorting(&#39;shortlisted_count&#39;)">Judges Shortlisted</a></li><li><a href="#" ng-class="{active: isSortingSelected(&#39;stars_rating&#39;)}" ng-click="setSorting(&#39;stars_rating&#39;)">Stars</a></li></ul></div><div class="col-sm-7 text-right"><ul class="link-bar"><li class="link-bar-label">Filter:</li><li><a href="#" ng-class="{active: isFilterSelected(&#39;all&#39;)}" ng-click="setFilter(&#39;all&#39;)">All Submissions</a></li><li ng-if="showUnviewedFilter"><a href="#" ng-class="{active: isFilterSelected(&#39;unviewed&#39;)}" ng-click="setFilter(&#39;unviewed&#39;)"> Unviewed by me</a></li><li><a href="#" ng-class="{active: isFilterSelected(&#39;shortlisted_anyone&#39;)}" ng-click="setFilter(&#39;shortlisted_anyone&#39;)">Shortlisted by anyone</a></li><li><a href="#" ng-class="{active: isFilterSelected(&#39;rejected&#39;)}" ng-click="setFilter(&#39;rejected&#39;)">Rejected by anyone</a></li><li><a href="#" ng-class="{active: isFilterSelected(&#39;picked&#39;)}" ng-click="setFilter(&#39;picked&#39;)">Picks</a></li><li><div class="checkbox"><label><input name="include_rejected" ng-model="filterOptions.include_rejected" type="checkbox" />&nbsp;Include rejected and disqualified</label></div></li><li><div class="checkbox"><label><input name="include_uncompleted" ng-model="filterOptions.include_uncompleted" type="checkbox" />&nbsp;Include unfinished</label></div></li></ul></div></div><div class="clearfix"></div><div class="separator"></div><p class="lead text-center">{{ collection.totalCount }} Submissions</p><div class="challenge-submissions" infinite-scroll="loadMore()" infinite-scroll-distance="1"><judging-submission click-action="displaySubmission" ng-repeat="submission in collection.items" show-labels="true" submission="submission" url="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging/submissions/{{ submission.id }}"></judging-submission></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner></div><judging-submission-browser challenge="challenge" contest="contest" filter="filter" filter-options="filterOptions" ng-show="showSubmission" sorting="sorting" submission-id="submissionId" url-scope="submissions"></judging-submission-browser>'),e.put("contests/judging/index-en.html",'<div class="container" ng-show="!showSubmission"><judging-header challenge="challenge" contest="challenge.contest" menu-item="menu_item"></judging-header><div class="text-center"><h3>Judging Instructions</h3><p class="lead">View the submissions and shortlist them.</p></div><div class="row"><div class="col-sm-5"><ul class="link-bar"><li class="link-bar-label">Sort by:</li><li><a href="#" ng-class="{active: isSortingSelected(&#39;popular&#39;)}" ng-click="setSorting(&#39;popular&#39;)">Public Popularity</a></li><li><a href="#" ng-class="{active: isSortingSelected(&#39;shortlisted_count&#39;)}" ng-click="setSorting(&#39;shortlisted_count&#39;)">Judges Shortlisted</a></li><li><a href="#" ng-class="{active: isSortingSelected(&#39;stars_rating&#39;)}" ng-click="setSorting(&#39;stars_rating&#39;)">Stars</a></li></ul></div><div class="col-sm-7 text-right"><ul class="link-bar"><li class="link-bar-label">Filter:</li><li><a href="#" ng-class="{active: isFilterSelected(&#39;all&#39;)}" ng-click="setFilter(&#39;all&#39;)">All Submissions</a></li><li ng-if="showUnviewedFilter"><a href="#" ng-class="{active: isFilterSelected(&#39;unviewed&#39;)}" ng-click="setFilter(&#39;unviewed&#39;)"> Unviewed by me</a></li><li><a href="#" ng-class="{active: isFilterSelected(&#39;shortlisted_anyone&#39;)}" ng-click="setFilter(&#39;shortlisted_anyone&#39;)">Shortlisted by anyone</a></li><li><a href="#" ng-class="{active: isFilterSelected(&#39;rejected&#39;)}" ng-click="setFilter(&#39;rejected&#39;)">Rejected by anyone</a></li><li><a href="#" ng-class="{active: isFilterSelected(&#39;picked&#39;)}" ng-click="setFilter(&#39;picked&#39;)">Picks</a></li><li><div class="checkbox"><label><input name="include_rejected" ng-model="filterOptions.include_rejected" type="checkbox" />&nbsp;Include rejected and disqualified</label></div></li><li><div class="checkbox"><label><input name="include_uncompleted" ng-model="filterOptions.include_uncompleted" type="checkbox" />&nbsp;Include unfinished</label></div></li></ul></div></div><div class="clearfix"></div><div class="separator"></div><p class="lead text-center">{{ collection.totalCount }} Submissions</p><div class="challenge-submissions" infinite-scroll="loadMore()" infinite-scroll-distance="1"><judging-submission click-action="displaySubmission" ng-repeat="submission in collection.items" show-labels="true" submission="submission" url="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging/submissions/{{ submission.id }}"></judging-submission></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner></div><judging-submission-browser challenge="challenge" contest="contest" filter="filter" filter-options="filterOptions" ng-show="showSubmission" sorting="sorting" submission-id="submissionId" url-scope="submissions"></judging-submission-browser>'),e.put("contests/judging/index.html",e.get("contests/judging/index-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/judging/shortlist-ru.html",'<div class="container" ng-show="!showSubmission"><judging-header challenge="challenge" contest="challenge.contest" menu-item="menu_item"></judging-header><div class="text-center"><h3>Shortlisting Instructions</h3><p class="lead">Drag and drop your shortlisted submissions in the order that you\'d like.</p></div><div class="clearfix"></div><div class="separator"></div><div class="challenge-submissions"><judging-submission click-action="displaySubmission" ng-repeat="submission in collection.items" position="{{$index + 1}}" remove-action="removeFromShortlist" submission="submission" url="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging/shortlist/{{ submission.id }}"></judging-submission></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner></div><judging-submission-browser challenge="challenge" contest="contest" filter="filter" ng-show="showSubmission" sorting="sorting" submission-id="submissionId" url-scope="shortlist"></judging-submission-browser>'),e.put("contests/judging/shortlist-en.html",'<div class="container" ng-show="!showSubmission"><judging-header challenge="challenge" contest="challenge.contest" menu-item="menu_item"></judging-header><div class="text-center"><h3>Shortlisting Instructions</h3><p class="lead">Drag and drop your shortlisted submissions in the order that you\'d like.</p></div><div class="clearfix"></div><div class="separator"></div><div class="challenge-submissions"><judging-submission click-action="displaySubmission" ng-repeat="submission in collection.items" position="{{$index + 1}}" remove-action="removeFromShortlist" submission="submission" url="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging/shortlist/{{ submission.id }}"></judging-submission></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner></div><judging-submission-browser challenge="challenge" contest="contest" filter="filter" ng-show="showSubmission" sorting="sorting" submission-id="submissionId" url-scope="shortlist"></judging-submission-browser>'),e.put("contests/judging/shortlist.html",e.get("contests/judging/shortlist-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/judging/standings-ru.html",'<div class="container" ng-show="!showSubmission"><judging-header challenge="challenge" contest="challenge.contest" menu-item="menu_item"></judging-header><div class="separator"></div><div class="text-center"><h3>Standings</h3><p class="lead">Here are the current standings based on judging to date</p></div><div class="text-center"><a class="btn btn-success" ng-click="recalculate()">Recalculate ratings</a></div><div class="separator"></div><div class="text-center"><h3>Overall Standings</h3></div><div class="separator"></div><div class="challenge-submissions"><judging-submission click-action="displaySubmission" ng-repeat="submission in overallStandings.items" position="{{$index + 1}}" submission="submission" url="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging/standings/{{ submission.id }}"></judging-submission></div><div class="separator"></div><div ng-repeat="judge in judgeStandings.items"><div class="text-center"><h3>{{ judge.user.full_name | unescapeHTML }}\'s selections</h3></div><div class="separator"></div><div class="text-center" ng-show="!judge.standings.length">This judge has no shotlisted submissions yet</div><div class="challenge-submissions"><judging-submission click-action="displaySubmission" ng-repeat="submission in judge.standings" position="{{$index + 1}}" submission="submission" url="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging/standings/{{ submission.id }}"></judging-submission></div><div class="separator"></div></div></div><judging-submission-browser challenge="challenge" contest="contest" filter="filter" ng-show="showSubmission" sorting="sorting" submission-id="submissionId" url-scope="standings"></judging-submission-browser>'),e.put("contests/judging/standings-en.html",'<div class="container" ng-show="!showSubmission"><judging-header challenge="challenge" contest="challenge.contest" menu-item="menu_item"></judging-header><div class="separator"></div><div class="text-center"><h3>Standings</h3><p class="lead">Here are the current standings based on judging to date</p></div><div class="text-center"><a class="btn btn-success" ng-click="recalculate()">Recalculate ratings</a></div><div class="separator"></div><div class="text-center"><h3>Overall Standings</h3></div><div class="separator"></div><div class="challenge-submissions"><judging-submission click-action="displaySubmission" ng-repeat="submission in overallStandings.items" position="{{$index + 1}}" submission="submission" url="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging/standings/{{ submission.id }}"></judging-submission></div><div class="separator"></div><div ng-repeat="judge in judgeStandings.items"><div class="text-center"><h3>{{ judge.user.full_name | unescapeHTML }}\'s selections</h3></div><div class="separator"></div><div class="text-center" ng-show="!judge.standings.length">This judge has no shotlisted submissions yet</div><div class="challenge-submissions"><judging-submission click-action="displaySubmission" ng-repeat="submission in judge.standings" position="{{$index + 1}}" submission="submission" url="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging/standings/{{ submission.id }}"></judging-submission></div><div class="separator"></div></div></div><judging-submission-browser challenge="challenge" contest="contest" filter="filter" ng-show="showSubmission" sorting="sorting" submission-id="submissionId" url-scope="standings"></judging-submission-browser>'),e.put("contests/judging/standings.html",e.get("contests/judging/standings-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/judging/winners-ru.html",'<div class="container" ng-show="!showSubmission"><judging-header challenge="challenge" contest="challenge.contest" menu-item="menu_item"></judging-header><div class="text-center"><h3>Current Winners</h3></div><div ng-if="!showWinners &amp;&amp; !challengeWinnersSaved"><div class="text-center"><p class="lead">You have not set winners yet</p></div></div><div ng-if="!showWinners &amp;&amp; challengeWinnersSaved"><div class="challenge-submissions winners"><judging-submission click-action="displaySubmission" ng-repeat="submission in challengeWinners" position="{{$index + 1}}" show-winners="true" submission="submission" url="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging/winners/{{ submission.id }}"></judging-submission></div></div><div class="well drop-files hidden-sm hidden-xs" id="dropzone" ng-show="showWinners"><div class="text-center"><p class="lead">Drag and drop submissions here and sort in the order that you\'d like.</p></div><div class="text-center" ng-if="challengeWinners.length == 0"><br />Drop submissions here<div class="separator"></div></div><div class="challenge-submissions winners-form"><judging-submission ng-repeat="submission in challengeWinners" position="{{$index + 1}}" remove-action="removeFromWinners" show-winners="true" submission="submission" url="#"></judging-submission></div></div><div class="text-center"><ul class="list-inline"><li><a class="btn btn-success btn-lg" ng-click="showInitialWinnersForm()" ng-if="!showWinners &amp;&amp; !challengeWinnersSaved &amp;&amp; !challenge.completed"><i class="fa fa-pencil fa-pad-right"></i>Set Winners</a><a class="btn btn-success btn-lg" ng-click="showWinnersForm()" ng-if="!showWinners &amp;&amp; challengeWinnersSaved &amp;&amp; !challenge.completed"><i class="fa fa-pencil fa-pad-right"></i>Change Winners</a><a class="btn btn-success btn-lg" ng-click="saveWinners()" ng-if="showWinners">Save Winners</a></li><li><a class="btn btn-primary btn-lg" ng-click="finishChallenge()" ng-if="!showWinners &amp;&amp; !challenge.completed &amp;&amp; canManageChallenge"><i class="fa fa-check fa-pad-right"></i>Finish Challenge</a></li></ul></div><div class="clearfix"></div><div class="separator"></div><div class="text-center"><h3>Current Standings</h3><p class="lead" ng-if="showWinners">We only display standings that have not been added to winners list.</p></div><div class="separator"></div><div class="challenge-submissions standings" ng-if="showWinners"><judging-submission ng-repeat="submission in collection.items | filter:submissionsExceptWinners" position="{{$index + 1}}" submission="submission" url="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging/winners/{{ submission.id }}"></judging-submission></div><div class="challenge-submissions" ng-if="!showWinners"><judging-submission click-action="displaySubmission" ng-repeat="submission in collection.items" position="{{$index + 1}}" submission="submission" url="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging/winners/{{ submission.id }}"></judging-submission></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner></div><judging-submission-browser challenge="challenge" contest="contest" filter="filter" ng-show="showSubmission" sorting="sorting" submission-id="submissionId" url-scope="shortlist"></judging-submission-browser>'),e.put("contests/judging/winners-en.html",'<div class="container" ng-show="!showSubmission"><judging-header challenge="challenge" contest="challenge.contest" menu-item="menu_item"></judging-header><div class="text-center"><h3>Current Winners</h3></div><div ng-if="!showWinners &amp;&amp; !challengeWinnersSaved"><div class="text-center"><p class="lead">You have not set winners yet</p></div></div><div ng-if="!showWinners &amp;&amp; challengeWinnersSaved"><div class="challenge-submissions winners"><judging-submission click-action="displaySubmission" ng-repeat="submission in challengeWinners" position="{{$index + 1}}" show-winners="true" submission="submission" url="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging/winners/{{ submission.id }}"></judging-submission></div></div><div class="well drop-files hidden-sm hidden-xs" id="dropzone" ng-show="showWinners"><div class="text-center"><p class="lead">Drag and drop submissions here and sort in the order that you\'d like.</p></div><div class="text-center" ng-if="challengeWinners.length == 0"><br />Drop submissions here<div class="separator"></div></div><div class="challenge-submissions winners-form"><judging-submission ng-repeat="submission in challengeWinners" position="{{$index + 1}}" remove-action="removeFromWinners" show-winners="true" submission="submission" url="#"></judging-submission></div></div><div class="text-center"><ul class="list-inline"><li><a class="btn btn-success btn-lg" ng-click="showInitialWinnersForm()" ng-if="!showWinners &amp;&amp; !challengeWinnersSaved &amp;&amp; !challenge.completed"><i class="fa fa-pencil fa-pad-right"></i>Set Winners</a><a class="btn btn-success btn-lg" ng-click="showWinnersForm()" ng-if="!showWinners &amp;&amp; challengeWinnersSaved &amp;&amp; !challenge.completed"><i class="fa fa-pencil fa-pad-right"></i>Change Winners</a><a class="btn btn-success btn-lg" ng-click="saveWinners()" ng-if="showWinners">Save Winners</a></li><li><a class="btn btn-primary btn-lg" ng-click="finishChallenge()" ng-if="!showWinners &amp;&amp; !challenge.completed &amp;&amp; canManageChallenge"><i class="fa fa-check fa-pad-right"></i>Finish Challenge</a></li></ul></div><div class="clearfix"></div><div class="separator"></div><div class="text-center"><h3>Current Standings</h3><p class="lead" ng-if="showWinners">We only display standings that have not been added to winners list.</p></div><div class="separator"></div><div class="challenge-submissions standings" ng-if="showWinners"><judging-submission ng-repeat="submission in collection.items | filter:submissionsExceptWinners" position="{{$index + 1}}" submission="submission" url="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging/winners/{{ submission.id }}"></judging-submission></div><div class="challenge-submissions" ng-if="!showWinners"><judging-submission click-action="displaySubmission" ng-repeat="submission in collection.items" position="{{$index + 1}}" submission="submission" url="/contests/{{ challenge.contest.slug }}/challenges/{{ challenge.id }}/judging/winners/{{ submission.id }}"></judging-submission></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner></div><judging-submission-browser challenge="challenge" contest="contest" filter="filter" ng-show="showSubmission" sorting="sorting" submission-id="submissionId" url-scope="shortlist"></judging-submission-browser>'),e.put("contests/judging/winners.html",e.get("contests/judging/winners-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/submissions/new-ru.html",'<div class="container"><form name="newSubmissionForm" ng-submit="submitForm()"><div class="row"><div class="col-md-8 col-md-offset-2"><div class="page-header"><h1>\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u0442\u0443\u0440\u043d\u0438\u0440!</h1></div><div class="panel panel-default" ng-if="submission"><div class="panel-heading"><h4 class="panel-title">\u0417\u0430\u043d\u043e\u0432\u043e \u0432\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u0442\u0443\u0440\u043d\u0438\u0440?</h4></div><div class="panel-body"><p>It looks like you&#39;ve already joined this challenge before and withdrawn. You can rejoin the challenge and pick up from where you left off.</p><div class="btn-toolbar"><div class="btn-group"><button class="btn btn-success" type="submit">\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c</button></div><div class="btn-group"><a class="btn btn-default" href="" ng-click="cancel()">\u041e\u0442\u043c\u0435\u043d\u0430</a></div></div></div></div><div class="panel panel-default" ng-if="!submission"><div class="panel-heading"><h4 class="panel-title">\u0413\u043e\u0442\u043e\u0432 \u0432\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u0442\u0443\u0440\u043d\u0438\u0440?</h4></div><div class="panel-body"><h3>Checking profile completeness</h3><p>Profile completeness: {{ user.profile_completeness_percentage }}%</p><ul class="list-unstyled challenge-prerequisites-list"><li ng-repeat="(key, value) in user.profile_completeness"><i class="fa fa-fw fa-lg fa-check fa-pad-right" ng-if="value"></i><i class="fa fa-fw fa-lg fa-times fa-pad-right" ng-if="!value"></i><span ng-class="{ &#39;danger&#39;: !value }" ng-if="key == &#39;projects&#39;">\u0420\u0430\u0431\u043e\u0442\u0430</span><span ng-class="{ &#39;danger&#39;: !value }" ng-if="key == &#39;summary&#39;">Profile summary</span><span ng-class="{ &#39;danger&#39;: !value }" ng-if="key == &#39;skills&#39;">\u041d\u0430\u0432\u044b\u043a\u0438</span><span ng-class="{ &#39;danger&#39;: !value }" ng-if="key == &#39;software&#39;">Software proficiency</span></li></ul><div ng-if="user.profile_completeness_percentage &lt; 100"><div class="separator"></div><div class="alert alert-warning"><h4><i class="fa fa-exclamation-triangle fa-pad-right fa-lg"></i>Incomplete profile</h4><p>Hey it looks like you have an incomplete ArtStation profile.</p><p>Completing your profile gives you tons of benefits - recruiters can find you more easily on the artist search, people can see what your skills and software proficiencies are, etc.</p><p ng-if="challenge.require_complete_profile"><b>This challenge requires a completed profile to participate.</b></p><p ng-if="!challenge.require_complete_profile">This challenge does not require a completed profile, but other challenges such as recruiting challenges do. We recommend that you complete your profile for your own benefit.</p><p><a class="btn btn-sm btn-default" href="/myartstation/profile/resume" target="_self"><i class="fa fa-arrow-right fa-pad-right"></i>Complete my profile</a></p></div></div><hr /><h3>Get updates from sponsors</h3><div class="checkbox"><label ng-if="challenge.twitch_tag != &#39;#TestDriveMARI&#39; &amp;&amp; challenge.twitch_tag != &#39;#TestDriveMODO&#39;"><input name="marketingOptIn" ng-model="newSubmission.marketingOptIn" type="checkbox" />  Yes I would like the challenge sponsors to be able to contact me with special offers and updates </label><label ng-if="challenge.twitch_tag == &#39;#TestDriveMARI&#39; || challenge.twitch_tag == &#39;#TestDriveMODO&#39;"><input name="marketingOptIn" ng-model="newSubmission.marketingOptIn" type="checkbox" />Yes I would like the Challenge Sponsors Wacom Co., Ltd. and The Foundry Visionmongers Limited to contact me with information and offers about its pen displays, tablets and software products and services. By selecting the checkbox I consent to receiving those communications from the Challenge Sponsors. You may withdraw your consent at any time.</label></div><div class="separator-sm"></div><hr /><div class="separator"></div><h3>Challenge Legal Terms</h3><div class="separator-sm"></div><div class="challenge-legal-terms" ng-bind-html="challenge.legal_presentation_html | trustAsHtml"></div><div class="separator-sm"></div><div class="checkbox"><label><input name="acceptTerms" ng-change="setCanContinue(acceptTerms)" ng-model="acceptTerms" type="checkbox" />  I confirm that I am over 18 years old, all my profile information is true, I have read the legal terms, and will accept and abide by them </label></div><div class="separator"></div><div class="btn-toolbar"><div class="btn-group"><button class="btn btn-success" ng-disabled="!canContinue" type="submit">\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c</button></div><div class="btn-group"><a class="btn btn-default" href="" ng-click="cancel()">\u041e\u0442\u043c\u0435\u043d\u0430</a></div></div></div></div></div></div></form></div>'),e.put("contests/submissions/new-en.html",'<div class="container"><form name="newSubmissionForm" ng-submit="submitForm()"><div class="row"><div class="col-md-8 col-md-offset-2"><div class="page-header"><h1>Accept the Challenge!</h1></div><div class="panel panel-default" ng-if="submission"><div class="panel-heading"><h4 class="panel-title">Rejoin the challenge?</h4></div><div class="panel-body"><p>It looks like you&#39;ve already joined this challenge before and withdrawn. You can rejoin the challenge and pick up from where you left off.</p><div class="btn-toolbar"><div class="btn-group"><button class="btn btn-success" type="submit">Rejoin</button></div><div class="btn-group"><a class="btn btn-default" href="" ng-click="cancel()">Cancel</a></div></div></div></div><div class="panel panel-default" ng-if="!submission"><div class="panel-heading"><h4 class="panel-title">Ready to join the challenge?</h4></div><div class="panel-body"><h3>Checking profile completeness</h3><p>Profile completeness: {{ user.profile_completeness_percentage }}%</p><ul class="list-unstyled challenge-prerequisites-list"><li ng-repeat="(key, value) in user.profile_completeness"><i class="fa fa-fw fa-lg fa-check fa-pad-right" ng-if="value"></i><i class="fa fa-fw fa-lg fa-times fa-pad-right" ng-if="!value"></i><span ng-class="{ &#39;danger&#39;: !value }" ng-if="key == &#39;projects&#39;">Artwork</span><span ng-class="{ &#39;danger&#39;: !value }" ng-if="key == &#39;summary&#39;">Profile summary</span><span ng-class="{ &#39;danger&#39;: !value }" ng-if="key == &#39;skills&#39;">Skills</span><span ng-class="{ &#39;danger&#39;: !value }" ng-if="key == &#39;software&#39;">Software proficiency</span></li></ul><div ng-if="user.profile_completeness_percentage &lt; 100"><div class="separator"></div><div class="alert alert-warning"><h4><i class="fa fa-exclamation-triangle fa-pad-right fa-lg"></i>Incomplete profile</h4><p>Hey it looks like you have an incomplete ArtStation profile.</p><p>Completing your profile gives you tons of benefits - recruiters can find you more easily on the artist search, people can see what your skills and software proficiencies are, etc.</p><p ng-if="challenge.require_complete_profile"><b>This challenge requires a completed profile to participate.</b></p><p ng-if="!challenge.require_complete_profile">This challenge does not require a completed profile, but other challenges such as recruiting challenges do. We recommend that you complete your profile for your own benefit.</p><p><a class="btn btn-sm btn-default" href="/myartstation/profile/resume" target="_self"><i class="fa fa-arrow-right fa-pad-right"></i>Complete my profile</a></p></div></div><hr /><h3>Get updates from sponsors</h3><div class="checkbox"><label ng-if="challenge.twitch_tag != &#39;#TestDriveMARI&#39; &amp;&amp; challenge.twitch_tag != &#39;#TestDriveMODO&#39;"><input name="marketingOptIn" ng-model="newSubmission.marketingOptIn" type="checkbox" />  Yes I would like the challenge sponsors to be able to contact me with special offers and updates </label><label ng-if="challenge.twitch_tag == &#39;#TestDriveMARI&#39; || challenge.twitch_tag == &#39;#TestDriveMODO&#39;"><input name="marketingOptIn" ng-model="newSubmission.marketingOptIn" type="checkbox" />Yes I would like the Challenge Sponsors Wacom Co., Ltd. and The Foundry Visionmongers Limited to contact me with information and offers about its pen displays, tablets and software products and services. By selecting the checkbox I consent to receiving those communications from the Challenge Sponsors. You may withdraw your consent at any time.</label></div><div class="separator-sm"></div><hr /><div class="separator"></div><h3>Challenge Legal Terms</h3><div class="separator-sm"></div><div class="challenge-legal-terms" ng-bind-html="challenge.legal_presentation_html | trustAsHtml"></div><div class="separator-sm"></div><div class="checkbox"><label><input name="acceptTerms" ng-change="setCanContinue(acceptTerms)" ng-model="acceptTerms" type="checkbox" />  I confirm that I am over 18 years old, all my profile information is true, I have read the legal terms, and will accept and abide by them </label></div><div class="separator"></div><div class="btn-toolbar"><div class="btn-group"><button class="btn btn-success" ng-disabled="!canContinue" type="submit">Submit</button></div><div class="btn-group"><a class="btn btn-default" href="" ng-click="cancel()">Cancel</a></div></div></div></div></div></div></form></div>'),e.put("contests/submissions/new.html",e.get("contests/submissions/new-en.html"))
}]),angular.module("templates").run(["$templateCache",function(e){e.put("contests/submissions/show-ru.html",'<a class="arrow-previous-sm fixed hidden-xs" href="#" ng-click="previous()" ng-if="submission.prev_id"><div class="arrow arrow-previous"></div></a><a class="arrow-next-sm fixed hidden-xs" href="#" ng-click="next()" ng-if="submission.next_id"><div class="arrow arrow-next"></div></a><div class="container form-prolongate-session"><div class="separator"></div><support-artstation-please asset-size="large" ng-if="challenge.show_ads"></support-artstation-please><div class="separator"></div><div class="separator"></div><div class="text-center"><ol class="breadcrumb"><li><a ng-href="/contests">Challenges</a></li><li><a ng-href="/contests/{{contest.slug}}">{{ contest.title }}</a></li><li><a ng-bind-html="challenge.title" ng-href="/contests/{{contest.slug}}/challenges/{{ challenge.id }}"></a></li><li ng-if="!challenge.is_private"><a ng-href="/contests/{{contest.slug}}/challenges/{{ challenge.id }}/submissions">\u041f\u0440\u0435\u0442\u0435\u043d\u0434\u0435\u043d\u0442\u044b</a></li><li class="active" ng-bind-html="submission.user.full_name"></li></ol></div><div class="challenge-header"><div class="page-header"><div class="text-center"><h2><small><a href="" ng-bind-html="challenge.title" ng-href="/contests/{{contest.slug}}/challenges/{{ challenge.id }}" ng-if="challenge.is_private"></a><a href="" ng-bind-html="challenge.title" ng-href="/contests/{{contest.slug}}/challenges/{{ challenge.id }}/submissions" ng-if="!challenge.is_private"></a></small><span ng-if="challenge.accepting_submissions"><span ng-if="submission.finalized">Completed Submission</span><span ng-if="!submission.finalized">\u041e\u0442\u043a\u0440\u044b\u0442 \u043f\u0440\u0438\u0435\u043c \u0440\u0430\u0431\u043e\u0442</span></span><span ng-if="!challenge.accepting_submissions"><span ng-if="challenge.submissions_ended"><span ng-if="submission.finalized &amp;&amp; (submission.disqualified || !challenge.completed)">Completed Submission</span><span ng-if="submission.finalized &amp;&amp; !submission.disqualified &amp;&amp; challenge.completed">Survivor Submission</span><span ng-if="!submission.finalized">Unfinished Submission</span></span><span ng-if="!challenge.submissions_ended">Submission</span></span></h2></div></div><div class="text-center"><div class="submission-awards"><div class="award" ng-repeat="badge in submission.badges"><img ng-src="/assets/badges/{{ badge.badge_type }}.png" /><div class="position">{{ badge.badge_title }}</div></div><div class="award" ng-if="submission.picked &amp;&amp; challenge.completed"><div class="label label-primary">Judge\'s Pick</div></div><div class="separator-lg"></div></div></div><div class="submission-user-header"><div class="avatar"><img ng-src="{{ submission.user.large_avatar_url }}" /></div><h1 class="name"><span ng-bind-html="submission.user.full_name"></span><a class="pro-badge top" href="/pro" ng-if="submission.user.pro_member" target="_top">PRO</a><a class="host-badge top" ng-if="isHost()" target="_top">HOST</a><div class="staff-badge top" ng-if="submission.user.is_staff">STAFF</div></h1><div class="location" ng-if="submission.user.location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="submission.user.location"></span></div></div></div><div ng-if="currentUser.id &amp;&amp; currentUser.id != submission.user.id &amp;&amp; !challenge.is_private"><div class="separator"></div><div class="btn-toolbar btn-toolbar-centered"><div class="btn-group"><a class="btn btn-success btn-sm" href="" ng-click="toggleLike()" ng-if="!submission.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</a><a class="btn btn-default btn-sm" href="" ng-click="toggleLike()" ng-if="submission.liked"><i class="fa fa-check fa-pad-right"></i>\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</a></div><div class="btn-group"><follow-button user="submission.user"></follow-button></div></div></div><div ng-if="!challenge.is_private"><div class="separator"></div><ul class="list-inline text-center"><li><i class="fa fa-pad-right fa-eye"></i><as-pluralize count="submission.views_count" dict="counters.views"></as-pluralize></li><li><i class="fa fa-pad-right fa-thumbs-up"></i><as-likes votable="submission" votable-type="Submission"></as-likes></li><li><i class="fa fa-pad-right fa-users"></i><as-pluralize count="submission.user.followers_count" dict="counters.followers"></as-pluralize></li></ul></div><div ng-if="!challenge.is_private"><div class="btn-toolbar btn-toolbar-centered"><div class="btn-group"><button class="btn btn-facebook btn-sm" ng-click="shareOnFacebook()" style="display: block !important;"><i class="fa fa-facebook fa-fw"></i></button></div><div class="btn-group"><button class="btn btn-twitter btn-sm" ng-click="shareOnTwitter()" style="display: block !important;"><i class="fa fa-twitter fa-fw"></i></button></div></div><div class="separator"></div></div><div ng-if="currentUser.id == submission.user.id &amp;&amp; challenge_before_start"><div class="separator"></div><div class="row"><div class="col-sm-6 col-md-offset-3"><div class="text-center">Thank you for registering for the <b>{{ challenge.title }}</b>!<br />The challenge will open for submissions on <b>{{ challenge.submission_updates_start_at | moment: \'dddd, DD MMMM YYYY\' }}</b>.<br />The full challenge briefing will be announced on that day. Contestants will be notified by email and on the challenge announcements page.</div></div></div></div><div ng-if="currentUser.id == submission.user.id &amp;&amp; challenge.accepting_submissions"><div class="separator"></div><div class="btn-toolbar btn-toolbar-centered"><div class="btn-group" ng-if="!submission.finalized"><a class="btn btn-success" href="" ng-click="showPostUpdateForm()"><i class="fa fa-upload fa-pad-right"></i>\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435</a></div><div class="btn-group"><a class="btn btn-primary" href="" ng-click="showFinalizeModal()" ng-if="!submission.finalized"><i class="fa fa-exclamation fa-pad-right"></i>Finalize submission</a><a class="btn btn-default" href="" ng-click="showFinalizeModal()" ng-if="submission.finalized"><i class="fa fa-check fa-pad-right"></i>Finalized</a></div><div class="btn-group" ng-if="twitchStatus &amp;&amp; !twitchStatus.streaming &amp;&amp; !challenge.is_private"><a class="btn btn-default" href="" ng-click="showTwitchForm()"><i class="fa fa-twitch fa-pad-right"></i>Twitch this</a></div></div><div class="separator-sm"></div><div class="text-center"><ul class="list-inline"><li ng-if="submission.finalized"><small><a href="" ng-click="showFinalizeModal()">Unfinalize</a></small></li><li><small><a href="" ng-click="withdraw()">\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0442\u0443\u0440\u043d\u0438\u0440\u0430</a></small></li></ul></div></div><div ng-if="twitchStatus &amp;&amp; twitchStatus.streaming"><div class="separator-lg"></div><h3 class="text-center">Twitch Stream</h3><div class="twitch-player"><div class="twitch-view"><div id="twitch-stream" ng-bind-html="twitchStatus.embed_code | trustAsHtml"></div></div><div class="twitch-chat" ng-bind-html="twitchStatus.chat_embed_code | trustAsHtml"></div></div></div><div class="row" ng-if="startTwitchStreaming"><div class="col-md-10 col-md-offset-1"><div class="separator"></div><div class="start-twitch"><div class="twitch-logo"><img src="/assets/challenges/twitch_logo.png" style="width: 100px; height: auto; opacity: 0.95;" /></div><div class="twitch-description"><div class="panel panel-default"><div class="panel-body" ng-if="twitchStatus &amp;&amp; !twitchStatus.current_user_connected"><p>Please connect your Twitch account to start streaming.</p><p><a class="btn btn-primary btn-sm" href="/users/auth/twitch" target="_self"><i class="fa fa-pad-right fa-twitch"></i>Hook up with Twitch</a></p><p><a href="http://support.artstation.com/knowledge_base/topics/how-do-i-stream-to-artstation-using-twitch" target="_blank">ArtStation Twitch Streaming Guide</a></p></div><div class="panel-body" ng-if="twitchStatus &amp;&amp; twitchStatus.current_user_connected &amp;&amp; !twitchStatus.streaming"><p>Start streaming to Twitch and add "<b>{{challenge.twitch_tag}}</b>" to the title of your broadcast, and set your game to "Creative".</p><p>Your stream will appear here in about a minute after Twitch starts streaming.</p><p><a href="http://support.artstation.com/knowledge_base/topics/how-do-i-stream-to-artstation-using-twitch" target="_blank">ArtStation Twitch Streaming Guide</a></p><loading-spinner></loading-spinner><div class="text-center small">Waiting for Twitch streaming to start...</div><a class="btn btn-sm btn-default" href="" ng-click="hideTwitchForm()">\u041e\u0442\u043c\u0435\u043d\u0430</a></div></div></div></div></div></div><div class="separator-lg"></div><div class="row" ng-if="postUpdate"><div class="col-md-10 col-md-offset-1"><div class="discussion-post"><div class="discussion-post-user"><a class="avatar" href="" ng-href="/{{ currentUser.username }}"><img ng-src="{{ currentUser.avatar_url }}" /></a><a class="name" href="" ng-bind-html="currentUser.full_name" ng-href="/{{ currentUser.username }}"></a><div class="headline" ng-bind-html="currentUser.headline"></div></div><div class="discussion-post-body"><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title">\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0422\u0443\u0440\u043d\u0438\u0440\u043d\u043e\u0439 \u0420\u0430\u0431\u043e\u0442\u044b</h4></div><submission-update-form challenge-id="challenge.id" marmoset-viewer-max-size="challenge.marmoset_viewer_max_size" submission-id="submission.id"></submission-update-form></div></div></div></div></div><div class="row"><div class="col-md-10 col-md-offset-1"><div infinite-scroll="loadMoreSubmissionUpdates()" infinite-scroll-distance="1"><submission-update challenge="submission.challenge" disable-comment="submissionUpdate.user.blocked" disable-delete="!challenge.accepting_submissions || submission.finalized" disable-edit="!challenge.accepting_submissions || submission.finalized" ng-repeat="submissionUpdate in submissionUpdates.items" submission-update="submissionUpdate"></submission-update></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner></div></div></div><abuse-report-modal ng-if="currentUser"></abuse-report-modal><div class="finalize-modal modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button"><i class="fa fa-times"></i></button><h3 class="modal-title" ng-if="!submission.finalized">Finalize your submission</h3><h3 class="modal-title" ng-if="submission.finalized">Unfinalize your submission</h3></div><div class="modal-body"><div class="text-left" ng-if="!submission.finalized">Finalizing your submission marks it as &quot;complete&quot; and ready for judging! To edit your submission, you have to unfinalize the submission, do your updates and finalize it again. Are you sure you want to finalize your submission?</div><div class="text-left" ng-if="submission.finalized">Your submission is currently in a &quot;finalized&quot; state and ready for judging. You can unfinalize it to add more submission updates or edits. You can then finalize it again afterwards. Do you want to do this?</div><div class="separator"></div><div class="btn-toolbar"><div class="btn-group"><button class="btn btn-success" ng-click="finalizeSubmission()" ng-if="!submission.finalized">Finalize submission</button><button class="btn btn-success" ng-click="finalizeSubmission()" ng-if="submission.finalized">Unfinalize submission</button></div><div class="btn-group pull-right"><button class="btn btn-default" data-dismiss="modal">\u041e\u0442\u043c\u0435\u043d\u0430</button></div></div></div></div></div></div>'),e.put("contests/submissions/show-en.html",'<a class="arrow-previous-sm fixed hidden-xs" href="#" ng-click="previous()" ng-if="submission.prev_id"><div class="arrow arrow-previous"></div></a><a class="arrow-next-sm fixed hidden-xs" href="#" ng-click="next()" ng-if="submission.next_id"><div class="arrow arrow-next"></div></a><div class="container form-prolongate-session"><div class="separator"></div><support-artstation-please asset-size="large" ng-if="challenge.show_ads"></support-artstation-please><div class="separator"></div><div class="separator"></div><div class="text-center"><ol class="breadcrumb"><li><a ng-href="/contests">Challenges</a></li><li><a ng-href="/contests/{{contest.slug}}">{{ contest.title }}</a></li><li><a ng-bind-html="challenge.title" ng-href="/contests/{{contest.slug}}/challenges/{{ challenge.id }}"></a></li><li ng-if="!challenge.is_private"><a ng-href="/contests/{{contest.slug}}/challenges/{{ challenge.id }}/submissions">Submissions</a></li><li class="active" ng-bind-html="submission.user.full_name"></li></ol></div><div class="challenge-header"><div class="page-header"><div class="text-center"><h2><small><a href="" ng-bind-html="challenge.title" ng-href="/contests/{{contest.slug}}/challenges/{{ challenge.id }}" ng-if="challenge.is_private"></a><a href="" ng-bind-html="challenge.title" ng-href="/contests/{{contest.slug}}/challenges/{{ challenge.id }}/submissions" ng-if="!challenge.is_private"></a></small><span ng-if="challenge.accepting_submissions"><span ng-if="submission.finalized">Completed Submission</span><span ng-if="!submission.finalized">Submission in Progress</span></span><span ng-if="!challenge.accepting_submissions"><span ng-if="challenge.submissions_ended"><span ng-if="submission.finalized &amp;&amp; (submission.disqualified || !challenge.completed)">Completed Submission</span><span ng-if="submission.finalized &amp;&amp; !submission.disqualified &amp;&amp; challenge.completed">Survivor Submission</span><span ng-if="!submission.finalized">Unfinished Submission</span></span><span ng-if="!challenge.submissions_ended">Submission</span></span></h2></div></div><div class="text-center"><div class="submission-awards"><div class="award" ng-repeat="badge in submission.badges"><img ng-src="/assets/badges/{{ badge.badge_type }}.png" /><div class="position">{{ badge.badge_title }}</div></div><div class="award" ng-if="submission.picked &amp;&amp; challenge.completed"><div class="label label-primary">Judge\'s Pick</div></div><div class="separator-lg"></div></div></div><div class="submission-user-header"><div class="avatar"><img ng-src="{{ submission.user.large_avatar_url }}" /></div><h1 class="name"><span ng-bind-html="submission.user.full_name"></span><a class="pro-badge top" href="/pro" ng-if="submission.user.pro_member" target="_top">PRO</a><a class="host-badge top" ng-if="isHost()" target="_top">HOST</a><div class="staff-badge top" ng-if="submission.user.is_staff">STAFF</div></h1><div class="location" ng-if="submission.user.location"><i class="fa fa-pad-right fa-map-marker"></i><span ng-bind-html="submission.user.location"></span></div></div></div><div ng-if="currentUser.id &amp;&amp; currentUser.id != submission.user.id &amp;&amp; !challenge.is_private"><div class="separator"></div><div class="btn-toolbar btn-toolbar-centered"><div class="btn-group"><a class="btn btn-success btn-sm" href="" ng-click="toggleLike()" ng-if="!submission.liked"><i class="fa fa-thumbs-up fa-pad-right"></i>Like</a><a class="btn btn-default btn-sm" href="" ng-click="toggleLike()" ng-if="submission.liked"><i class="fa fa-check fa-pad-right"></i>Liked</a></div><div class="btn-group"><follow-button user="submission.user"></follow-button></div></div></div><div ng-if="!challenge.is_private"><div class="separator"></div><ul class="list-inline text-center"><li><i class="fa fa-pad-right fa-eye"></i><as-pluralize count="submission.views_count" dict="counters.views"></as-pluralize></li><li><i class="fa fa-pad-right fa-thumbs-up"></i><as-likes votable="submission" votable-type="Submission"></as-likes></li><li><i class="fa fa-pad-right fa-users"></i><as-pluralize count="submission.user.followers_count" dict="counters.followers"></as-pluralize></li></ul></div><div ng-if="!challenge.is_private"><div class="btn-toolbar btn-toolbar-centered"><div class="btn-group"><button class="btn btn-facebook btn-sm" ng-click="shareOnFacebook()" style="display: block !important;"><i class="fa fa-facebook fa-fw"></i></button></div><div class="btn-group"><button class="btn btn-twitter btn-sm" ng-click="shareOnTwitter()" style="display: block !important;"><i class="fa fa-twitter fa-fw"></i></button></div></div><div class="separator"></div></div><div ng-if="currentUser.id == submission.user.id &amp;&amp; challenge_before_start"><div class="separator"></div><div class="row"><div class="col-sm-6 col-md-offset-3"><div class="text-center">Thank you for registering for the <b>{{ challenge.title }}</b>!<br />The challenge will open for submissions on <b>{{ challenge.submission_updates_start_at | moment: \'dddd, DD MMMM YYYY\' }}</b>.<br />The full challenge briefing will be announced on that day. Contestants will be notified by email and on the challenge announcements page.</div></div></div></div><div ng-if="currentUser.id == submission.user.id &amp;&amp; challenge.accepting_submissions"><div class="separator"></div><div class="btn-toolbar btn-toolbar-centered"><div class="btn-group" ng-if="!submission.finalized"><a class="btn btn-success" href="" ng-click="showPostUpdateForm()"><i class="fa fa-upload fa-pad-right"></i>Post an update</a></div><div class="btn-group"><a class="btn btn-primary" href="" ng-click="showFinalizeModal()" ng-if="!submission.finalized"><i class="fa fa-exclamation fa-pad-right"></i>Finalize submission</a><a class="btn btn-default" href="" ng-click="showFinalizeModal()" ng-if="submission.finalized"><i class="fa fa-check fa-pad-right"></i>Finalized</a></div><div class="btn-group" ng-if="twitchStatus &amp;&amp; !twitchStatus.streaming &amp;&amp; !challenge.is_private"><a class="btn btn-default" href="" ng-click="showTwitchForm()"><i class="fa fa-twitch fa-pad-right"></i>Twitch this</a></div></div><div class="separator-sm"></div><div class="text-center"><ul class="list-inline"><li ng-if="submission.finalized"><small><a href="" ng-click="showFinalizeModal()">Unfinalize</a></small></li><li><small><a href="" ng-click="withdraw()">Withdraw</a></small></li></ul></div></div><div ng-if="twitchStatus &amp;&amp; twitchStatus.streaming"><div class="separator-lg"></div><h3 class="text-center">Twitch Stream</h3><div class="twitch-player"><div class="twitch-view"><div id="twitch-stream" ng-bind-html="twitchStatus.embed_code | trustAsHtml"></div></div><div class="twitch-chat" ng-bind-html="twitchStatus.chat_embed_code | trustAsHtml"></div></div></div><div class="row" ng-if="startTwitchStreaming"><div class="col-md-10 col-md-offset-1"><div class="separator"></div><div class="start-twitch"><div class="twitch-logo"><img src="/assets/challenges/twitch_logo.png" style="width: 100px; height: auto; opacity: 0.95;" /></div><div class="twitch-description"><div class="panel panel-default"><div class="panel-body" ng-if="twitchStatus &amp;&amp; !twitchStatus.current_user_connected"><p>Please connect your Twitch account to start streaming.</p><p><a class="btn btn-primary btn-sm" href="/users/auth/twitch" target="_self"><i class="fa fa-pad-right fa-twitch"></i>Hook up with Twitch</a></p><p><a href="http://support.artstation.com/knowledge_base/topics/how-do-i-stream-to-artstation-using-twitch" target="_blank">ArtStation Twitch Streaming Guide</a></p></div><div class="panel-body" ng-if="twitchStatus &amp;&amp; twitchStatus.current_user_connected &amp;&amp; !twitchStatus.streaming"><p>Start streaming to Twitch and add "<b>{{challenge.twitch_tag}}</b>" to the title of your broadcast, and set your game to "Creative".</p><p>Your stream will appear here in about a minute after Twitch starts streaming.</p><p><a href="http://support.artstation.com/knowledge_base/topics/how-do-i-stream-to-artstation-using-twitch" target="_blank">ArtStation Twitch Streaming Guide</a></p><loading-spinner></loading-spinner><div class="text-center small">Waiting for Twitch streaming to start...</div><a class="btn btn-sm btn-default" href="" ng-click="hideTwitchForm()">Cancel</a></div></div></div></div></div></div><div class="separator-lg"></div><div class="row" ng-if="postUpdate"><div class="col-md-10 col-md-offset-1"><div class="discussion-post"><div class="discussion-post-user"><a class="avatar" href="" ng-href="/{{ currentUser.username }}"><img ng-src="{{ currentUser.avatar_url }}" /></a><a class="name" href="" ng-bind-html="currentUser.full_name" ng-href="/{{ currentUser.username }}"></a><div class="headline" ng-bind-html="currentUser.headline"></div></div><div class="discussion-post-body"><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title">Post a Submission Update</h4></div><submission-update-form challenge-id="challenge.id" marmoset-viewer-max-size="challenge.marmoset_viewer_max_size" submission-id="submission.id"></submission-update-form></div></div></div></div></div><div class="row"><div class="col-md-10 col-md-offset-1"><div infinite-scroll="loadMoreSubmissionUpdates()" infinite-scroll-distance="1"><submission-update challenge="submission.challenge" disable-comment="submissionUpdate.user.blocked" disable-delete="!challenge.accepting_submissions || submission.finalized" disable-edit="!challenge.accepting_submissions || submission.finalized" ng-repeat="submissionUpdate in submissionUpdates.items" submission-update="submissionUpdate"></submission-update></div><loading-spinner ng-show="showLoadingIcon"></loading-spinner></div></div></div><abuse-report-modal ng-if="currentUser"></abuse-report-modal><div class="finalize-modal modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button aria-hidden="true" class="close" data-dismiss="modal" type="button"><i class="fa fa-times"></i></button><h3 class="modal-title" ng-if="!submission.finalized">Finalize your submission</h3><h3 class="modal-title" ng-if="submission.finalized">Unfinalize your submission</h3></div><div class="modal-body"><div class="text-left" ng-if="!submission.finalized">Finalizing your submission marks it as &quot;complete&quot; and ready for judging! To edit your submission, you have to unfinalize the submission, do your updates and finalize it again. Are you sure you want to finalize your submission?</div><div class="text-left" ng-if="submission.finalized">Your submission is currently in a &quot;finalized&quot; state and ready for judging. You can unfinalize it to add more submission updates or edits. You can then finalize it again afterwards. Do you want to do this?</div><div class="separator"></div><div class="btn-toolbar"><div class="btn-group"><button class="btn btn-success" ng-click="finalizeSubmission()" ng-if="!submission.finalized">Finalize submission</button><button class="btn btn-success" ng-click="finalizeSubmission()" ng-if="submission.finalized">Unfinalize submission</button></div><div class="btn-group pull-right"><button class="btn btn-default" data-dismiss="modal">Cancel</button></div></div></div></div></div></div>'),e.put("contests/submissions/show.html",e.get("contests/submissions/show-en.html"))}]),function(){app.factory("challengeSubmissionJudgingNavigator",["$location","$rootScope","$timeout",function(){var e;return new(e=function(){function e(){this.rootScroll=0}return e.prototype.reset=function(){return this.rootScroll=0},e}())}])}.call(this),function(){app.directive("challengeAnnouncement",["$timeout","VotesRepository","$rootScope","CurrentUser","$location","DiscussionPostsRepository",function(e,t,i,n,s,a){return{templateUrl:"contests/directives/challenge_announcement.html",restrict:"E",scope:{challengeAnnouncement:"=",challenge:"=",contest:"="},link:function(e){var s,r,o,l;return e.canSeeLikes=!1,e.loadingReplies=!1,e.canReply=!1,e.preloadedRepliesCount=window.artstation_config.preloaded_challenge_announcement_replies_count||0,o=function(){var t;return e.is_moderator=_.include(window.user_permissions,"admin")||_.include(window.user_permissions,"moderator"),t=_.map(e.challenge.managers,function(e){return e.id}),e.canSeeLikes=e.is_moderator||_.include(t,window.user_id)?!0:!e.challenge.is_private,e.challenge.my_submission_id||e.is_moderator||_.include(t,window.user_id)?e.canReply=!0:void 0},e.toggleLike=function(){return e.challengeAnnouncement.liked=!e.challengeAnnouncement.liked,e.challengeAnnouncement.liked?t.likeChallengeAnnouncement(e.challengeAnnouncement.id).then(function(){return e.challengeAnnouncement.likes_count+=1}):t.unlikeChallengeAnnouncement(e.challengeAnnouncement.id).then(function(){return e.challengeAnnouncement.likes_count-=1})},e.reply=function(){return l()},e.isHost=function(){var t;return e.challenge?(t=e.challenge.public_hosts.map(function(e){return e.id}),-1!==t.indexOf(e.challengeAnnouncement.user.id)):void 0},l=function(){return e.replying=!0},s=function(){return e.replying=!1},e.belongsToCurrentUser=function(){return e.challengeAnnouncement.user.id===e.currentUser.id},e.loadMoreReplies=function(){var t,i;return t=e.challengeAnnouncement.id,i="ChallengeAnnouncement",e.loadingReplies=!0,a.readAll({discussable_id:t,discussable_type:i}).then(function(t){return e.preloadedRepliesCount=t.total_count,e.challengeAnnouncement.replies=t.data,e.loadingReplies=!1})},r=function(t){var i;return e.challengeAnnouncement.replies?(i=_.indexOf(e.challengeAnnouncement.replies,t),e.challengeAnnouncement.replies.splice(i,1),!0):!1},e.reportAbuse=function(){return i.$broadcast("artstationAbuseReport:new",{reportable_type:"ChallengeAnnouncement",reportable_id:e.challengeAnnouncement.id})},e.currentUser=n,e.$watch("challenge",function(e){return e?o():void 0}),e.$on("discussionPostForm:created",function(t,i){return t.defaultPrevented?void 0:(e.challengeAnnouncement.replies||(e.challengeAnnouncement.replies=[]),e.challengeAnnouncement.replies.push(i),t.preventDefault())}),e.$on("discussionPostForm:destroyed",function(e){return e.defaultPrevented?void 0:(s(),e.preventDefault())}),e.$on("discussionPostForm:show",function(e){return e.defaultPrevented?void 0:(l(),e.preventDefault())}),e.$on("discussionPost:destroyed",function(e,t){return e.defaultPrevented?void 0:r(t)?e.preventDefault():void 0})}}}])}.call(this),function(){app.directive("challengeAnnouncements",["PaginatedCollection","ChallengeAnnouncementsRepository","$location","$anchorScroll","$timeout",function(e,t,i,n,s){return{templateUrl:"contests/directives/challenge_announcements.html",restrict:"E",scope:{contest:"=",challenge:"="},link:function(a){var r,o;return o=function(){return a.currentUser={id:window.user_id,medium_avatar_url:window.user_avatar_url,full_name:window.user_full_name,username:window.user_username,permalink:"/"+window.user_username}},r=function(){return a.showLoadingIcon=!0,a.challengeAnnouncements=new e,a.challengeAnnouncements.setFetcherMethod("readAll"),a.challengeAnnouncements.setFetcherRepository(t),a.challengeAnnouncements.setFetcherOptions({challenge_id:a.challenge.id}),a.challengeAnnouncements.fetchAndUpdate().then(function(){return a.showLoadingIcon=!1,s(function(){return i.hash()?n():void 0})})},a.isHost=function(){var e;return a.challenge?(e=a.challenge.manager_ids.manage_announcements,-1!==e.indexOf(a.currentUser.id)):void 0},a.loadMoreChallengeAnnouncements=function(){return!a.challengeAnnouncements||a.showLoadingIcon||a.challengeAnnouncements.isEnough()?void 0:(a.showLoadingIcon=!0,a.challengeAnnouncements.fetchAndAppend().then(function(){return a.showLoadingIcon=!1}))},a.$watch("challenge",function(){return a.challenge?r():void 0}),o()}}}])}.call(this),function(){app.directive("challengeBriefing",["$timeout",function(){return{templateUrl:"contests/directives/challenge_briefing-"+window.locale+".html",restrict:"E",scope:{contest:"=",challenge:"="},link:function(){}}}])}.call(this),function(){app.directive("challengeCard",[function(){return{templateUrl:"contests/directives/challenge_card-"+window.locale+".html",replace:!0,restrict:"E",scope:{contest:"=",challenge:"="},link:function(e){var t;return e.is_moderator=_.include(window.user_permissions,"admin")||_.include(window.user_permissions,"moderator"),e.is_admin=_.include(window.user_permissions,"admin"),e.startAtUtc=moment(e.challenge.submission_updates_start_at).utc(),e.endAtUtc=moment(e.challenge.judging_start_at).utc(),t=function(){var t,i,n;return e.canEdit=!1,n=e.challenge.manager_ids,t=e.challenge,_.include(n.manage_challenge,window.user_id)||e.is_moderator?(e.canEdit=!0,e.editPath="/contests/"+t.contest.slug+"/challenges/"+t.id+"/edit"):_.include(n.manage_announcements,window.user_id)?(e.canEdit=!0,e.editPath="/contests/"+t.contest.slug+"/challenges/"+t.id+"/manage-announcements"):_.include(n.manage_team,window.user_id)&&(e.editPath="/contests/"+t.contest.slug+"/challenges/"+t.id+"/managers",e.canEdit=!0),i=n.judging_read.concat(n.judging_write),e.canJudge=t.judging&&!t.completed&&(_.include(i,window.user_id)||e.is_admin)},e.hosts=function(){return"#TestDriveMARI"!==e.challenge.twitch_tag&&"#TestDriveMODO"!==e.challenge.twitch_tag?_.pluck(e.challenge.public_hosts,"full_name").join(", "):"Scott Robertson, Khyzyl Saleem, Davison Carvalho, Nick Gindraux, Adam Middleton, Yibing Jiang, Greg Brown, Martin Mayer"},t()}}}])}.call(this),function(){app.directive("challengeEditingSubnav",[function(){return{templateUrl:"contests/directives/challenge_editing_subnav-"+window.locale+".html",replace:!0,restrict:"E",scope:{challenge:"="},link:function(e,t,i){var n;switch(e.is_moderator=_.include(window.user_permissions,"admin")||_.include(window.user_permissions,"moderator"),i.active){case"announcements":e.announcements=!0;break;case"edit":e.editing=!0;break;case"team":e.team=!0}return n=function(){return e.canManageChallenge=_.include(e.challenge.manager_ids.manage_challenge,window.user_id)||e.is_moderator,e.canManageAnnouncements=_.include(e.challenge.manager_ids.manage_announcements,window.user_id)||e.is_moderator,e.canManageTeam=_.include(e.challenge.manager_ids.manage_team,window.user_id)||e.is_moderator},e.$watch("challenge",function(e){return e?n():void 0})}}}])}.call(this),function(){app.directive("challengeShowHeader",["SubmissionsRepository","$timeout","$interval","$location","$cacheFactory",function(e,t,i,n,s){return{templateUrl:"contests/directives/challenge_show_header-"+window.locale+".html",replace:!0,restrict:"E",scope:{contest:"=",challenge:"="},link:function(e){var t,a,r,o;return o=function(t){var i,n,s,a,r;return null==t&&(t=0),r=1e3*t,a=Math.floor(r/1e3%60),s=Math.floor(r/1e3/60%60),n=Math.floor(r/36e5%24),i=Math.floor(r/864e5),e.timeLeft={days:i,hours:n,minutes:s,seconds:a}},r=function(){var n,s;return n=moment(e.challenge.judging_start_at),s=i(function(){var a,r;return a=moment(),r=n.diff(a,"seconds"),o(r),r-=1,0>r?(i.cancel(s),e.challenge.accepting_registrations=!1,e.challenge.accepting_submissions=!1,t()):void 0},1e3)},t=function(){var t;return t=s.get("$http"),t.remove("/contests/"+e.contest.slug+"/challenges/"+e.challenge.id+".json")},a=0,e.viewMySubmission=function(){var t,i,s;return t=e.challenge,i=t.contest,s="/contests/"+i.slug+"/challenges/"+t.id+"/submissions/"+t.my_submission_id,n.url(s,!0)},e.joinChallenge=function(){var t,i,s;return t=e.challenge,i=t.contest,s="/contests/"+i.slug+"/challenges/"+t.id+"/submissions/new",n.url(s,!0)},e.$watch("challenge",function(t){return t?(e.startAtUtc=moment(t.submission_updates_start_at).utc(),e.endAtUtc=moment(t.judging_start_at).utc(),e.registrationEndAtUtc=moment(t.registration_end_at).utc(),e.hosts="#TestDriveMARI"!==e.challenge.twitch_tag&&"#TestDriveMODO"!==e.challenge.twitch_tag?_.pluck(e.challenge.public_hosts,"full_name").join(", "):"Scott Robertson, Khyzyl Saleem, Davison Carvalho, Nick Gindraux, Adam Middleton, Yibing Jiang, Greg Brown, Martin Mayer",r()):void 0},!0)}}}])}.call(this),function(){app.directive("challengeShowNavigation",["$location",function(e){return{templateUrl:"contests/directives/challenge_show_navigation-"+window.locale+".html",replace:!0,restrict:"E",scope:{contest:"=",challenge:"=",action:"="},link:function(t){var i;return t.$watch("challenge",function(){var e;return t.challenge&&(e=_.map(t.challenge.managers,function(e){return e.id}),t.showSubmissions=!t.challenge.is_private||_.include(e,window.user_id),t.showAnnouncements=!t.challenge.is_private||t.challenge.my_submission_id||_.include(e,window.user_id),t.hideNavigation=t.challenge.is_private&&!t.showAnnouncements&&!t.showSubmissions,!t.showSubmissions&&"submissions"===t.action)?t.setAction("briefing"):void 0
}),i=function(){return t.challenge?t.challenge.completed&&!t.challenge.is_private?"submissions":"briefing":"none"},t.buildPathForAction=function(e){return t.challenge?e===i()?"/contests/"+t.contest.slug+"/challenges/"+t.challenge.id:"/contests/"+t.contest.slug+"/challenges/"+t.challenge.id+"/"+e:""},t.setAction=function(n){var s;return null==n&&(n="briefing"),t.action=n,s=n===i()?"/contests/"+t.contest.slug+"/challenges/"+t.challenge.id:"/contests/"+t.contest.slug+"/challenges/"+t.challenge.id+"/"+n,e.path(s,!1),Track.pageView()}}}}])}.call(this),function(){app.directive("challengeStreams",["SubmissionsRepository","PaginatedCollection",function(e,t){return{templateUrl:"contests/directives/challenge_streams-"+window.locale+".html",restrict:"E",scope:{contest:"=",challenge:"="},link:function(i){var n;return i.user_logged_in=!!window.user_id,n=function(){return i.showLoadingIcon=!0,i.collection=new t,i.collection.setFetcherMethod("readAll"),i.collection.setFetcherRepository(e),i.collection.setFetcherOptions({challenge_id:i.challenge.id,contest_slug:i.challenge.contest.slug,sorting:"streaming"}),i.collection.fetchAndUpdate().then(function(){return i.showLoadingIcon=!1})},i.loadMore=function(){return!i.collection||i.showLoadingIcon||i.collection.isEnough()?void 0:(i.showLoadingIcon=!0,i.collection.fetchAndAppend().then(function(){return i.showLoadingIcon=!1}))},i.$watch("challenge",function(){return i.challenge?n():void 0})}}}])}.call(this),function(){app.directive("challengeSubmissions",["SubmissionsRepository","PaginatedCollection","$location",function(e,t,i){return{templateUrl:"contests/directives/challenge_submissions-"+window.locale+".html",restrict:"E",scope:{contest:"=",challenge:"="},link:function(n){var s,a,r;return n.user_logged_in=!!window.user_id,r=function(i){return n.showLoadingIcon=!0,n.sorting=i,n.collection=new t,n.collection.setFetcherMethod("readAll"),n.collection.setFetcherRepository(e),n.collection.setFetcherOptions({challenge_id:n.challenge.id,contest_slug:n.challenge.contest.slug,sorting:i}),n.collection.fetchAndUpdate().then(function(){return n.showLoadingIcon=!1})},a=function(){return r(n.challenge.accepting_submissions||n.challenge.accepting_registrations?"latest":"survivors")},n.loadMore=function(){return!n.collection||n.showLoadingIcon||n.collection.isEnough()?void 0:(n.showLoadingIcon=!0,n.collection.fetchAndAppend().then(function(){return n.showLoadingIcon=!1}))},n.isHost=function(e){var t;return n.challenge?(t=n.challenge.public_hosts.map(function(e){return e.id}),-1!==t.indexOf(e)):void 0},n.setSorting=function(e){return r(e),i.search("sorting",e)},n.isSortingSelected=function(e){return n.sorting===e},s=["latest","popular","following","survivors"],n.$watch("challenge",function(){var e;return n.challenge?(e=i.search(),e.sorting&&_.contains(s,e.sorting)?r(e.sorting):a()):void 0})}}}])}.call(this),function(){app.directive("challengeWinners",["SubmissionsRepository","PaginatedCollection","$location",function(e,t,i){return{templateUrl:"contests/directives/challenge_winners-"+window.locale+".html",restrict:"E",scope:{contest:"=",challenge:"="},link:function(n){var s,a,r,o;return n.user_logged_in=!!window.user_id,a=function(){return e.readAll({challenge_id:n.challenge.id,contest_slug:n.challenge.contest.slug,sorting:"winners"}).then(function(e){return n.challengeWinners=e.data.slice(0,3),n.challengeHonourableMentions=e.data.slice(3)})},o=function(i){return n.showLoadingIcon=!0,n.sorting=i,n.collection=new t,n.collection.setFetcherMethod("readAll"),n.collection.setFetcherRepository(e),n.collection.setFetcherOptions({challenge_id:n.challenge.id,contest_slug:n.challenge.contest.slug,sorting:i}),n.collection.fetchAndUpdate().then(function(){return n.showLoadingIcon=!1})},r=function(){return o("survivors")},n.setSorting=function(e){return o(e),i.search("sorting",e)},n.isSortingSelected=function(e){return n.sorting===e},n.loadMore=function(){return!n.collection||n.showLoadingIcon||n.collection.isEnough()?void 0:(n.showLoadingIcon=!0,n.collection.fetchAndAppend().then(function(){return n.showLoadingIcon=!1}))},s=["popular","survivors","picks"],n.$watch("challenge",function(){var e;return n.challenge?(a(),e=i.search(),e.sorting&&_.contains(s,e.sorting)?o(e.sorting):r()):void 0})}}}])}.call(this),function(){app.directive("judgingHeader",["$timeout",function(){return{templateUrl:"contests/directives/judging_header-"+window.locale+".html",restrict:"E",scope:{contest:"=",challenge:"=",menuItem:"="},link:function(e){return e.canJudgeWrite=!1,e.$watch("challenge",function(t){var i,n,s,a;return t?(i=_.include(window.user_permissions,"admin"),n=t.manager_ids.judging_read,s=t.manager_ids.judging_write,a=t.manager_ids.manage_challenge,e.canJudgeRead=_.include(s,window.user_id)||_.include(n,window.user_id)||i,e.canJudgeWrite=_.include(s,window.user_id),e.canManageChallenge=_.include(a,window.user_id)):void 0})}}}])}.call(this),function(){app.directive("judgingSubmission",["$timeout","$parse",function(e,t){return{templateUrl:"contests/directives/judging_submission-"+window.locale+".html",restrict:"E",replace:!0,scope:{submission:"=",position:"@",url:"@"},link:function(e,i,n){return e.showLabels=n.showLabels,e.showWinners=n.showWinners,e.showRemoveButton=!!n.removeAction,e.clickAction=function(){return n.clickAction&&t(n.clickAction)(e.$parent)(e.submission.id),!1},e.removeAction=function(){return n.removeAction&&t(n.removeAction)(e.$parent)(e.submission.id),!1}}}}])}.call(this),function(){app.directive("judgingSubmissionBrowser",["$timeout","$location","$routeParams","CurrentUser","JudgingSubmissionsRepository","SubmissionUpdatesRepository","PaginatedCollection","VotesRepository",function(e,t,i,n,s,a,r,o){return{templateUrl:"contests/directives/judging_submission_browser.html",restrict:"E",scope:{contest:"=",challenge:"=",submissionId:"=",filter:"=",sorting:"=",filterOptions:"="},link:function(l,c,d){var u,m,p;return p=d.urlScope||"submissions",l.currentUser=n,l.next_id=null,l.prev_id=null,l.judge_id=i.judge_id,u=function(){var e,t,i;return t=l.challenge.manager_ids.judging_write,l.canJudgeWrite=_.include(t,l.currentUser.id),e=l.filterOptions||{},i={id:l.submissionId,challenge_id:l.challenge.id,contest_slug:l.contest.slug,filter:l.filter,sorting:l.sorting,include_rejected:e.include_rejected,include_uncompleted:e.include_uncompleted},l.judge_id&&(i.judge_id=l.judge_id),s.read(i).then(function(e){return l.submission=e,l.next_id=e.next_id,l.prev_id=e.prev_id,m(e.id),l.$emit("challengeJudgingSubmission:update_viewed",e.id),l.$emit("updateScrollBar")})},m=function(e){return l.submissionUpdates=new r,l.submissionUpdates.setFetcherMethod("readAll"),l.submissionUpdates.setFetcherRepository(a),l.submissionUpdates.setFetcherOptions({submission_id:e}),l.submissionUpdates.fetchAndUpdate()},l.loadMoreSubmissionUpdates=function(){return!l.submissionUpdates||l.showLoadingIcon||l.submissionUpdates.isEnough()?void 0:(l.showLoadingIcon=!0,l.submissionUpdates.fetchAndAppend().then(function(){return l.showLoadingIcon=!1}))},l.addToShortlist=function(){return l.submission.rejected||l.submission.disqualified?(Flash.notice(I18n.t("community.judging.cant_shortlist_rejected")),!0):s.addToShortlist({id:l.submission.id,challenge_id:l.challenge.id,contest_slug:l.contest.slug}).then(function(e){return e.errors?Flash.notice(e.errors.submission):(l.submission=e,l.$emit("challengeJudgingSubmission:update"),Flash.notice(I18n.t("community.judging.notice_shortlisted")))})},l.removeFromShortlist=function(){return s.removeFromShortlist({id:l.submission.id,challenge_id:l.challenge.id,contest_slug:l.contest.slug}).then(function(e){return l.submission=e,l.$emit("challengeJudgingSubmission:update")})},l.reject=function(){return l.submission.shortlisted||l.submission.shortlisted_count>0?(Flash.notice(I18n.t("community.judging.cant_reject_shortlisted")),!0):s.reject({id:l.submission.id,challenge_id:l.challenge.id,contest_slug:l.contest.slug}).then(function(e){return e.errors?Flash.notice(e.errors.submission):(l.submission=e,l.$emit("challengeJudgingSubmission:update"),Flash.notice(I18n.t("community.judging.notice_rejected")))})},l.cancelReject=function(){return s.cancelReject({id:l.submission.id,challenge_id:l.challenge.id,contest_slug:l.contest.slug}).then(function(e){return l.submission=e,l.$emit("challengeJudgingSubmission:update")})},l.setStarsRating=function(e){return s.setStarsRating({id:l.submission.id,challenge_id:l.challenge.id,contest_slug:l.contest.slug,rating:e}).then(function(e){return l.submission=e,l.$emit("challengeJudgingSubmission:update")})},l.disqualify=function(){return l.submission.shortlisted||l.submission.shortlisted_count>0?(Flash.notice(I18n.t("community.judging.cant_disqualify_shortlisted")),!0):s.disqualify({id:l.submission.id,challenge_id:l.challenge.id,contest_slug:l.contest.slug}).then(function(e){return e.errors?Flash.notice(e.errors.submission):(l.submission=e,l.$emit("challengeJudgingSubmission:update"),Flash.notice(I18n.t("community.judging.notice_disqualified")))})},l.cancelDisqualify=function(){return s.cancelDisqualify({id:l.submission.id,challenge_id:l.challenge.id,contest_slug:l.contest.slug}).then(function(e){return l.submission=e,l.$emit("challengeJudgingSubmission:update"),Flash.notice(I18n.t("community.judging.notice_removed_from_disqualified"))})},l.prev=function(){return l.prev_id?e(function(){return t.url("/contests/"+l.contest.slug+"/challenges/"+l.challenge.id+"/judging/"+p+"/"+l.prev_id),l.submissionId=l.prev_id}):void 0},l.next=function(){return l.next_id?e(function(){return t.url("/contests/"+l.contest.slug+"/challenges/"+l.challenge.id+"/judging/"+p+"/"+l.next_id),l.submissionId=l.next_id}):void 0},l.updateJudgingNotes=function(){return s.update({id:l.submission.id,challenge_id:l.challenge.id,contest_slug:l.contest.slug,submission:{judging_notes:l.submission.judging_notes}}).then(function(){return Flash.notice(I18n.t("community.judging.notice_saved_notes"))})},l.toggleLike=function(){return l.submission.liked=!l.submission.liked,l.submission.liked?o.likeSubmission(l.submission.id).then(function(){return l.submission.likes_count+=1}):o.unlikeSubmission(l.submission.id).then(function(){return l.submission.likes_count-=1})},l.addToPicks=function(){return s.addToPicks({id:l.submission.id,challenge_id:l.challenge.id,contest_slug:l.contest.slug}).then(function(e){return e.errors?Flash.notice(e.errors.submission):(l.submission=e,l.$emit("challengeJudgingSubmission:update"),Flash.notice(I18n.t("community.judging.added_to_picks")))})},l.removeFromPicks=function(){return s.removeFromPicks({id:l.submission.id,challenge_id:l.challenge.id,contest_slug:l.contest.slug}).then(function(e){return e.errors?Flash.notice(e.errors.submission):(l.submission=e,l.$emit("challengeJudgingSubmission:update"),Flash.notice(I18n.t("community.judging.removed_from_picks")))})},l.close=function(){return l.$emit("challengeJudgingSubmission:close")},l.$watch("submissionId",function(e){return e?(u(),l.$emit("challengeJudgingSubmission:change_submission",l.submissionId)):void 0}),$(document).on("keydown",function(e){var t;if(t=e.target.type,l.submission&&"textarea"!==t&&"search"!==t&&"text"!==t){if(27===e.keyCode&&l.close(),37===e.keyCode&&l.prev(),39===e.keyCode&&l.next(),76!==e.keyCode||e.ctrlKey||l.submission.liked||l.toggleLike(),68===e.keyCode&&!e.ctrlKey){if(!l.canJudgeWrite)return;l.submission.disqualified?l.cancelDisqualify():l.disqualify()}if(65===e.keyCode&&!e.ctrlKey){if(!l.canJudgeWrite)return;l.submission.shortlisted?l.removeFromShortlist():l.addToShortlist()}if(82===e.keyCode&&!e.ctrlKey&&!e.metaKey){if(!l.canJudgeWrite)return;return l.submission.rejected?l.cancelReject():l.reject()}}}),l.$on("$destroy",function(){return $(document).off("keydown")})}}}])}.call(this),function(){app.directive("submissionUpdate",["$timeout","VotesRepository","SubmissionUpdatesRepository","$rootScope","CurrentUser",function(e,t,i,n,s){return{templateUrl:"contests/directives/submission_update.html",restrict:"E",scope:{submissionUpdate:"=",disableEdit:"=",disableDelete:"=",disableComment:"=",challenge:"="},link:function(e){var a,r,o,l,c;return e.toggleLike=function(){return e.submissionUpdate.liked=!e.submissionUpdate.liked,e.submissionUpdate.liked?t.likeSubmissionUpdate(e.submissionUpdate.id).then(function(){return e.submissionUpdate.likes_count+=1}):t.unlikeSubmissionUpdate(e.submissionUpdate.id).then(function(){return e.submissionUpdate.likes_count-=1})},e.reply=function(){return c()},e.isHost=function(){var t;return e.challenge?(t=e.challenge.public_hosts.map(function(e){return e.id}),-1!==t.indexOf(e.submissionUpdate.user.id)):void 0},c=function(){return e.replying=!0},r=function(){return e.replying=!1},e.belongsToCurrentUser=function(){return e.submissionUpdate.user.id===e.currentUser.id},e.edit=function(){return l()},l=function(){return e.editing=!0},a=function(){return e.editing=!1},e.destroy=function(){return confirm("Are you sure you want to remove this? You cannot undo this!")?i.destroy(e.submissionUpdate).then(function(){return e.$emit("submissionUpdate:destroyed",e.submissionUpdate)}):void 0},o=function(t){var i;return e.submissionUpdate.replies?(i=_.indexOf(e.submissionUpdate.replies,t),e.submissionUpdate.replies.splice(i,1),!0):!1},e.reportAbuse=function(){return n.$broadcast("artstationAbuseReport:new",{reportable_type:"SubmissionUpdate",reportable_id:e.submissionUpdate.id})},e.currentUser=s,e.$on("discussionPostForm:created",function(t,i){return t.defaultPrevented?void 0:(e.submissionUpdate.replies||(e.submissionUpdate.replies=[]),e.submissionUpdate.replies.push(i),t.preventDefault())}),e.$on("submissionUpdateForm:updated",function(t,i){return t.defaultPrevented?void 0:(i.replies=e.submissionUpdate.replies,e.submissionUpdate=i,a(),t.preventDefault())}),e.$on("submissionUpdateForm:destroyed",function(e){return e.defaultPrevented?void 0:(a(),e.preventDefault())}),e.$on("discussionPostForm:destroyed",function(e){return e.defaultPrevented?void 0:(r(),e.preventDefault())}),e.$on("discussionPostForm:show",function(e){return e.defaultPrevented?void 0:(c(),e.preventDefault())}),e.$on("discussionPost:destroyed",function(e,t){return e.defaultPrevented?void 0:o(t)?e.preventDefault():void 0})}}}])}.call(this),function(){app.directive("submissionUpdateForm",["$timeout","SubmissionUpdatesRepository","$rootScope","CurrentUser","FroalaOptions",function(e,t,i,n,s){return{templateUrl:"contests/directives/submission_update_form.html",restrict:"E",scope:{submissionUpdate:"=",disableEdit:"=",disableDelete:"=",marmosetViewerMaxSize:"=",submissionId:"=",challengeId:"="},link:function(i,a){var r,o,l,c,d,u,m,p,g;return u=function(){return i.currentUser=n,i.froalaOptions=s["default"],i.froalaOptions.artstationMarmosetViewerMaxSize=i.marmosetViewerMaxSize,i.froalaOptions.artstationChallengeId=i.challengeId,i.submissionUpdate?(i.isEdit=!0,t.read(i.submissionUpdate.id).then(function(e){return i.submissionUpdate.body=e.body_preview_html,m()})):(i.isNew=!0,i.submissionUpdate={submission_id:i.submissionId,body:"",title:""},m())},m=function(){return i.originalBody=i.submissionUpdate.body.valueOf(),i.originalTitle=i.submissionUpdate.title.valueOf(),i.$emit("submissionUpdateForm:initialized",i.$id),g()},p=function(){return challengesRepository.read()},l=function(e){return i.submissionUpdate=e,i.$emit("submissionUpdateForm:created",e),r(),i.submittingForm=!1},o=function(e){var t,n,s,a,r;if(_.has(e.data.errors,"body")){for(n="",r=e.data.errors.body,s=0,a=r.length;a>s;s++)t=r[s],n+="This "+t+".";alert("Error: "+n)}else alert("Error: "+e.statusText+". Please contact support@artstation.com.");return i.submittingForm=!1},d=function(e){return i.submissionUpdate=e,i.$emit("submissionUpdateForm:updated",e),r(),i.submittingForm=!1},c=function(e){return o(e)},i.submitForm=function(){var e;return i.submittingForm=!0,i.isReply||i.isNew?t.create(i.submissionUpdate).then(l,c):i.isEdit?(e={id:i.submissionUpdate.id,body:i.submissionUpdate.body,title:i.submissionUpdate.title},t.update(e).then(d,c)):void 0},i.cancel=function(){return i.submissionUpdate.body=i.originalBody,i.submissionUpdate.title=i.originalTitle,r()},r=function(){return i.$emit("submissionUpdateForm:destroyed")},g=function(){return e(function(){return $.scrollTo(a,500,{offset:-200}),$(a).find("input[autofocus=true]").focus()})},u()}}}])}.call(this),function(){app.factory("ChallengeAnnouncementsResource",["$resource",function(e){return e("/contests/challenge_announcements/:id.json",{id:"@id"},{index:{url:"/contests/challenge_announcements.json",method:"GET"}})}])}.call(this),function(){app.factory("ChallengesResource",["$resource",function(e){return e("/contests/:contest_slug/challenges.json",{},{readAll:{method:"GET",url:"/contests/:contest_slug/challenges.json",isArray:!0,params:{contest_slug:"@contest_slug"},cache:!0},readAllForManage:{method:"GET",url:"/contests/:contest_slug/challenges/manage.json",isArray:!0,params:{id:"@id",contest_slug:"@contest_slug"}},read:{method:"GET",url:"/contests/:contest_slug/challenges/:id.json",params:{id:"@id",contest_slug:"@contest_slug"},cache:!0},edit:{method:"GET",url:"/contests/:contest_slug/challenges/:id/edit.json",params:{id:"@id",contest_slug:"@contest_slug"}},update:{method:"PATCH",url:"/contests/:contest_slug/challenges/:id.json",params:{id:"@id",contest_slug:"@contest_slug"}},publish:{method:"PUT",url:"/contests/:contest_slug/challenges/:id/publish.json",params:{id:"@id",contest_slug:"@contest_slug"}},managers:{method:"GET",url:"/contests/:contest_slug/challenges/:id/managers.json",isArray:!0},complete:{method:"PUT",url:"/contests/:contest_slug/challenges/:id/complete.json",params:{id:"@id",contest_slug:"@contest_slug"}}})}])}.call(this),function(){app.factory("ContestsResource",["$resource",function(e){return e("/contests.json",{},{readArchived:{method:"GET",url:"/contests/archived.json",cache:!0,isArray:!0},read:{method:"GET",url:"/contests/:id.json",params:{id:"@id"},cache:!0}})}])}.call(this),function(){app.factory("JudgingSubmissionsResource",["$resource",function(e){return e("/contests/:contest_slug/challenges/:challenge_id/judging_submissions.json",{},{readAll:{method:"GET",url:"/contests/:contest_slug/challenges/:challenge_id/judging_submissions.json"},readJudgeStandings:{method:"GET",url:"/contests/:contest_slug/challenges/:challenge_id/judging_submissions/judge_standings.json"},read:{method:"GET",url:"/contests/:contest_slug/challenges/:challenge_id/judging_submissions/:id.json"},fetch:{method:"GET",url:"/contests/:contest_slug/challenges/:challenge_id/judging_submissions/fetch.json"},addToShortlist:{method:"POST",url:"/contests/:contest_slug/challenges/:challenge_id/judging_submissions/:id/add_to_shortlist.json",params:{id:"@id",contest_slug:"@contest_slug",challenge_id:"@challenge_id"}},removeFromShortlist:{method:"DELETE",url:"/contests/:contest_slug/challenges/:challenge_id/judging_submissions/:id/remove_from_shortlist.json",params:{id:"@id",contest_slug:"@contest_slug",challenge_id:"@challenge_id"}},reject:{method:"POST",url:"/contests/:contest_slug/challenges/:challenge_id/judging_submissions/:id/reject.json",params:{id:"@id",contest_slug:"@contest_slug",challenge_id:"@challenge_id"}},cancelReject:{method:"POST",url:"/contests/:contest_slug/challenges/:challenge_id/judging_submissions/:id/cancel_reject.json",params:{id:"@id",contest_slug:"@contest_slug",challenge_id:"@challenge_id"}},update:{method:"PATCH",url:"/contests/:contest_slug/challenges/:challenge_id/judging_submissions/:id.json",params:{id:"@id",contest_slug:"@contest_slug",challenge_id:"@challenge_id"}},reorder:{method:"PATCH",url:"/contests/:contest_slug/challenges/:challenge_id/judging_submissions/reorder.json",params:{contest_slug:"@contest_slug",challenge_id:"@challenge_id"}},setWinners:{method:"PATCH",url:"/contests/:contest_slug/challenges/:challenge_id/judging_submissions/winners.json",params:{contest_slug:"@contest_slug",challenge_id:"@challenge_id"}},disqualify:{method:"POST",url:"/contests/:contest_slug/challenges/:challenge_id/judging_submissions/:id/disqualify.json",params:{id:"@id",contest_slug:"@contest_slug",challenge_id:"@challenge_id"}},cancelDisqualify:{method:"POST",url:"/contests/:contest_slug/challenges/:challenge_id/judging_submissions/:id/cancel_disqualify.json",params:{id:"@id",contest_slug:"@contest_slug",challenge_id:"@challenge_id"}},recalculate:{method:"PATCH",url:"/contests/:contest_slug/challenges/:challenge_id/judging_submissions/recalculate.json",params:{contest_slug:"@contest_slug",challenge_id:"@challenge_id"}},setStarsRating:{method:"PATCH",url:"/contests/:contest_slug/challenges/:challenge_id/judging_submissions/:id/set_stars.json",params:{id:"@id",contest_slug:"@contest_slug",challenge_id:"@challenge_id",rating:"@rating"}},addToPicks:{method:"POST",url:"/contests/:contest_slug/challenges/:challenge_id/judging_submissions/:id/add_to_picks.json",params:{id:"@id",contest_slug:"@contest_slug",challenge_id:"@challenge_id"}},removeFromPicks:{method:"DELETE",url:"/contests/:contest_slug/challenges/:challenge_id/judging_submissions/:id/remove_from_picks.json",params:{id:"@id",contest_slug:"@contest_slug",challenge_id:"@challenge_id"}}})}])}.call(this),function(){app.factory("SubmissionUpdatesResource",["$resource",function(e){return e("/contests/submission_updates/:id.json",{id:"@id"},{index:{url:"/contests/submission_updates.json",method:"GET"},show:{method:"GET"},create:{method:"POST"},update:{method:"PATCH"},destroy:{method:"DELETE"}})}])}.call(this),function(){app.factory("SubmissionsResource",["$resource",function(e){return e("/contests/:contest_slug/challenges/:challenge_id/submissions.json",{},{readAll:{method:"GET",url:"/contests/:contest_slug/challenges/:challenge_id/submissions.json"},read:{method:"GET",url:"/contests/:contest_slug/challenges/:challenge_id/submissions/:id.json",cache:!0},fetch:{method:"GET",url:"/contests/:contest_slug/challenges/:challenge_id/submissions/fetch.json"},create:{method:"POST",url:"/contests/:contest_slug/challenges/:challenge_id/submissions.json",params:{contest_slug:"@contest_slug",challenge_id:"@challenge_id"}},withdraw:{method:"PATCH",url:"/contests/:contest_slug/challenges/:challenge_id/submissions/:id/withdraw.json",params:{id:"@id",challenge_id:"@challenge_id",contest_slug:"@contest_slug"}},unfinalize:{method:"PATCH",url:"/contests/:contest_slug/challenges/:challenge_id/submissions/:id/unfinalize.json",params:{id:"@id",challenge_id:"@challenge_id",contest_slug:"@contest_slug"}},finalize:{method:"PATCH",url:"/contests/:contest_slug/challenges/:challenge_id/submissions/:id/finalize.json",params:{id:"@id",challenge_id:"@challenge_id",contest_slug:"@contest_slug"}},rejoin:{method:"PATCH",url:"/contests/:contest_slug/challenges/:challenge_id/submissions/:id/rejoin.json",params:{id:"@id",challenge_id:"@challenge_id",contest_slug:"@contest_slug"}},hideOnProfile:{method:"PATCH",url:"/contests/:contest_slug/challenges/:challenge_id/submissions/:id/hide_on_profile.json",params:{id:"@id",challenge_id:"@challenge_id",contest_slug:"@contest_slug"}},showOnProfile:{method:"PATCH",url:"/contests/:contest_slug/challenges/:challenge_id/submissions/:id/show_on_profile.json",params:{id:"@id",challenge_id:"@challenge_id",contest_slug:"@contest_slug"}},getForChallenge:{method:"GET",url:"/contests/:contest_slug/challenges/:challenge_id/submissions/get_for_challenge.json"}})}])}.call(this),function(){app.factory("ChallengeAnnouncementsRepository",["ChallengeAnnouncementsResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.readAll=function(t){return null==t&&(t={}),e.index(t).$promise},t}())}])}.call(this),function(){window.app.factory("ChallengesRepository",["ChallengesResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.readAll=function(t){return null==t&&(t={}),e.readAll(t).$promise},t.prototype.readAllForManage=function(t){return null==t&&(t={}),e.readAllForManage(t).$promise},t.prototype.read=function(t){return e.read(t).$promise},t.prototype.edit=function(t){return e.edit(t).$promise},t.prototype.update=function(t){return e.update({id:t.id,contest_slug:t.contest.slug,challenge:t}).$promise},t.prototype.publish=function(t){return e.publish({id:t.id,contest_slug:t.contest.slug,challenge:t}).$promise},t.prototype.managers=function(t){return e.managers(t).$promise},t.prototype.complete=function(t){return e.complete({id:t.id,contest_slug:t.contest.slug,challenge:t}).$promise},t}())}])}.call(this),function(){window.app.factory("ContestsRepository",["ContestsResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.read=function(t){return e.read(t).$promise},t.prototype.readArchived=function(t){return e.readArchived(t).$promise},t}())}])}.call(this),function(){window.app.factory("JudgingSubmissionsRepository",["JudgingSubmissionsResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.readAll=function(t){return null==t&&(t={}),e.readAll(t).$promise},t.prototype.readJudgeStandings=function(t){return null==t&&(t={}),e.readJudgeStandings(t).$promise},t.prototype.read=function(t){return null==t&&(t={}),e.read(t).$promise},t.prototype.fetch=function(t){return null==t&&(t={}),e.fetch(t).$promise},t.prototype.addToShortlist=function(t){return null==t&&(t={}),e.addToShortlist(t).$promise},t.prototype.removeFromShortlist=function(t){return null==t&&(t={}),e.removeFromShortlist(t).$promise},t.prototype.reject=function(t){return null==t&&(t={}),e.reject(t).$promise},t.prototype.cancelReject=function(t){return null==t&&(t={}),e.cancelReject(t).$promise},t.prototype.update=function(t){return null==t&&(t={}),e.update(t).$promise},t.prototype.reorder=function(t){return null==t&&(t={}),e.reorder(t).$promise},t.prototype.setWinners=function(t){return null==t&&(t={}),e.setWinners(t).$promise},t.prototype.disqualify=function(t){return null==t&&(t={}),e.disqualify(t).$promise},t.prototype.cancelDisqualify=function(t){return null==t&&(t={}),e.cancelDisqualify(t).$promise},t.prototype.recalculate=function(t){return null==t&&(t={}),e.recalculate(t).$promise},t.prototype.setStarsRating=function(t){return null==t&&(t={}),e.setStarsRating(t).$promise},t.prototype.addToPicks=function(t){return null==t&&(t={}),e.addToPicks(t).$promise},t.prototype.removeFromPicks=function(t){return null==t&&(t={}),e.removeFromPicks(t).$promise},t}())}])}.call(this),function(){app.factory("SubmissionUpdatesRepository",["SubmissionUpdatesResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.readAll=function(t){return null==t&&(t={}),e.index(t).$promise},t.prototype.read=function(t){return e.show({id:t}).$promise},t.prototype.create=function(t){return e.create({submission_update:t}).$promise},t.prototype.update=function(t){return e.update({id:t.id,submission_update:t}).$promise},t.prototype.destroy=function(t){return e.destroy({id:t.id}).$promise},t}())}])}.call(this),function(){window.app.factory("SubmissionsRepository",["SubmissionsResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.readAll=function(t){return null==t&&(t={}),e.readAll(t).$promise},t.prototype.read=function(t){return null==t&&(t={}),e.read(t).$promise},t.prototype.fetch=function(t){return null==t&&(t={}),e.fetch(t).$promise},t.prototype.create=function(t){return e.create(t).$promise},t.prototype.finalize=function(t){return e.finalize(t).$promise},t.prototype.unfinalize=function(t){return e.unfinalize(t).$promise},t.prototype.withdraw=function(t){var i,n;return n=t.submission,i=t.challenge,e.withdraw({id:n.id,challenge_id:n.challenge_id,contest_slug:i.contest.slug}).$promise},t.prototype.rejoin=function(t){var i,n;return n=t.submission,i=t.challenge,e.rejoin({id:n.id,challenge_id:n.challenge_id,contest_slug:i.contest.slug}).$promise},t.prototype.hideOnProfile=function(t){var i,n;return n=t.submission,i=t.challenge,e.hideOnProfile({id:n.id,challenge_id:n.challenge_id,contest_slug:i.contest.slug}).$promise},t.prototype.showOnProfile=function(t){var i,n;return n=t.submission,i=t.challenge,e.showOnProfile({id:n.id,challenge_id:n.challenge_id,contest_slug:i.contest.slug}).$promise},t.prototype.getForChallenge=function(t){return e.getForChallenge({challenge_id:t.challenge_id,contest_slug:t.contest_slug,withdrawn:"any"}).$promise},t}())}])}.call(this),function(){window.app.controller("ChallengesShowController",["$scope","$location","$routeParams","ChallengesRepository",function(e,t,i,n){var s;return e.showSubmissions=!1,e.showAnnouncements=!1,s=function(){return e.challenge.completed&&!e.challenge.is_private?"submissions":"briefing"},n.read({id:i.challenge_id,contest_slug:i.contest_slug}).then(function(t){var n;return e.challenge=t,e.contest=e.challenge.contest,n=_.map(e.challenge.managers,function(e){return e.id}),e.showSubmissions=!e.challenge.is_private||_.include(n,window.user_id),e.showAnnouncements=!e.challenge.is_private||e.challenge.my_submission_id||_.include(n,window.user_id),DocumentTitle.set(e.contest.title+" - "+window.defaultSanitizer.unescapeHTML(e.challenge.title)),Track.pageView(),i.action?void 0:e.action=s()}),e.action=i.action?i.action:"none"}])}.call(this),function(){window.app.controller("ContestsArchiveController",["$scope","ContestsRepository","SubmissionsRepository","PaginatedCollection",function(e,t){var i,n,s;return e.user_logged_in=!!window.user_id,e.is_moderator=_.include(window.user_permissions,"admin")||_.include(window.user_permissions,"moderator"),e.contest={slug:"archived"},e.challenge={id:"archived",contest:e.contest},e.contests_contests={},e.contests=[],s=function(){var t;return t=e.challenge.host_manager_ids,e.canEdit=e.is_moderator||_.include(t,window.user_id)?!0:!1},n=function(){return t.readArchived({contest_slug:"archived"}).then(function(t){return e.contests=t,_.each(t,function(t){return e.contests_contests[t.id]=t})})},i=function(){return n()},s(),i(),Track.pageView()}])}.call(this),function(){window.app.controller("ContestsIndexController",["$scope","ChallengesRepository","SubmissionsRepository","PaginatedCollection","ContestsRepository",function(e,t,i,n,s){var a,r,o,l,c,d;return e.user_logged_in=!!window.user_id,e.is_moderator=_.include(window.user_permissions,"admin")||_.include(window.user_permissions,"moderator"),e.is_admin=_.include(window.user_permissions,"admin"),e.contest={slug:"all"},e.challenge={id:"all",contest:e.contest},e.contests_challenges={},e.isHost=function(t,i){var n;return n=e.getChallengeData(t),-1!==n.manager_ids.display_as_host.indexOf(i)},d=function(t){var i,n;return t.canEdit=!1,n=t.manager_ids,_.include(n.manage_challenge,window.user_id)||e.is_moderator?(t.canEdit=!0,t.editPath="/contests/"+t.contest.slug+"/challenges/"+t.id+"/edit"):_.include(n.manage_announcements,window.user_id)?(t.canEdit=!0,t.editPath="/contests/"+t.contest.slug+"/challenges/"+t.id+"/manage-announcements"):_.include(n.manage_team,window.user_id)&&(t.editPath="/contests/"+t.contest.slug+"/challenges/"+t.id+"/managers",t.canEdit=!0),i=n.judging_read.concat(n.judging_write),t.canJudge=t.judging&&!t.completed&&(_.include(i,window.user_id)||e.is_admin),t},o=function(){return t.readAll({contest_slug:"all"}).then(function(t){return e.challenges=_.map(t,function(e){return e=d(e),e.startAtUtc=moment(e.submission_updates_start_at).utc(),e.endAtUtc=moment(e.judging_start_at).utc(),e}),_.each(e.challenges,function(t){return e.contests_challenges[t.id]=t})})},r=function(){return s.readArchived().then(function(t){return e.showArchivedContestsLink=!!_.size(t)})},e.getChallengeData=function(t){return e.contests_challenges[t]},l=function(){return e.showLoadingStreamingIcon=!0,e.streamingCollection=new n,e.streamingCollection.setFetcherMethod("readAll"),e.streamingCollection.setFetcherRepository(i),e.streamingCollection.setFetcherOptions({challenge_id:e.challenge.id,contest_slug:e.contest.slug,sorting:"streaming"}),e.streamingCollection.fetchAndUpdate().then(function(){return e.showLoadingStreamingIcon=!1})},e.loadMoreStreamings=function(){return!e.streamingCollection||e.showLoadingStreamingIcon||e.streamingCollection.isEnough()?void 0:(e.showLoadingStreamingIcon=!0,e.streamingCollection.fetchAndAppend().then(function(){return e.showLoadingStreamingIcon=!1}))},c=function(t){return e.showLoadingWithSortingIcon=!0,e.sorting=t,e.submissionCollection=new n,e.submissionCollection.setFetcherMethod("readAll"),e.submissionCollection.setFetcherRepository(i),e.submissionCollection.setFetcherOptions({challenge_id:e.challenge.id,contest_slug:e.contest.slug,sorting:t}),e.submissionCollection.fetchAndUpdate().then(function(){return e.showLoadingWithSortingIcon=!1})},e.loadMoreWithSorting=function(){return!e.submissionCollection||e.showLoadingWithSortingIcon||e.submissionCollection.isEnough()?void 0:(e.showLoadingWithSortingIcon=!0,e.submissionCollection.fetchAndAppend().then(function(){return e.showLoadingWithSortingIcon=!1
}))},e.setSorting=function(e){return c(e)},e.isSortingSelected=function(t){return e.sorting===t},a=function(){return r(),o(),l(),c("latest")},a(),Track.pageView()}])}.call(this),function(){window.app.controller("ContestsShowController",["$scope","$routeParams","ChallengesRepository","ContestsRepository",function(e,t,i,n){return n.read({id:t.contest_slug}).then(function(t){return e.contest=t,DocumentTitle.set("Challenges - "+t.title),i.readAll({contest_slug:t.slug}).then(function(t){return e.challenges=t})}),Track.pageView()}])}.call(this),function(){window.app.controller("JudgingIndexController",["$scope","ChallengesRepository","JudgingSubmissionsRepository","PaginatedCollection","$routeParams","$location","$anchorScroll","challengeSubmissionJudgingNavigator","$timeout","$rootScope",function(e,t,i,n,s,a,r,o,l,c){var d,u,m,p,g,f;return e.menu_item="judging",e.sorting="popular",e.filter="all",e.filterOptions={},e.showLoadingIcon=!1,e.showUnviewedFilter=!0,m=function(){return t.read({id:s.challenge_id,contest_slug:s.contest_slug}).then(function(t){return e.challenge=t,e.contest=e.challenge.contest,e.challenge.is_private&&(e.sorting="shortlisted_count"),u(),e.challenge.judging||(a.url("/contests",!0),Flash.notice("Judging ended")),DocumentTitle.set(window.defaultSanitizer.unescapeHTML(e.challenge.title)+" Judging"),e.showSubmission?e.displaySubmission(s.submission_id):l(function(){return g()})})},u=function(){return e.showLoadingIcon=!0,e.collection=new n,e.collection.setFetcherMethod("readAll"),e.collection.setFetcherRepository(i),e.collection.setFetcherOptions({challenge_id:s.challenge_id,contest_slug:s.contest_slug,sorting:e.sorting,filter:e.filter,include_rejected:e.filterOptions.include_rejected,include_uncompleted:e.filterOptions.include_uncompleted}),e.collection.fetchAndUpdate().then(function(){return e.showLoadingIcon=!1})},f=function(){var t,i;return i=e.collection.page,t=e.collection.itemsCounter,e.collection.fetchAndReplace({page:1,per_page:t}).then(function(){return e.collection.setFetcherOptions({challenge_id:s.challenge_id,contest_slug:s.contest_slug,sorting:e.sorting,filter:e.filter,include_rejected:e.filterOptions.include_rejected,include_uncompleted:e.filterOptions.include_uncompleted}),e.collection.page=i})},e.isSortingSelected=function(t){return t===e.sorting},e.setSorting=function(t){return e.sorting=t,u()},e.isFilterSelected=function(t){return t===e.filter},e.setFilter=function(t){return e.filter=t,u()},e.loadMore=function(){return!e.collection||e.showLoadingIcon||e.collection.isEnough()?void 0:(e.showLoadingIcon=!0,e.collection.fetchAndAppend().then(function(){return e.showLoadingIcon=!1}))},e.displaySubmission=function(t){e.showSubmission=!0,e.submissionId=t,a.path("/contests/"+e.contest.slug+"/challenges/"+e.challenge.id+"/judging/submissions/"+t,!1),c.additionalBodyClasses="fixed-main-nav",$(window).scrollTop()&&(o.rootScroll=$(window).scrollTop()),$(document).scrollTop(0)},g=function(){return o.rootScroll?($(document).scrollTop(o.rootScroll),o.reset()):void 0},d=function(){return e.showSubmission=!1,a.path("/contests/"+e.contest.slug+"/challenges/"+e.challenge.id+"/judging",!1),c.additionalBodyClasses="",l(function(){return g()})},p=function(){return e.showUnviewedFilter=_.include(e.challenge.manager_ids.judging_read,window.user_id)||_.include(e.challenge.manager_ids.judging_write,window.user_id)},e.showSubmission=!!s.submission_id,m(),e.$watch("filterOptions",function(e){return e?u():void 0},!0),e.$on("challengeJudgingSubmission:close",function(e){return e.defaultPrevented?void 0:(d(),e.preventDefault())}),e.$on("challengeJudgingSubmission:change_submission",function(t,i){return e.displaySubmission(i)}),e.$on("challengeJudgingSubmission:update",function(){return f()}),e.$on("challengeJudgingSubmission:update_viewed",function(t,i){var n;return n=e.collection.find(i),n&&!n.viewed?f():void 0}),e.$watch("challenge",function(e){return e?p():void 0},!0)}])}.call(this),function(){window.app.controller("JudgingShortlistController",["$scope","ChallengesRepository","$routeParams","$location","$timeout","$rootScope","PaginatedCollection","JudgingSubmissionsRepository","challengeSubmissionJudgingNavigator",function(e,t,i,n,s,a,r,o,l){var c,d,u,m,p,g,f;return e.menu_item="shortlist",e.showLoadingIcon=!1,e.filter="shortlisted",e.sorting="position",u=function(){return t.read({id:i.challenge_id,contest_slug:i.contest_slug}).then(function(t){return e.challenge=t,e.contest=e.challenge.contest,DocumentTitle.set(window.defaultSanitizer.unescapeHTML(e.challenge.title)+" Judging"),e.showSubmission?e.displaySubmission(i.submission_id):s(function(){return g()})})},e.displaySubmission=function(t){e.showSubmission=!0,e.submissionId=t,n.path("/contests/"+e.contest.slug+"/challenges/"+e.challenge.id+"/judging/shortlist/"+t,!1),a.additionalBodyClasses="fixed-main-nav",$(window).scrollTop()&&(l.rootScroll=$(window).scrollTop()),$(document).scrollTop(0)},c=function(){return e.showSubmission=!1,n.path("/contests/"+e.contest.slug+"/challenges/"+e.challenge.id+"/judging/shortlist",!1),a.additionalBodyClasses="",s(function(){return g()})},g=function(){return l.rootScroll?($(document).scrollTop(l.rootScroll),l.reset()):void 0},m=function(){return e.showLoadingIcon=!0,e.collection=new r,e.collection.setFetcherMethod("readAll"),e.collection.setFetcherRepository(o),e.collection.setFetcherOptions({challenge_id:i.challenge_id,contest_slug:i.contest_slug,sorting:e.sorting,filter:e.filter}),e.collection.fetchAndUpdate().then(function(){return e.showLoadingIcon=!1})},f=function(){var t,n;return n=e.collection.page,t=e.collection.itemsCounter,e.collection.fetchAndReplace({page:1,per_page:t}).then(function(){return e.collection.setFetcherOptions({challenge_id:i.challenge_id,contest_slug:i.contest_slug,sorting:e.sorting,filter:e.filter}),e.collection.page=n})},e.removeFromShortlist=function(t){return confirm("Are you sure you want to delete submission from shortlist?")?o.removeFromShortlist({id:t,challenge_id:i.challenge_id,contest_slug:i.contest_slug}).then(function(){return e.collection.del(t)}):void 0},p=function(){var t;return t=$(".challenge-submissions").find(".challenge-submission").map(function(){return $(this).data("id")}),o.reorder({challenge_id:i.challenge_id,contest_slug:i.contest_slug,order:t.toArray()}).then(function(){var i;return i=[],_.each(t,function(t){return i.push(e.collection.find(t))}),e.collection.items=i})},d=function(){return s(function(){$(".challenge-submissions").sortable({items:".challenge-submission",placeholder:"challenge-submission-sortable-placeholder",update:function(){return function(){return p()}}(this)})})},e.showSubmission=!!i.submission_id,u(),m(),d(),e.$on("challengeJudgingSubmission:close",function(e){return e.defaultPrevented?void 0:(c(),e.preventDefault())}),e.$on("challengeJudgingSubmission:change_submission",function(t,i){return e.displaySubmission(i)}),e.$on("challengeJudgingSubmission:update",function(){return f()})}])}.call(this),function(){window.app.controller("JudgingStandingsController",["$scope","ChallengesRepository","$timeout","$routeParams","$location","$rootScope","PaginatedCollection","JudgingSubmissionsRepository","challengeSubmissionJudgingNavigator",function(e,t,i,n,s,a,r,o,l){var c,d,u,m,p;return e.menu_item="standings",e.filter="standings",e.sorting="standings",d=function(){return t.read({id:n.challenge_id,contest_slug:n.contest_slug}).then(function(t){return e.challenge=t,e.contest=e.challenge.contest,DocumentTitle.set(window.defaultSanitizer.unescapeHTML(e.challenge.title)+" Judging"),e.showSubmission?e.displaySubmission(n.submission_id):i(function(){return p()})})},e.displaySubmission=function(t){e.showSubmission=!0,e.submissionId=t,n.judge_id?s.path("/contests/"+e.contest.slug+"/challenges/"+e.challenge.id+"/judging/standings/judge/"+n.judge_id+"/"+t,!1):s.path("/contests/"+e.contest.slug+"/challenges/"+e.challenge.id+"/judging/standings/"+t,!1),a.additionalBodyClasses="fixed-main-nav",$(window).scrollTop()&&(l.rootScroll=$(window).scrollTop()),$(document).scrollTop(0)},c=function(){return e.showSubmission=!1,s.path("/contests/"+e.contest.slug+"/challenges/"+e.challenge.id+"/judging/standings",!1),a.additionalBodyClasses="",i(function(){return p()})},p=function(){return l.rootScroll?($(document).scrollTop(l.rootScroll),l.reset()):void 0},m=function(){return e.showLoadingIcon=!0,e.overallStandings=new r,e.overallStandings.setFetcherMethod("readAll"),e.overallStandings.setFetcherRepository(o),e.overallStandings.setFetcherOptions({challenge_id:n.challenge_id,contest_slug:n.contest_slug,sorting:e.sorting,filter:e.filter}),e.overallStandings.fetchAndUpdate().then(function(){return e.showLoadingIcon=!1})},u=function(){return e.showLoadingIcon=!0,e.judgeStandings=new r,e.judgeStandings.setFetcherMethod("readJudgeStandings"),e.judgeStandings.setFetcherRepository(o),e.judgeStandings.setFetcherOptions({challenge_id:n.challenge_id,contest_slug:n.contest_slug}),e.judgeStandings.fetchAndUpdate().then(function(){return e.showLoadingIcon=!1})},e.recalculate=function(){return o.recalculate({challenge_id:n.challenge_id,contest_slug:n.contest_slug}).then(function(){return m(),u(),Flash.notice("Recalculated")})},e.showSubmission=!!n.submission_id,d(),m(),u(),e.$on("challengeJudgingSubmission:close",function(e){return e.defaultPrevented?void 0:(c(),e.preventDefault())}),e.$on("challengeJudgingSubmission:change_submission",function(t,i){return e.displaySubmission(i)}),e.$on("challengeJudgingSubmission:update",function(){return m()})}])}.call(this),function(){window.app.controller("JudgingWinnersController",["$scope","ChallengesRepository","$routeParams","$location","$timeout","$rootScope","$cacheFactory","PaginatedCollection","JudgingSubmissionsRepository","challengeSubmissionJudgingNavigator","SubmissionsRepository",function(e,t,i,n,s,a,r,o,l,c,d){var u,m,p,g,f,h,v,b,w,y,k,x;return e.menu_item="winners",e.showLoadingIcon=!1,e.filter="standings",e.sorting="standings",e.showWinners=!1,e.challengeWinners=[],e.challengeWinnersSaved=!1,v=function(){return d.readAll({challenge_id:i.challenge_id,contest_slug:i.contest_slug,sorting:"winners"}).then(function(t){return e.challengeWinners=t.data,e.challengeWinnersSaved=e.challengeWinners.length>0})},f=function(){return t.read({id:i.challenge_id,contest_slug:i.contest_slug}).then(function(t){return e.challenge=t,e.contest=e.challenge.contest,DocumentTitle.set(window.defaultSanitizer.unescapeHTML(e.challenge.title)+" Judging"),e.showSubmission?e.displaySubmission(i.submission_id):s(function(){return y()})})},e.displaySubmission=function(t){e.showSubmission=!0,e.submissionId=t,n.path("/contests/"+e.contest.slug+"/challenges/"+e.challenge.id+"/judging/winners/"+t,!1),a.additionalBodyClasses="fixed-main-nav",$(window).scrollTop()&&(c.rootScroll=$(window).scrollTop()),$(document).scrollTop(0)},m=function(){return e.showSubmission=!1,n.path("/contests/"+e.contest.slug+"/challenges/"+e.challenge.id+"/judging/winners",!1),a.additionalBodyClasses="",s(function(){return y()})},u=function(){return $(document).on("keydown",function(t){var i;if(e.showSubmission)return i=t.target.type,"textarea"!==i&&"search"!==i&&"text"!==i&&27===t.keyCode?e.$apply(function(){return m()}):void 0})},y=function(){return c.rootScroll?($(document).scrollTop(c.rootScroll),c.reset()):void 0},h=function(){return e.showLoadingIcon=!0,e.collection=new o,e.collection.setFetcherMethod("readAll"),e.collection.setFetcherRepository(l),e.collection.setFetcherOptions({challenge_id:i.challenge_id,contest_slug:i.contest_slug,sorting:e.sorting,filter:e.filter}),e.collection.fetchAndUpdate().then(function(){return e.showLoadingIcon=!1})},x=function(){var t,n;return n=e.collection.page,t=e.collection.itemsCounter,e.collection.fetchAndReplace({page:1,per_page:t}).then(function(){return e.collection.setFetcherOptions({challenge_id:i.challenge_id,contest_slug:i.contest_slug,sorting:e.sorting,filter:e.filter}),e.collection.page=n})},k=!1,g=function(){return k&&$(".challenge-submissions.winners-form").sortable("destroy"),k=!0,$(".challenge-submissions.winners-form").sortable({items:".challenge-submission",placeholder:"challenge-submission-sortable-placeholder",revert:!0,update:function(){return s(function(){var t,i;return i=$(".challenge-submissions.winners-form").find(".challenge-submission").map(function(){return $(this).data("id")}),t=[],_.each(i,function(i){return t.push(_.findWhere(e.collection.items,{id:i}))}),e.challengeWinners=t.length===e.challengeWinners.length?t:angular.copy(t)})}}).droppable()},p=function(){return $(".challenge-submissions.standings .challenge-submission").draggable({connectToSortable:".challenge-submissions.winners-form",helper:"original",revert:"invalid"})},b=function(){var t;return t=r.get("$http"),t.remove("/contests/"+e.challenge.contest.slug+"/challenges/"+e.challenge.id+".json")},w=function(){return e.is_moderator=_.include(window.user_permissions,"admin")||_.include(window.user_permissions,"moderator"),e.canManageChallenge=_.include(e.challenge.manager_ids.manage_challenge,window.user_id)||e.is_moderator},e.saveWinners=function(){var t;return t=$(".challenge-submissions.winners-form").find(".challenge-submission").map(function(){return $(this).data("id")}),l.setWinners({challenge_id:i.challenge_id,contest_slug:i.contest_slug,order:t.toArray()}).then(function(){return e.challengeWinnersSaved=!0,Flash.notice("Winners have been successfully updated")}),e.hideWinnersForm()},e.submissionsExceptWinners=function(t){var i;return i=_.map(e.challengeWinners,function(e){return null!=e?e.id:void 0}),!_.include(i,t.id)},e.removeFromWinners=function(t){return e.challengeWinners=_.reject(e.challengeWinners,{id:t}),s(function(){return p(),$(".challenge-submissions.winners-form").sortable("option","update")()})},e.showInitialWinnersForm=function(){return 0===e.challengeWinners.length&&(e.challengeWinners=e.collection.items.slice(0,6)),e.showWinnersForm()},e.showWinnersForm=function(){return e.showWinners=!0,s(function(){return g(),p()})},e.hideWinnersForm=function(){return e.showWinners=!1},e.finishChallenge=function(){var i;return i="Are you sure you want to finish challenge",0===_.size(e.challengeWinners)&&(i+=" without winners"),i+="? This action can't be undone",confirm(i)?t.complete(e.challenge).then(function(){return b(),n.path("/contests/"+e.challenge.contest.slug+"/challenges/"+e.challenge.id),Flash.notice("Challenge has been successfully finished")}):void 0},e.showSubmission=!!i.submission_id,f(),h(),v(),e.$on("challengeJudgingSubmission:close",function(e){return e.defaultPrevented?void 0:(m(),e.preventDefault())}),e.$on("challengeJudgingSubmission:change_submission",function(t,i){return e.displaySubmission(i)}),e.$on("challengeJudgingSubmission:update",function(){return x()}),e.$watch("challenge",function(e){return e?w():void 0},!0)}])}.call(this),function(){window.app.controller("SubmissionsNewController",["$scope","$location","$routeParams","SubmissionsRepository","ChallengesRepository","ContestsRepository","$window","UsersRepository","CurrentUser","$cacheFactory",function(e,t,i,n,s,a,r,o,l,c){var d,u,m,p;return m=function(){var t;return t=c.get("$http"),t.remove("/contests/"+e.challenge.contest.slug+"/challenges/"+e.challenge.id+".json")},e.submitForm=function(){return e.submission&&e.submission.withdrawn?n.rejoin({submission:e.submission,challenge:e.challenge}).then(function(i){return Flash.notice("Rejoining the challenge"),m(),t.url("/contests/"+e.challenge.contest.slug+"/challenges/"+e.challenge.id+"/submissions/"+i.id,!0)}):n.create({challenge_id:e.newSubmission.challenge_id,contest_slug:e.newSubmission.contest_slug,marketing_opt_in:e.newSubmission.marketingOptIn}).then(function(i){return Flash.notice("You've joined the challenge!"),m(),t.url("/contests/"+e.challenge.contest.slug+"/challenges/"+e.challenge.id+"/submissions/"+i.id,!0)})},e.cancel=function(){return Flash.notice("No hard feelings!"),t.url("/contests/"+e.challenge.contest.slug+"/challenges/"+e.challenge.id,!0)},d=function(){return s.read({id:i.challenge_id,contest_slug:i.contest_slug}).then(function(t){return e.challenge=t,e.newSubmission={marketingOptIn:!1,challenge_id:e.challenge.id,contest_slug:e.challenge.contest.slug}}),n.getForChallenge({challenge_id:i.challenge_id,contest_slug:i.contest_slug}).then(function(i){return i.id&&(e.submission=i,!i.withdrawn)?(Flash.notice("You've already joined this challenge"),t.url("/contests/"+e.challenge.contest.slug+"/challenges/"+e.challenge_id+"/submissions/"+i.id,!0)):void 0})},p=function(){return l?e.currentUser=l:r.location.href="/users/sign_in?from=new_challenge_submission"},u=function(){return o.getSummary().then(function(t){return e.user=t})},e.setCanContinue=function(t){if(e.challenge.require_complete_profile){if(100===e.user.profile_completeness_percentage&&t)return void(e.canContinue=!0)}else if(t)return void(e.canContinue=!0);return e.canContinue=!1},d(),p(),u(),Track.pageView()}])}.call(this),function(){window.app.controller("SubmissionsShowController",["$scope","$timeout","$routeParams","SubmissionsRepository","ChallengesRepository","ContestsRepository","VotesRepository","SubmissionUpdatesRepository","$location","PaginatedCollection","TwitchRepository","CurrentUser","$cacheFactory","$anchorScroll",function(e,t,i,n,s,a,r,o,l,c,d,u,m,p){var g,f,h,v,b,w,y,k,x,C,j,S,A;return j=function(e){var i;return i=new ViewTracker,i.track("Submission",e.id).then(function(i){return t(function(){return e.views_count=i.views_count})})},e.showPostUpdateForm=function(){return e.postUpdate=!0},v=function(){return e.postUpdate=!1},S=4e3,A=function(){return d.status(e.submission.id).then(function(i){return e.twitchStatus=i,i.embed_code?void t(function(){return $("#twitch-stream").fitVids()}):e.startTwitchStreaming&&i.current_user_connected?t(function(){return A()},S):void 0})},e.showTwitchForm=function(){return e.startTwitchStreaming=!0,A()},e.hideTwitchForm=function(){return e.startTwitchStreaming=!1},e.isHost=function(){var t;return e.challenge?(t=e.challenge.public_hosts.map(function(e){return e.id}),-1!==t.indexOf(e.submission.user.id)):void 0},e.toggleLike=function(){return e.submission.liked=!e.submission.liked,e.submission.liked?r.likeSubmission(e.submission.id).then(function(){return e.submission.likes_count+=1}):r.unlikeSubmission(e.submission.id).then(function(){return e.submission.likes_count-=1})},k=function(){var t;return t=m.get("$http"),t.remove("/contests/"+e.contest.slug+"/challenges/"+e.challenge.id+".json")},x=function(){var t;return t=m.get("$http"),t.remove("/contests/"+e.contest.slug+"/challenges/"+e.challenge.id+"/submissions/"+e.submission.id+".json")},e.withdraw=function(){return window.confirm("Do you really want to withdraw from this challenge?")?n.withdraw({submission:e.submission,challenge:e.challenge}).then(function(){return k(),Flash.notice("You've withdrawn from the challenge! No hard feelings!"),l.path("/contests/"+e.contest.slug+"/challenges/"+e.challenge.id)}):void 0},w=function(i){return e.showLoadingIcon=!0,e.submissionLoading=!0,e.submissionUpdates=new c,e.submissionUpdates.setFetcherMethod("readAll"),e.submissionUpdates.setFetcherRepository(o),e.submissionUpdates.setFetcherOptions({submission_id:i}),e.submissionUpdates.fetchAndUpdate().then(function(){return e.showLoadingIcon=!1,e.submissionLoading=!1,t(function(){return l.hash()?p():void 0})})},e.loadMoreSubmissionUpdates=function(){return!e.submissionUpdates||e.showLoadingIcon||e.submissionUpdates.isEnough()?void 0:(e.showLoadingIcon=!0,e.submissionUpdates.fetchAndAppend().then(function(){return e.showLoadingIcon=!1}))},g=$(".finalize-modal"),e.showFinalizeModal=function(){return e.postUpdate?(alert("You have unsaved submission updates. Please save or cancel the submission update before finalizing the submission."),!0):e.submission.finalized&&e.challenge.submissions_ended?!0:(g.modal(),!0)},e.finalizeSubmission=function(){var t;return e.submission.finalized&&e.challenge.submissions_ended?!0:(t=e.submission.finalized?n.unfinalize({id:i.submission_id,challenge_id:i.challenge_id,contest_slug:i.contest_slug}):n.finalize({id:i.submission_id,challenge_id:i.challenge_id,contest_slug:i.contest_slug}),t.then(function(t){return e.submission=t,x(),g.modal("hide")}))},e.shareOnFacebook=function(){var e;return e=encodeURIComponent(window.location.href),window.open("https://www.facebook.com/sharer/sharer.php?u="+e,"facebook","width=660,height=380"),!0},e.shareOnTwitter=function(){var t;return t=encodeURIComponent(window.defaultSanitizer.unescapeHTML(e.submission.user.full_name)+"'s submission on "+e.contest.title+" - "+window.defaultSanitizer.unescapeHTML(e.challenge.title)+" via @artstationhq "+window.location.href),window.open("https://twitter.com/home?status="+t,"twitter","width=660,height=380"),!0},y=function(t,i,n){return l.url(e.sorting?"/contests/"+n+"/challenges/"+i+"/submissions/"+t+"?sorting="+e.sorting:"/contests/"+n+"/challenges/"+i+"/submissions/"+t)},h=function(t){var s,a;return"latest_all"===(s=e.sorting)||"popular_all"===s||"following_all"===s?n.read({id:t,challenge_id:"all",contest_slug:"all",sorting:e.sorting}).then(function(e){return y(t,e.challenge_id,e.challenge.contest.slug)}):"popular_archived"===(a=e.sorting)||"following_archived"===a?n.read({id:t,challenge_id:"archived",contest_slug:"archived",sorting:e.sorting}).then(function(e){return y(t,e.challenge_id,e.challenge.contest.slug)}):y(t,i.challenge_id,i.contest_slug)},e.next=function(){return e.submission.next_id&&!e.submissionLoading?(e.submissionLoading=!0,t(function(){return h(e.submission.next_id)})):void 0},e.previous=function(){return e.submission.prev_id&&!e.submissionLoading?(e.submissionLoading=!0,t(function(){return h(e.submission.prev_id)})):void 0},f=function(t){return e.submissionUpdates.items.unshift(t)},C=function(t){var i;return i=_.indexOf(e.submissionUpdates.items,t),e.submissionUpdates.items.splice(i,1)},b=function(){return e.currentUser=u,e.sorting=i.sorting,e.submissionLoading=!0,n.read({id:i.submission_id,challenge_id:i.challenge_id,contest_slug:i.contest_slug,sorting:e.sorting}).then(function(t){var i;return j(t),e.submission=t,e.challenge=t.challenge,e.contest=t.challenge.contest,i=window.defaultSanitizer.unescapeHTML(e.submission.user.full_name)+"'s submission on "+e.contest.title+" - "+window.defaultSanitizer.unescapeHTML(e.challenge.title),DocumentTitle.set(i),e.challenge_before_start=!e.challenge.accepting_submissions&&e.challenge.seconds_left>0,w(t.id),A(),Track.pageView()})},b(),e.$on("submissionUpdate:destroyed",function(e,t){return e.defaultPrevented?void 0:(C(t),e.preventDefault())}),e.$on("submissionUpdateForm:created",function(t,i){return t.defaultPrevented?void 0:(f(i),e.$broadcast("submissionUpdateForm:destroy",e.newSubmissionUpdateFormId),v(),t.preventDefault())}),e.$on("submissionUpdateForm:destroyed",function(e){return e.defaultPrevented?void 0:(v(),e.preventDefault())}),e.$on("submissionUpdateForm:initialized",function(t,i){return t.defaultPrevented?void 0:(e.newSubmissionUpdateFormId=i,t.preventDefault())}),$(document).on("keydown",function(t){var i,n;return n=t.target.type,i="true"===t.target.contentEditable,e.submission?"textarea"===n||"search"===n||"text"===n||i||LightBox.isOpen()||(37===t.keyCode&&e.previous(),39!==t.keyCode)?void 0:e.next():void 0})}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("marketplace/directives/marketplace_filters-ru.html",'<div class="sub-nav"><div class="btn-group"><a class="btn btn-default" href="#" ng-class="{active: currentCategory == category}" ng-click="setCategory(category)" ng-repeat="category in categories">{{category.title | unescapeHTML }}</a></div></div><div class="text-center" ng-if="currentCategory.subcategories.length &gt; 0"><ul class="link-bar"><li><a href="#" ng-class="{active: currentSubcategory == &#39;all&#39;}" ng-click="setSubcategory(&#39;all&#39;)">All</a></li><li ng-repeat="subcategory in currentCategory.subcategories"><a href="#" ng-class="{active: currentSubcategory == subcategory}" ng-click="setSubcategory(subcategory)">{{ subcategory.title | unescapeHTML }}</a></li></ul></div>'),e.put("marketplace/directives/marketplace_filters-en.html",'<div class="sub-nav"><div class="btn-group"><a class="btn btn-default" href="#" ng-class="{active: currentCategory == category}" ng-click="setCategory(category)" ng-repeat="category in categories">{{category.title | unescapeHTML }}</a></div></div><div class="text-center" ng-if="currentCategory.subcategories.length &gt; 0"><ul class="link-bar"><li><a href="#" ng-class="{active: currentSubcategory == &#39;all&#39;}" ng-click="setSubcategory(&#39;all&#39;)">All</a></li><li ng-repeat="subcategory in currentCategory.subcategories"><a href="#" ng-class="{active: currentSubcategory == subcategory}" ng-click="setSubcategory(subcategory)">{{ subcategory.title | unescapeHTML }}</a></li></ul></div>'),e.put("marketplace/directives/marketplace_filters.html",e.get("marketplace/directives/marketplace_filters-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("marketplace/products/index-ru.html",'<div class="container"><div class="page-header"><h1>\u041c\u0430\u0433\u0430\u0437\u0438\u043d ArtStation<small>\u0422\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0445\u0443\u0434\u043e\u0436\u043d\u0438\u043a\u043e\u0432</small></h1></div><div class="separator"></div><marketplace-filters></marketplace-filters><div class="separator"></div><div class="products-grid"><div class="thumbnail product-card" ng-repeat="product in products"><div class="product-thumbnail"><div class="overlay"><a class="hitzone" href="/shop/products/{{product.hash_id}}"><div class="btn btn-primary">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c</div></a></div><img ng-src="{{product.thumbnail_url}}" /></div><div class="caption"><h3 class="product-title">{{product.title | unescapeHTML }}</h3><p><span ng-if="product.vendor_title">\u043e\u0442 <a ng-href="/shop/vendor/{{product.vendor_url}}" ng-if="product.vendor_url">{{ product.vendor_title | unescapeHTML }}</a> <span ng-if="!product.vendor_url">{{ product.vendor_title | unescapeHTML }}</span> </span><span ng-if="product.category_title">\u0432 </span><a href="/shop/{{product.category_slug}}">{{product.category_title | unescapeHTML }}</a><br /><span ng-if="product.min_price == product.max_price">{{product.min_price_formatted}} </span><span ng-if="product.min_price != product.max_price">\u0426\u0435\u043d\u0430 \u043e\u0442 {{product.min_price_formatted}}</span><span ng-if="!product.available"><span class="label label-default">\u0420\u0430\u0441\u043f\u0440\u043e\u0434\u0430\u043d\u043e</span></span></p></div></div></div></div>'),e.put("marketplace/products/index-en.html",'<div class="container"><div class="page-header"><h1>ArtStation Shop<small>Resources for artists</small></h1></div><div class="separator"></div><marketplace-filters></marketplace-filters><div class="separator"></div><div class="products-grid"><div class="thumbnail product-card" ng-repeat="product in products"><div class="product-thumbnail"><div class="overlay"><a class="hitzone" href="/shop/products/{{product.hash_id}}"><div class="btn btn-primary">View</div></a></div><img ng-src="{{product.thumbnail_url}}" /></div><div class="caption"><h3 class="product-title">{{product.title | unescapeHTML }}</h3><p><span ng-if="product.vendor_title">by <a ng-href="/shop/vendor/{{product.vendor_url}}" ng-if="product.vendor_url">{{ product.vendor_title | unescapeHTML }}</a> <span ng-if="!product.vendor_url">{{ product.vendor_title | unescapeHTML }}</span> </span><span ng-if="product.category_title">in </span><a href="/shop/{{product.category_slug}}">{{product.category_title | unescapeHTML }}</a><br /><span ng-if="product.min_price == product.max_price">{{product.min_price_formatted}} </span><span ng-if="product.min_price != product.max_price">From {{product.min_price_formatted}}</span><span ng-if="!product.available"><span class="label label-default">Sold Out</span></span></p></div></div></div></div>'),e.put("marketplace/products/index.html",e.get("marketplace/products/index-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("marketplace/products/show-ru.html",'<div class="container-sm"><div class="row"><div class="col-md-8 col-md-offset-2"><div class="page-header"><h1><small><a href="/shop">\u041c\u0430\u0433\u0430\u0437\u0438\u043d</a> / <a href="#" ng-href="/shop/{{currentCategory.slug}}">{{currentCategory.title | unescapeHTML}}</a></small>{{product.title | unescapeHTML}}<small ng-if="product.product_vendor &amp;&amp; product.product_vendor.url">\u043e\u0442 <a href="#" ng-href="/shop/vendor/{{product.product_vendor.url}}">{{ product.product_vendor.title | unescapeHTML}}</a></small><small ng-if="product.product_vendor &amp;&amp; !product.product_vendor.url">\u043e\u0442 {{product.product_vendor.title | unescapeHTML}}</small></h1></div></div></div><div class="row"><div class="col-sm-8"><div class="product-header"><p><a class="media-asset-image-link" ng-href="{{product.cover_url}}" target="_blank"><img class="img-responsive" ng-src="{{product.cover_url}}" /></a></p><p class="lead">{{product.short_description | unescapeHTML }}</p></div></div><div class="col-sm-4"><div class="product-sidebar"><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title panel-title-lg"><b>{{product.title | unescapeHTML }} </b>\u043e\u0442 {{product.product_vendor.title | unescapeHTML }} </h4></div><div class="panel-body"><div class="product-price">USD$ {{currentVariant.price_in_dollars}} </div><div class="product-inventory-level" ng-if="currentVariant.inventory &gt; 0"><div class="label label-success">\u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438</div><small ng-if="currentVariant.inventory &lt;= 5">&nbsp;&nbsp;Only {{currentVariant.inventory}} left, hurry!</small></div><div class="product-inventory-level" ng-if="currentVariant.inventory &lt;= 0"><div class="label label-danger">\u0420\u0430\u0441\u043f\u0440\u043e\u0434\u0430\u043d\u043e</div></div><div class="form-group"><select class="form-control" ng-model="currentVariant" ng-options="variant.title for variant in product.variants | orderBy: &#39;position&#39; track by variant.id"></select></div><div class="form-inline"><div class="form-group"><input class="input-quantity pad-right display-inline-block" min="1" ng-model="quantity" type="number" /><label>\u041a\u043e\u043b-\u0432\u043e</label></div></div><div class="separator-sm"></div><div class="product-savings" ng-if="currentVariant.list_price &gt; currentVariant.price">\u0426\u0435\u043d\u0430 \u0431\u0435\u0437 \u0441\u043a\u0438\u0434\u043a\u0438: <span class="product-list-price">${{ currentVariant.list_price_in_dollars }}</span><br />\u0412\u044b \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u0442\u0435: ${{ currentVariant.list_price_in_dollars - currentVariant.price_in_dollars | number : 2 }} ({{ ((currentVariant.list_price_in_dollars - currentVariant.price_in_dollars)/currentVariant.list_price_in_dollars)*100 | number : 0 }}%)</div><div class="product-shipping-message" ng-if="allowShipping"><b>FREE Shipping</b> on orders over $50 within continental USA and Canada. </div><div class="product-shipping-message" ng-if="!allowShipping">Unfortunately we cannot ship to {{currentCountry}} at this time. Sorry for the inconvenience! </div><div class="separator-sm"></div><a class="btn btn-lg btn-default btn-block" disabled="true" href="#" ng-if="currentVariant.inventory &lt;= 0">\u0420\u0430\u0441\u043f\u0440\u043e\u0434\u0430\u043d\u043e</a><a class="btn btn-lg btn-success btn-block" href="#" ng-click="addItemToCart()" ng-if="currentVariant.inventory &gt; 0">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443</a></div></div></div></div></div><div class="row"><div class="col-sm-8"><div as-light-box="" class="rich-media-content" ng-bind-html="product.long_description_presentation_html | trustAsHtml" ng-if="product"></div></div></div></div>'),e.put("marketplace/products/show-en.html",'<div class="container-sm"><div class="row"><div class="col-md-8 col-md-offset-2"><div class="page-header"><h1><small><a href="/shop">Shop</a> / <a href="#" ng-href="/shop/{{currentCategory.slug}}">{{currentCategory.title | unescapeHTML}}</a></small>{{product.title | unescapeHTML}}<small ng-if="product.product_vendor &amp;&amp; product.product_vendor.url">by <a href="#" ng-href="/shop/vendor/{{product.product_vendor.url}}">{{ product.product_vendor.title | unescapeHTML}}</a></small><small ng-if="product.product_vendor &amp;&amp; !product.product_vendor.url">by {{product.product_vendor.title | unescapeHTML}}</small></h1></div></div></div><div class="row"><div class="col-sm-8"><div class="product-header"><p><a class="media-asset-image-link" ng-href="{{product.cover_url}}" target="_blank"><img class="img-responsive" ng-src="{{product.cover_url}}" /></a></p><p class="lead">{{product.short_description | unescapeHTML }}</p></div></div><div class="col-sm-4"><div class="product-sidebar"><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title panel-title-lg"><b>{{product.title | unescapeHTML }} </b>by {{product.product_vendor.title | unescapeHTML }} </h4></div><div class="panel-body"><div class="product-price">USD$ {{currentVariant.price_in_dollars}} </div><div class="product-inventory-level" ng-if="currentVariant.inventory &gt; 0"><div class="label label-success">In Stock</div><small ng-if="currentVariant.inventory &lt;= 5">&nbsp;&nbsp;Only {{currentVariant.inventory}} left, hurry!</small></div><div class="product-inventory-level" ng-if="currentVariant.inventory &lt;= 0"><div class="label label-danger">Sold Out</div></div><div class="form-group"><select class="form-control" ng-model="currentVariant" ng-options="variant.title for variant in product.variants | orderBy: &#39;position&#39; track by variant.id"></select></div><div class="form-inline"><div class="form-group"><input class="input-quantity pad-right display-inline-block" min="1" ng-model="quantity" type="number" /><label>Qty</label></div></div><div class="separator-sm"></div><div class="product-savings" ng-if="currentVariant.list_price &gt; currentVariant.price">List Price: <span class="product-list-price">${{ currentVariant.list_price_in_dollars }}</span><br />You Save: ${{ currentVariant.list_price_in_dollars - currentVariant.price_in_dollars | number : 2 }} ({{ ((currentVariant.list_price_in_dollars - currentVariant.price_in_dollars)/currentVariant.list_price_in_dollars)*100 | number : 0 }}%)</div><div class="product-shipping-message" ng-if="allowShipping"><b>FREE Shipping</b> on orders over $50 within continental USA and Canada. </div><div class="product-shipping-message" ng-if="!allowShipping">Unfortunately we cannot ship to {{currentCountry}} at this time. Sorry for the inconvenience! </div><div class="separator-sm"></div><a class="btn btn-lg btn-default btn-block" disabled="true" href="#" ng-if="currentVariant.inventory &lt;= 0">Sold Out</a><a class="btn btn-lg btn-success btn-block" href="#" ng-click="addItemToCart()" ng-if="currentVariant.inventory &gt; 0">Add to cart</a></div></div></div></div></div><div class="row"><div class="col-sm-8"><div as-light-box="" class="rich-media-content" ng-bind-html="product.long_description_presentation_html | trustAsHtml" ng-if="product"></div></div></div></div>'),e.put("marketplace/products/show.html",e.get("marketplace/products/show-en.html"))
}]),angular.module("templates").run(["$templateCache",function(e){e.put("marketplace/products/vendor-ru.html",'<div class="container"><div class="page-header"><h1><small><a href="/shop">\u041c\u0430\u0433\u0430\u0437\u0438\u043d</a></small>{{ vendor.title }} </h1></div><div class="separator"></div><div class="products-grid"><div class="thumbnail product-card" ng-repeat="product in products"><div class="product-thumbnail"><div class="overlay"><a class="hitzone" href="/shop/products/{{product.hash_id}}"><div class="btn btn-primary">\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c</div></a></div><img ng-src="{{product.thumbnail_url}}" /></div><div class="caption"><h3 class="product-title">{{product.title | unescapeHTML }}</h3><p><span ng-if="product.category_title">\u0432 </span><a href="/shop/{{product.category_slug}}">{{product.category_title}}</a><br />{{product.min_price_formatted}}</p></div></div></div></div>'),e.put("marketplace/products/vendor-en.html",'<div class="container"><div class="page-header"><h1><small><a href="/shop">Shop</a></small>{{ vendor.title }} </h1></div><div class="separator"></div><div class="products-grid"><div class="thumbnail product-card" ng-repeat="product in products"><div class="product-thumbnail"><div class="overlay"><a class="hitzone" href="/shop/products/{{product.hash_id}}"><div class="btn btn-primary">View</div></a></div><img ng-src="{{product.thumbnail_url}}" /></div><div class="caption"><h3 class="product-title">{{product.title | unescapeHTML }}</h3><p><span ng-if="product.category_title">in </span><a href="/shop/{{product.category_slug}}">{{product.category_title}}</a><br />{{product.min_price_formatted}}</p></div></div></div></div>'),e.put("marketplace/products/vendor.html",e.get("marketplace/products/vendor-en.html"))}]),function(){window.app.controller("ProductsIndexController",["$scope","$location","$routeParams","ProductCategoriesRepository","ProductsRepository","ProductVendorsRepository",function(e,t,i,n,s,a){var r,o,l;return e.currentCategory={subcategories:[]},e.currentSubcategory="all",e.products=[],e.vendor_url=i.vendor,o=function(t){var n;return e.currentCategory=(n=i.category_slug)?_.find(t,function(e){return e.slug===n}):t[0],l(e.currentCategory.title)},r=function(){var t,i;return t="all"===e.currentCategory?"all":e.currentCategory.id,i="all"===e.currentSubcategory?"all":e.currentSubcategory.id,s.readAll({category_id:t,subcategory_id:i,vendor_url:e.vendor_url}).then(function(t){return e.products=t.data})},e.setCategory=function(i){return e.currentCategory=i,e.currentSubcategory="all",t.path("/shop/"+i.slug),r(),l(i.title)},e.setSubcategory=function(t){return e.currentSubcategory=t,r()},e.resetVendor=function(){return delete t.$$search.vendor,delete e.vendor_url,delete e.vendor,r()},l=function(e){return window.document.title="ArtStation Shop - "+e},e.categories=[],n.readAll().then(function(t){return e.categories=t,o(t),r()}),e.$watch("vendor_url",function(t){return t?a.read(t).then(function(t){return e.vendor=t}):void 0},!0),Track.pageView()}])}.call(this),function(){window.app.controller("ProductsShowController",["$scope","$location","$routeParams","$timeout","ProductsRepository",function(e,t,i,n,s){var a,r,o,l,c,d,u;return e.currentVariant=null,e.currentCategory=null,e.currentSubcategory=null,e.quantity=1,e.allowShipping=!0,d=function(t){var i,n;return n=_.sortBy(t,function(e){return e.position}),i=_.filter(n,function(e){return e.inventory>0}),e.currentVariant=_.first(i)||_.first(n)},c=function(t){return e.currentCategory=t[0]||{subcategories:{}},e.currentSubcategory=e.currentCategory.subcategories[0]},l=function(){return n(function(){return $(".rich-media-content").find("iframe").each(function(){return $(this).parent(".fluid-width-video-wrapper").length?void 0:$(this).wrap('<span data-fitvids="true"></span>').parent().fitVids()})})},o=function(){return s.read(i.product_slug).then(function(t){return e.product=t,_.each(t.variants,function(e){return e.title=window.defaultSanitizer.unescapeHTML(e.title)}),d(t.variants),c(t.categories),l(),a(),window.document.title="ArtStation Shop - "+window.defaultSanitizer.unescapeHTML(e.product.title)})},u=function(){return $.get("/shipping_countries/validate.json").fail(function(t){return e.allowShipping=!1,e.currentCountry=t.responseJSON.country})},r=function(){return o(),u()},e.addItemToCart=function(){var t;return t=e.currentVariant.id,window.userCartService.addItem({variantId:t,quantity:e.quantity}).then(function(){return window.location.href="/cart",window.userCartService.getCount().then(function(e){var t;return t=$("[data-cart-counter]"),t.html(e),t.toggleClass("hidden",0===e)})},function(e){var t;return t=e.responseJSON,t&&t.error?Flash.notice(t.error):void 0})},a=function(){return $(".product-sidebar").affix({offset:{top:function(){return $(".product-header").offset().top-10}}})},r(),Track.pageView()}])}.call(this),function(){window.app.controller("ProductsVendorController",["$scope","$location","$routeParams","ProductCategoriesRepository","ProductsRepository","ProductVendorsRepository",function(e,t,i,n,s,a){var r,o;return e.products=[],r=function(){return s.readAll({vendor_url:e.vendor.url}).then(function(t){return e.products=t.data})},o=function(e){return window.document.title="ArtStation Shop - "+e},a.read(i.url).then(function(t){return e.vendor=t,o(e.vendor.title),r()}),Track.pageView()}])}.call(this),function(){app.factory("ProductCategoriesResource",["$resource",function(e){return e("/marketplace/product_categories.json",{},{readAll:{method:"GET",url:"/marketplace/product_categories.json",cache:!0,isArray:!0}})}])}.call(this),function(){app.factory("ProductVendorsResource",["$resource",function(e){return e("/marketplace/product_vendors.json",{url:"@url"},{read:{method:"GET",url:"/marketplace/product_vendors/:url.json",cache:!0}})}])}.call(this),function(){app.factory("ProductsResource",["$resource",function(e){return e("/marketplace/products/:id.json",{id:"@id",slug:"@slug"},{readAll:{method:"GET",url:"/marketplace/products.json",cache:!0},read:{method:"GET",url:"/marketplace/products/:slug.json",cache:!0}})}])}.call(this),function(){window.app.factory("ProductCategoriesRepository",["ProductCategoriesResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.readAll=function(){return e.readAll().$promise},t}())}])}.call(this),function(){window.app.factory("ProductVendorsRepository",["ProductVendorsResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.read=function(t){return e.read({url:t}).$promise},t}())}])}.call(this),function(){window.app.factory("ProductsRepository",["ProductsResource",function(e){var t;return new(t=function(){function t(){}return t.prototype.readAll=function(t){return e.readAll(t).$promise},t.prototype.read=function(t){return e.read({slug:t}).$promise},t}())}])}.call(this),function(){app.directive("marketplaceFilters",["$location",function(){return{restrict:"E",templateUrl:"marketplace/directives/marketplace_filters-"+window.locale+".html"}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("messages/directives/conversation-ru.html",'<div class="messages-empty" ng-if="!currentConversation.id"><span class="icon icon-messages fa-lg"></span><div class="messages-empty-text">No discussion selected</div></div><div class="messages-empty" ng-if="!loading &amp;&amp; currentConversation.id &amp;&amp; !currentConversation.messages.length &amp;&amp; !currentConversation.currentMessageId"><span class="fa fa-ban fa-lg"></span><div class="messages-empty-text">Messages are not available</div></div><div class="messages-head" ng-if="currentConversation.id"><div class="messages-header"><div class="messages-sender"><div class="btn-group visible-xs"><button aria-expanded="false" aria-haspopup="true" class="btn btn-default" data-toggle="dropdown" ng-click="showConversations()" type="button"><span class="fa fa-chevron-left"></span></button></div><a ng-href="{{ currentConversation.recepient.artstation_profile_url }}"><img class="messages-sender-avatar" height="40" ng-src="{{ currentConversation.recepient.medium_avatar_url }}" width="40" /></a><div><div class="messages-name"><a href="#" ng-bind-html="currentConversation.recepient.full_name" ng-href="{{ currentConversation.recepient.artstation_profile_url }}"></a><a class="pro-badge" href="/pro" ng-if="currentConversation.recepient.pro_member" target="_top">PRO</a></div><div class="messages-name-title text-muted" ng-bind-html="currentConversation.recepient.headline"></div></div></div><div class="messages-actions btn-group"><button aria-expanded="false" aria-haspopup="true" class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button"><span class="fa fa-angle-down"></span></button><ul class="dropdown-menu dropdown-menu-right"><li><a href="#" ng-click="reportAbuse()">Report abuse</a></li><li><a href="#" ng-click="blockUser()">Block User</a></li></ul></div></div><div class="messages-search-header" ng-if="currentConversation.conversation.message_ids"><div class="left"><a class="fa-pad-right" href="#" ng-click="prevMessageId()"><span class="fa fa-angle-up"></span></a><a class="fa-pad-right" href="#" ng-click="nextMessageId()"><span class="fa fa-angle-down"></span></a><div class="results-count text-muted">{{ currentConversation.conversation.message_ids.indexOf(currentConversation.currentMessageId) + 1 }} of {{ currentConversation.conversation.message_ids.length }} <ng-pluralize count="currentConversation.conversation.message_ids.length" when="{ &#39;1&#39;: &#39;result&#39;, &#39;other&#39;: &#39;results&#39; }"></ng-pluralize> for \'{{ query }}\'</div></div><div class="right"><a href="#" ng-click="completeSearch()">Done</a></div></div></div><div class="messages-list search-results"><div class="loading" ng-show="loading"></div><div class="message-load-more text-center" ng-if="!loading &amp;&amp; currentConversation.id &amp;&amp; currentConversation.currentMessageId"><span class="message-load-more-btn" ng-click="loadPrevSearchPage()" ng-show="!loadingPrev &amp;&amp; !lastPageReachedForPrevMessage">Load More...</span><div class="loading" ng-show="loadingPrev"></div></div><div class="message-container" ng-repeat="group in currentConversation.groupedMessages"><div class="message-date text-center text-muted">{{ group.timestamp | asMessageTimestamp }}</div><div class="message-item" ng-class="{&#39;reverse&#39;: group.user.id == currentUser.id}"><img class="message-avatar" height="40" ng-src="{{group.user.medium_avatar_url}}" width="40" /><div class="message-item-inner"><div class="message-text-wrap" ng-repeat="message in group.messages | orderBy : &#39;created_at&#39;"><div class="message-text" ng-bind-html="message.body_html" title="{{ message.created_at | moment:&#39;hh:mm A&#39; }}"></div></div></div></div></div><div class="message-load-more text-center" ng-if="!loading &amp;&amp; currentConversation.id &amp;&amp; currentConversation.currentMessageId"><span class="message-load-more-btn" ng-click="loadNextSearchPage()" ng-show="!loadingNext &amp;&amp; !lastPageReachedForNextMessage">Load More...</span><div class="loading" ng-show="loadingNext"></div></div><div class="message-container" ng-repeat="group in grouppedNewMessages"><div class="message-date text-center text-muted">{{ group.timestamp | asMessageTimestamp }}</div><div class="message-item" ng-class="{&#39;reverse&#39;: group.user.id == currentUser.id}"><img class="message-avatar" height="40" ng-src="{{group.user.medium_avatar_url}}" width="40" /><div class="message-item-inner"><div class="message-text-wrap" ng-repeat="message in group.messages | orderBy : &#39;created_at&#39;"><div class="message-text" ng-bind-html="message.body_html" title="{{ message.created_at | moment:&#39;hh:mm A&#39; }}"></div></div></div></div></div><div class="text-center text-muted" ng-if="!permissionsLoading &amp;&amp; !canMessage &amp;&amp; !loading &amp;&amp; currentConversation.messages.length &amp;&amp; !currentConversation.conversation.archived">This person isn\'t available right now.</div><div class="conversation-archived text-center" ng-show="currentConversation.conversation.archived"><span class="alert alert-warning alert-gray"><span class="fa fa-archive fa-pad-right"></span>Converstation archived </span></div></div><div class="messages-send" ng-show="currentConversation.id"><div class="messages-unarchive text-center" ng-show="currentConversation.conversation.archived"><div class="btn btn-default" ng-click="unarchiveConversation(currentConversation.conversation.id)"><span class="fa fa-undo fa-pad-right"></span>Unarchive converstation </div></div><form class="form" name="messageForm" ng-show="canMessage &amp;&amp; !currentConversation.conversation.archived" ng-submit="onSubmit()"><div class="messages-send-inner"><textarea class="form-control" ng-model="message.body" rows="1" submit-by-cmd-enter=""></textarea><input class="btn btn-primary" type="submit" value="Send" /></div><div class="form-group" ng-class="{ &#39;has-error&#39;: messageForm.$invalid &amp;&amp; messageForm.$dirty }" ng-if="messageForm.$invalid &amp;&amp; messageForm.$dirty"><div class="help-block" ng-bind-html="messageForm.error_message" ng-show="messageForm.$invalid &amp;&amp; messageForm.$dirty"></div></div></form></div><style type="text/css">body { padding-top: 54px; }\n#main-nav { position: fixed; top: 0; left: 0; width: 100%; }\n.separator-lg { display: none; }\n.wrapper { min-height: 0; padding-bottom: 0; }\nfooter.corporate-footer { display: none; }</style>'),e.put("messages/directives/conversation-en.html",'<div class="messages-empty" ng-if="!currentConversation.id"><span class="icon icon-messages fa-lg"></span><div class="messages-empty-text">No discussion selected</div></div><div class="messages-empty" ng-if="!loading &amp;&amp; currentConversation.id &amp;&amp; !currentConversation.messages.length &amp;&amp; !currentConversation.currentMessageId"><span class="fa fa-ban fa-lg"></span><div class="messages-empty-text">Messages are not available</div></div><div class="messages-head" ng-if="currentConversation.id"><div class="messages-header"><div class="messages-sender"><div class="btn-group visible-xs"><button aria-expanded="false" aria-haspopup="true" class="btn btn-default" data-toggle="dropdown" ng-click="showConversations()" type="button"><span class="fa fa-chevron-left"></span></button></div><a ng-href="{{ currentConversation.recepient.artstation_profile_url }}"><img class="messages-sender-avatar" height="40" ng-src="{{ currentConversation.recepient.medium_avatar_url }}" width="40" /></a><div><div class="messages-name"><a href="#" ng-bind-html="currentConversation.recepient.full_name" ng-href="{{ currentConversation.recepient.artstation_profile_url }}"></a><a class="pro-badge" href="/pro" ng-if="currentConversation.recepient.pro_member" target="_top">PRO</a></div><div class="messages-name-title text-muted" ng-bind-html="currentConversation.recepient.headline"></div></div></div><div class="messages-actions btn-group"><button aria-expanded="false" aria-haspopup="true" class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button"><span class="fa fa-angle-down"></span></button><ul class="dropdown-menu dropdown-menu-right"><li><a href="#" ng-click="reportAbuse()">Report abuse</a></li><li><a href="#" ng-click="blockUser()">Block User</a></li></ul></div></div><div class="messages-search-header" ng-if="currentConversation.conversation.message_ids"><div class="left"><a class="fa-pad-right" href="#" ng-click="prevMessageId()"><span class="fa fa-angle-up"></span></a><a class="fa-pad-right" href="#" ng-click="nextMessageId()"><span class="fa fa-angle-down"></span></a><div class="results-count text-muted">{{ currentConversation.conversation.message_ids.indexOf(currentConversation.currentMessageId) + 1 }} of {{ currentConversation.conversation.message_ids.length }} <ng-pluralize count="currentConversation.conversation.message_ids.length" when="{ &#39;1&#39;: &#39;result&#39;, &#39;other&#39;: &#39;results&#39; }"></ng-pluralize> for \'{{ query }}\'</div></div><div class="right"><a href="#" ng-click="completeSearch()">Done</a></div></div></div><div class="messages-list search-results"><div class="loading" ng-show="loading"></div><div class="message-load-more text-center" ng-if="!loading &amp;&amp; currentConversation.id &amp;&amp; currentConversation.currentMessageId"><span class="message-load-more-btn" ng-click="loadPrevSearchPage()" ng-show="!loadingPrev &amp;&amp; !lastPageReachedForPrevMessage">Load More...</span><div class="loading" ng-show="loadingPrev"></div></div><div class="message-container" ng-repeat="group in currentConversation.groupedMessages"><div class="message-date text-center text-muted">{{ group.timestamp | asMessageTimestamp }}</div><div class="message-item" ng-class="{&#39;reverse&#39;: group.user.id == currentUser.id}"><img class="message-avatar" height="40" ng-src="{{group.user.medium_avatar_url}}" width="40" /><div class="message-item-inner"><div class="message-text-wrap" ng-repeat="message in group.messages | orderBy : &#39;created_at&#39;"><div class="message-text" ng-bind-html="message.body_html" title="{{ message.created_at | moment:&#39;hh:mm A&#39; }}"></div></div></div></div></div><div class="message-load-more text-center" ng-if="!loading &amp;&amp; currentConversation.id &amp;&amp; currentConversation.currentMessageId"><span class="message-load-more-btn" ng-click="loadNextSearchPage()" ng-show="!loadingNext &amp;&amp; !lastPageReachedForNextMessage">Load More...</span><div class="loading" ng-show="loadingNext"></div></div><div class="message-container" ng-repeat="group in grouppedNewMessages"><div class="message-date text-center text-muted">{{ group.timestamp | asMessageTimestamp }}</div><div class="message-item" ng-class="{&#39;reverse&#39;: group.user.id == currentUser.id}"><img class="message-avatar" height="40" ng-src="{{group.user.medium_avatar_url}}" width="40" /><div class="message-item-inner"><div class="message-text-wrap" ng-repeat="message in group.messages | orderBy : &#39;created_at&#39;"><div class="message-text" ng-bind-html="message.body_html" title="{{ message.created_at | moment:&#39;hh:mm A&#39; }}"></div></div></div></div></div><div class="text-center text-muted" ng-if="!permissionsLoading &amp;&amp; !canMessage &amp;&amp; !loading &amp;&amp; currentConversation.messages.length &amp;&amp; !currentConversation.conversation.archived">This person isn\'t available right now.</div><div class="conversation-archived text-center" ng-show="currentConversation.conversation.archived"><span class="alert alert-warning alert-gray"><span class="fa fa-archive fa-pad-right"></span>Converstation archived </span></div></div><div class="messages-send" ng-show="currentConversation.id"><div class="messages-unarchive text-center" ng-show="currentConversation.conversation.archived"><div class="btn btn-default" ng-click="unarchiveConversation(currentConversation.conversation.id)"><span class="fa fa-undo fa-pad-right"></span>Unarchive converstation </div></div><form class="form" name="messageForm" ng-show="canMessage &amp;&amp; !currentConversation.conversation.archived" ng-submit="onSubmit()"><div class="messages-send-inner"><textarea class="form-control" ng-model="message.body" rows="1" submit-by-cmd-enter=""></textarea><input class="btn btn-primary" type="submit" value="Send" /></div><div class="form-group" ng-class="{ &#39;has-error&#39;: messageForm.$invalid &amp;&amp; messageForm.$dirty }" ng-if="messageForm.$invalid &amp;&amp; messageForm.$dirty"><div class="help-block" ng-bind-html="messageForm.error_message" ng-show="messageForm.$invalid &amp;&amp; messageForm.$dirty"></div></div></form></div><style type="text/css">body { padding-top: 54px; }\n#main-nav { position: fixed; top: 0; left: 0; width: 100%; }\n.separator-lg { display: none; }\n.wrapper { min-height: 0; padding-bottom: 0; }\nfooter.corporate-footer { display: none; }</style>'),e.put("messages/directives/conversation.html",e.get("messages/directives/conversation-en.html"))}]),angular.module("templates").run(["$templateCache",function(e){e.put("messages/directives/conversations-ru.html",'<div class="messages-sidebar"><div class="messages-header"><div class="messages-sidebar-header"><div class="messages-sidebar-title"><a href="/messages" ng-click="goToMessages()">Inbox</a></div><span class="dropdown"><a class="btn btn-link" data-toggle="dropdown" href="#" role="button"><span class="fa fa-angle-down"></span></a><ul class="dropdown-menu dropdown-menu-right"><li><a href="#" ng-click="changeArchivedFilter(true)" ng-if="!conversationsFilter.archived">Archived conversations </a><a href="#" ng-click="changeArchivedFilter(false)" ng-if="conversationsFilter.archived">Active conversations </a></li><li><a href="#" ng-href="/myartstation/settings/messaging" target="_self">Messages settings </a></li></ul></span></div></div><div class="messages-search-input"><div class="form-group" ng-class="{&#39;has-error&#39;: search.error}"><span class="fa fa-search search-icon text-muted"></span><input class="form-control" ng-change="setScheduleQ()" ng-focus="activateSearch()" ng-keydown="onSearchKeydown($event)" ng-model="search.q" placeholder="Search in messages" type="search" /><span class="search-cancel text-muted" ng-click="closeSearch()" ng-show="search.isActive"><div class="search-cancel-inner"></div></span><div class="help-block" ng-bind="search.error" ng-if="search.error"></div></div></div><div class="messages-tabs sub-nav" ng-show="!conversationsFilter.archived &amp;&amp; !search.isActive"><div class="btn-group"><a class="messages-tab btn btn-default" href="#" ng-class="{active: conversationsFilter.conversationType == null}" ng-click="changeConversationTypeFilter(null)">All</a><a class="messages-tab btn btn-default" href="#" ng-class="{active: conversationsFilter.conversationType == &#39;business&#39;}" ng-click="changeConversationTypeFilter(&#39;business&#39;)">Business</a><a class="messages-tab btn btn-default" href="#" ng-class="{active: conversationsFilter.conversationType == &#39;general&#39;}" ng-click="changeConversationTypeFilter(&#39;general&#39;)">General</a></div></div><div class="messages-tabs sub-nav" ng-if="search.isActive"><div class="btn-group"><a class="messages-tab btn btn-default" href="#" ng-class="{active: search.searchType == search.searchTypes.contacts}" ng-click="changeSearchType(search.searchTypes.contacts)">Contacts</a><a class="messages-tab btn btn-default" href="#" ng-class="{active: search.searchType == search.searchTypes.messages}" ng-click="activateSearch() &amp;&amp; changeSearchType(search.searchTypes.messages)">Messages</a></div></div><div class="messages-archive-active" ng-if="conversationsFilter.archived &amp;&amp; !search.isActive"><button aria-expanded="false" aria-haspopup="true" class="btn btn-link" data-toggle="dropdown" ng-click="changeArchivedFilter(false)" type="button"><span class="fa fa-arrow-left"></span></button><span class="fa fa-archive fa-pad-right"></span>Archived </div><div class="search-results" ng-if="search.isActive"><div class="messages-search-count" ng-show="search.resultsLoaded"><ng-pluralize count="search.resultCount" when="{ &#39;1&#39;: &#39;1 result&#39;, &#39;other&#39;: &#39;{{ search.resultCount }} results&#39; }"></ng-pluralize></div><div class="messages-chats"><div ng-repeat="conversation in search.conversations"><a class="search-result" ng-class="{&#39;active&#39;: conversation.id == currentConversation.id, &#39;messages-chat-unread&#39;: conversation.unread }" ng-click="selectConversation(conversation, $event)" ng-href="{{ conversationPath(conversation) }}"><img height="60" ng-src="{{conversation.recepient.medium_avatar_url}}" width="60" /><div class="messages-chat-preview"><div class="messages-chat-name-date"><div class="messages-chat-name"><span ng-bind="conversation.recepient.full_name"></span><span class="label label-primary" ng-if="conversation.conversation_type == &#39;business&#39;">{{ conversation.conversation_type }}</span><span class="label label-primary" ng-if="conversation.archived">archived</span><span class="staff-badge" ng-if="conversation.recepient.is_staff">Staff</span></div></div><div class="messages-chat-text" ng-if="conversation.message_ids"><ng-pluralize count="conversation.message_ids.length" when="{ &#39;1&#39;: &#39;1 result&#39;, &#39;other&#39;: &#39;{{ conversation.message_ids.length }} results&#39; }"></ng-pluralize></div></div></a></div><div class="messages-chats-load-more" ng-show="!search.loading &amp;&amp; !search.lastPageReached || search.loading"><div class="loaded" ng-show="!search.loading &amp;&amp; !search.lastPageReached"><a href="#" ng-click="LoadMoreSearchResults()">Load More</a></div><div class="loading" ng-show="search.loading"></div></div></div></div><div class="conversation-list" ng-if="!search.isActive"><div class="messages-chats"><div class="messages-chats-empty" ng-if="!conversations.length &amp;&amp; !loading &amp;&amp; !conversationsFilter.archived"><p>You have no messages yet.</p><p>To start a conversations click on the message button on someone\'s profile page.</p><p><img width="371" height="239" alt="" class="img-responsive" src="/assets/empty-messages-6227957cca835bbdb49a214b70c8af5c.png" /></p><p>If a user\'s profile does not have a message button, they have disabled messaging and do not wish to be contacted via ArtStation.</p></div><div class="messages-chats-empty" ng-if="!conversations.length &amp;&amp; !loading &amp;&amp; conversationsFilter.archived"><p>You have no archived conversations yet.</p></div><div ng-repeat="conversation in conversations"><a class="messages-chat" ng-class="{&#39;active&#39;: conversation.id == currentConversation.id, &#39;messages-chat-unread&#39;: conversation.unread }" ng-click="selectConversation(conversation, $event)" ng-href="/messages/conversations/{{conversation.id}}"><img height="60" ng-src="{{conversation.recepient.medium_avatar_url}}" width="60" /><div class="messages-chat-preview"><div class="messages-chat-name-date"><div class="messages-chat-name"><span ng-bind-html="conversation.recepient.full_name"></span><span class="label label-primary" ng-if="conversation.conversation_type == &#39;business&#39;">{{ conversation.conversation_type }}</span><span class="label label-primary" ng-if="conversation.archived">archived</span><span class="staff-badge" ng-if="conversation.recepient.is_staff">Staff</span></div><div class="messages-chat-date-actions"><div class="messages-chat-date" ng-bind="conversation.message.created_at | moment : &#39;MMM DD&#39;"></div><div class="messages-actions dropdown"><button aria-expanded="false" aria-haspopup="true" class="dropdown-toggle" data-toggle="dropdown" type="button"><span class="fa fa-angle-down"></span></button><ul class="dropdown-menu pull-right"><li ng-if="!conversation.archived &amp;&amp; conversation.conversation_type == &#39;business&#39;"><span ng-click="changeConversationType(conversation.id, &#39;general&#39;, $event)">Move to general</span></li><li ng-if="!conversation.archived &amp;&amp; conversation.conversation_type == &#39;general&#39;"><span ng-click="changeConversationType(conversation.id, &#39;business&#39;, $event)">Move to business</span></li><li ng-if="!conversation.archived"><span ng-click="archiveConversation(conversation.id, $event)">Archive</span></li><li ng-if="conversation.archived"><span ng-click="unarchiveConversation(conversation.id, $event)">Unarchive</span></li><li><span ng-click="destroyConversation(conversation.id, $event)">Delete</span></li></ul></div></div></div><div class="messages-chat-text message-body-preview" ng-bind-html="conversation.message.body_html"></div></div></a></div><div class="messages-chats-load-more" ng-show="!loading &amp;&amp; !lastPageReached || loading"><div class="loaded" ng-show="!loading &amp;&amp; !lastPageReached"><a href="#" ng-click="LoadMoreConversations()">Load More</a></div><div class="loading" ng-show="loading"></div></div></div></div></div>'),e.put("messages/directives/conversations-en.html",'<div class="messages-sidebar"><div class="messages-header"><div class="messages-sidebar-header"><div class="messages-sidebar-title"><a href="/messages" ng-click="goToMessages()">Inbox</a></div><span class="dropdown"><a class="btn btn-link" data-toggle="dropdown" href="#" role="button"><span class="fa fa-angle-down"></span></a><ul class="dropdown-menu dropdown-menu-right"><li><a href="#" ng-click="changeArchivedFilter(true)" ng-if="!conversationsFilter.archived">Archived conversations </a><a href="#" ng-click="changeArchivedFilter(false)" ng-if="conversationsFilter.archived">Active conversations </a></li><li><a href="#" ng-href="/myartstation/settings/messaging" target="_self">Messages settings </a></li></ul></span></div></div><div class="messages-search-input"><div class="form-group" ng-class="{&#39;has-error&#39;: search.error}"><span class="fa fa-search search-icon text-muted"></span><input class="form-control" ng-change="setScheduleQ()" ng-focus="activateSearch()" ng-keydown="onSearchKeydown($event)" ng-model="search.q" placeholder="Search in messages" type="search" /><span class="search-cancel text-muted" ng-click="closeSearch()" ng-show="search.isActive"><div class="search-cancel-inner"></div></span><div class="help-block" ng-bind="search.error" ng-if="search.error"></div></div></div><div class="messages-tabs sub-nav" ng-show="!conversationsFilter.archived &amp;&amp; !search.isActive"><div class="btn-group"><a class="messages-tab btn btn-default" href="#" ng-class="{active: conversationsFilter.conversationType == null}" ng-click="changeConversationTypeFilter(null)">All</a><a class="messages-tab btn btn-default" href="#" ng-class="{active: conversationsFilter.conversationType == &#39;business&#39;}" ng-click="changeConversationTypeFilter(&#39;business&#39;)">Business</a><a class="messages-tab btn btn-default" href="#" ng-class="{active: conversationsFilter.conversationType == &#39;general&#39;}" ng-click="changeConversationTypeFilter(&#39;general&#39;)">General</a></div></div><div class="messages-tabs sub-nav" ng-if="search.isActive"><div class="btn-group"><a class="messages-tab btn btn-default" href="#" ng-class="{active: search.searchType == search.searchTypes.contacts}" ng-click="changeSearchType(search.searchTypes.contacts)">Contacts</a><a class="messages-tab btn btn-default" href="#" ng-class="{active: search.searchType == search.searchTypes.messages}" ng-click="activateSearch() &amp;&amp; changeSearchType(search.searchTypes.messages)">Messages</a></div></div><div class="messages-archive-active" ng-if="conversationsFilter.archived &amp;&amp; !search.isActive"><button aria-expanded="false" aria-haspopup="true" class="btn btn-link" data-toggle="dropdown" ng-click="changeArchivedFilter(false)" type="button"><span class="fa fa-arrow-left"></span></button><span class="fa fa-archive fa-pad-right"></span>Archived </div><div class="search-results" ng-if="search.isActive"><div class="messages-search-count" ng-show="search.resultsLoaded"><ng-pluralize count="search.resultCount" when="{ &#39;1&#39;: &#39;1 result&#39;, &#39;other&#39;: &#39;{{ search.resultCount }} results&#39; }"></ng-pluralize></div><div class="messages-chats"><div ng-repeat="conversation in search.conversations"><a class="search-result" ng-class="{&#39;active&#39;: conversation.id == currentConversation.id, &#39;messages-chat-unread&#39;: conversation.unread }" ng-click="selectConversation(conversation, $event)" ng-href="{{ conversationPath(conversation) }}"><img height="60" ng-src="{{conversation.recepient.medium_avatar_url}}" width="60" /><div class="messages-chat-preview"><div class="messages-chat-name-date"><div class="messages-chat-name"><span ng-bind="conversation.recepient.full_name"></span><span class="label label-primary" ng-if="conversation.conversation_type == &#39;business&#39;">{{ conversation.conversation_type }}</span><span class="label label-primary" ng-if="conversation.archived">archived</span><span class="staff-badge" ng-if="conversation.recepient.is_staff">Staff</span></div></div><div class="messages-chat-text" ng-if="conversation.message_ids"><ng-pluralize count="conversation.message_ids.length" when="{ &#39;1&#39;: &#39;1 result&#39;, &#39;other&#39;: &#39;{{ conversation.message_ids.length }} results&#39; }"></ng-pluralize></div></div></a></div><div class="messages-chats-load-more" ng-show="!search.loading &amp;&amp; !search.lastPageReached || search.loading"><div class="loaded" ng-show="!search.loading &amp;&amp; !search.lastPageReached"><a href="#" ng-click="LoadMoreSearchResults()">Load More</a></div><div class="loading" ng-show="search.loading"></div></div></div></div><div class="conversation-list" ng-if="!search.isActive"><div class="messages-chats"><div class="messages-chats-empty" ng-if="!conversations.length &amp;&amp; !loading &amp;&amp; !conversationsFilter.archived"><p>You have no messages yet.</p><p>To start a conversations click on the message button on someone\'s profile page.</p><p><img width="371" height="239" alt="" class="img-responsive" src="/assets/empty-messages-6227957cca835bbdb49a214b70c8af5c.png" /></p><p>If a user\'s profile does not have a message button, they have disabled messaging and do not wish to be contacted via ArtStation.</p></div><div class="messages-chats-empty" ng-if="!conversations.length &amp;&amp; !loading &amp;&amp; conversationsFilter.archived"><p>You have no archived conversations yet.</p></div><div ng-repeat="conversation in conversations"><a class="messages-chat" ng-class="{&#39;active&#39;: conversation.id == currentConversation.id, &#39;messages-chat-unread&#39;: conversation.unread }" ng-click="selectConversation(conversation, $event)" ng-href="/messages/conversations/{{conversation.id}}"><img height="60" ng-src="{{conversation.recepient.medium_avatar_url}}" width="60" /><div class="messages-chat-preview"><div class="messages-chat-name-date"><div class="messages-chat-name"><span ng-bind-html="conversation.recepient.full_name"></span><span class="label label-primary" ng-if="conversation.conversation_type == &#39;business&#39;">{{ conversation.conversation_type }}</span><span class="label label-primary" ng-if="conversation.archived">archived</span><span class="staff-badge" ng-if="conversation.recepient.is_staff">Staff</span></div><div class="messages-chat-date-actions"><div class="messages-chat-date" ng-bind="conversation.message.created_at | moment : &#39;MMM DD&#39;"></div><div class="messages-actions dropdown"><button aria-expanded="false" aria-haspopup="true" class="dropdown-toggle" data-toggle="dropdown" type="button"><span class="fa fa-angle-down"></span></button><ul class="dropdown-menu pull-right"><li ng-if="!conversation.archived &amp;&amp; conversation.conversation_type == &#39;business&#39;"><span ng-click="changeConversationType(conversation.id, &#39;general&#39;, $event)">Move to general</span></li><li ng-if="!conversation.archived &amp;&amp; conversation.conversation_type == &#39;general&#39;"><span ng-click="changeConversationType(conversation.id, &#39;business&#39;, $event)">Move to business</span></li><li ng-if="!conversation.archived"><span ng-click="archiveConversation(conversation.id, $event)">Archive</span></li><li ng-if="conversation.archived"><span ng-click="unarchiveConversation(conversation.id, $event)">Unarchive</span></li><li><span ng-click="destroyConversation(conversation.id, $event)">Delete</span></li></ul></div></div></div><div class="messages-chat-text message-body-preview" ng-bind-html="conversation.message.body_html"></div></div></a></div><div class="messages-chats-load-more" ng-show="!loading &amp;&amp; !lastPageReached || loading"><div class="loaded" ng-show="!loading &amp;&amp; !lastPageReached"><a href="#" ng-click="LoadMoreConversations()">Load More</a></div><div class="loading" ng-show="loading"></div></div></div></div></div>'),e.put("messages/directives/conversations.html",e.get("messages/directives/conversations-en.html"))
}]),angular.module("templates").run(["$templateCache",function(e){e.put("messages/index-ru.html",'<div class="messages"><conversations current-conversation="currentConversation" ng-show="isConversationsVisible()" search="search"></conversations><div class="messages-main active" ng-show="isConversationVisible()"><conversation current-conversation="currentConversation" search="search"></conversation></div></div><abuse-report-modal allow-user-block="true" ng-if="currentUser" user-block-id="currentConversation.recepient.id" user-block-name="currentConversation.recepient.full_name"></abuse-report-modal><block-user-modal ng-if="currentUser"></block-user-modal>'),e.put("messages/index-en.html",'<div class="messages"><conversations current-conversation="currentConversation" ng-show="isConversationsVisible()" search="search"></conversations><div class="messages-main active" ng-show="isConversationVisible()"><conversation current-conversation="currentConversation" search="search"></conversation></div></div><abuse-report-modal allow-user-block="true" ng-if="currentUser" user-block-id="currentConversation.recepient.id" user-block-name="currentConversation.recepient.full_name"></abuse-report-modal><block-user-modal ng-if="currentUser"></block-user-modal>'),e.put("messages/index.html",e.get("messages/index-en.html"))}]),function(){window.app.controller("ChatController",["$scope","$location","CurrentUser",function(e,t,i){var n,s,a;return e.search={searchTypes:{contacts:0,messages:1}},e.currentConversation={},e.initSearch=function(){var t;return t=e.search,t.isActive=!1,t.q="",t.loading=!1,t.resultsLoaded=!1,t.resultCount=0,t.conversations=[],t.page=1,t.perPage=20,t.lastPageReached=!0,t.searchType=t.searchTypes.contacts,t.scheduledQ="",t.messagePrevPage=0,t.messageNextPage=1},e.initSearch(),a=function(){return function(){var t;return t=e.search,t.conversations=[],t.page=1,t.lastPageReached=!0}}(this),e.$watch("search.searchType",function(){return function(e,t){return null!==e&&void 0!==e&&e!==t?a():void 0}}(this)),e.$watch("search.scheduledQ",function(){return function(e,t){return null!==e&&void 0!==e&&e!==t?a():void 0}}(this)),e.$watch("search.isActive",function(){return function(t){return t===!1?e.initSearch():void 0}}(this)),e.initCurrentConversation=function(){return function(){var t;return t=e.currentConversation,t.id=null,t.pathConversationId=null,t.user={},t.selected=!1,t.currentMessageId=null}}(this),e.initCurrentConversation(),e.$watch("currentConversation.id",function(){return function(i){return null===i?(e.initCurrentConversation(),t.path("/messages",!1)):void 0}}(this)),e.currentUser=i,s=/messages\/conversations\/(\d+)/,n=t.path(),s.test(n)&&(e.currentConversation.pathConversationId=parseInt(n.match(s)[1])),e.isConversationsVisible=function(){return function(){return e.isMobile()?!e.currentConversation.selected:!0}}(this),e.isConversationVisible=function(){return function(){return e.isMobile()?e.currentConversation.selected:!0}}(this),e.isMobile=function(){return $(window).width()<768}}])}.call(this),function(){window.app.controller("ConversationController",["ConversationsRepository","MessagesRepository","$scope","$location","CurrentUser","Submitting","$rootScope",function(e,t,i,n,s,a,r){var o,l,c;return i.page=1,i.perPage=20,i.perPageByMessageId=10,i.loading=!1,i.lastPageReached=!1,i.currentUser=s,i.canMessage=!1,i.lastPageReachedForNextMessage=!1,i.lastPageReachedForPrevMessage=!1,i.newMessages=[],i.message={body:""},o=function(){return function(){return i.lastPageReached=!1,i.lastPageReachedForNextMessage=!1,i.lastPageReachedForPrevMessage=!1,i.page=1,i.search.messagePrevPage=0,i.search.messageNextPage=1,i.loadingPrev=!1,i.loadingNext=!1,i.currentConversation.groupedMessages=[],i.currentConversation.messages=[],i.newMessages=[],i.grouppedNewMessages=[]}}(this),window.document.title="ArtStation - Messages",l=function(){return function(){return i.$watch("currentConversation.id",function(e,t){if(e!==t&&null!==e){if(o(),!i.currentConversation.conversation||!i.currentConversation.conversation.message_ids)return c(i.currentConversation.id,1,!0)}else if(null===e)return i.currentConversation.groupedMessages=[]})}}(this),i.loadNextPage=function(){return function(){return c(i.currentConversation.id,i.page+1,!1)}}(this),c=function(){return function(n,s,a,r,o){var l;if(n&&!(i.lastPageReached&&i.lastPageReachedForNextMessage&&i.lastPageReachedForPrevMessage))return i.page=s,i.loadingPrev||i.loadingNext||(i.loading=!0),r||(i.canMessage=!1),l=r?i.perPageByMessageId:i.perPage,r&&(o||(o="next")),e.read(n,s,r,o,l).then(function(e){var s,l,c,d,u,m,p,g,f,h,v,b,w,y,$,k;if(i.currentConversation.id===n){for(i.loading=!1,i.loadingPrev=!1,i.loadingNext=!1,i.currentConversation.id=n,i.currentConversation.recepient=e.recepient,(s=i.currentConversation).messages||(s.messages=[]),(l=i.currentConversation).groupedMessages||(l.groupedMessages=[]),b=e.data,c=0,p=b.length;p>c;c++)h=b[c],h.created_at=new Date(Date.parse(h.created_at));if(i.search.isActive&&i.query)for(k=i.query.split(/\s+/),d=0,g=k.length;g>d;d++)for($=k[d],y=new RegExp($,"ig"),w=e.data,u=0,f=w.length;f>u;u++)h=w[u],h.body_html=h.body_html.replace(y,function(e){return'<span class="search-highlight">'+e+"</span>"});return i.currentConversation.messages=i.currentConversation.messages.concat(e.data),i.currentConversation.messages=_.uniq(i.currentConversation.messages,function(e){return e.id}),i.currentConversation.messages=_.sortBy(i.currentConversation.messages,function(e){return e.created_at}),i.newMessages.length&&(v=i.currentConversation.messages.map(function(e){return e.id}),i.newMessages=_.filter(i.newMessages,function(e){return-1===v.indexOf(e.id)}),i.grouppedNewMessages=i.groupMessages(i.newMessages)),i.currentConversation&&i.currentConversation.conversation&&i.currentConversation.messages.length>0&&(m=i.currentConversation.messages[i.currentConversation.messages.length-1],i.currentConversation.conversation.message={body_html:m.body_html,created_at:m.created_at}),i.currentConversation.groupedMessages=i.groupMessages(i.currentConversation.messages),i.permissionsLoading=!0,t.permissions(e.recepient.id).then(function(e){return i.permissionsLoading=!1,i.canMessage=e.allowed}),e.data.length<i.perPage&&(i.lastPageReached=!0),r&&("next"!==o||e.has_next||(i.lastPageReachedForNextMessage=!0),"prev"!==o||e.has_prev||(i.lastPageReachedForPrevMessage=!0),(e.has_prev===!0||e.has_prev===!1)&&(i.lastPageReachedForPrevMessage=!e.has_prev),(e.has_next===!0||e.has_next===!1)&&(i.lastPageReachedForNextMessage=!e.has_next)),a&&i.scrollToBottom(),new UnreadConversationsCounter}})}}(this),i.currentConversation.pathConversationId?(i.currentConversation.id=i.currentConversation.pathConversationId,c(i.currentConversation.pathConversationId,1,!0).then(function(){return function(){return i.currentConversation.selected=!0,l()}}(this)),i.currentConversation.pathConversationId=null):l(),i.unarchiveConversation=function(){return function(e){return r.$broadcast("chat:conversation:unarchive",e)}}(this),i.buildGroup=function(e){return{timestamp:e[0].created_at,user:e[0].user,messages:e}},i.canMerge=function(e,t){return e&&t?e.user.id!==t.user.id?!1:t.created_at-e.created_at<36e5&&moment(e.created_at).isSame(t.created_at,"day"):!1},i.groupMessages=function(e){var t,n,s,a,r;for(n=[],t=[],s=0,a=e.length;a>s;s++)r=e[s],0===t.length?t=[r]:i.canMerge(t[t.length-1],r)?t.push(r):(n.push(i.buildGroup(t)),t=[r]);return t.length>0&&n.push(i.buildGroup(t)),n},i.showConversations=function(){return function(){return i.currentConversation.selected=!1}}(this),i.addMessageToCurrentConversation=function(e){var t,n,s;if(!_.find(i.currentConversation.messages,function(t){return t.id===e.id}))return s={id:e.id,body_html:e.body_html,user:e.user,created_at:new Date(Date.parse(e.created_at))},i.currentConversation.messages.length>0&&(n=i.currentConversation.messages[i.currentConversation.messages.length-1],i.canMerge(n,s)?(t=i.currentConversation.groupedMessages[i.currentConversation.groupedMessages.length-1],t.messages.push(s)):i.currentConversation.groupedMessages.push(i.buildGroup([s]))),i.currentConversation.messages.push(s),i.currentConversation.conversation&&(i.currentConversation.conversation.message=s,i.currentConversation.conversation.archived=!1),i.scrollToBottom()},i.onSubmit=a(function(){return function(){var e;return e=i.message.body.trim(),e.length?t.create(i.currentConversation.recepient.id,e).then(function(e){var t;return i.messageForm.$setValidity("custom",!0),i.messageForm.error_message=null,i.message.body="",i.currentConversation.currentMessageId?(t={id:e.id,body_html:e.body_html,user:e.user,created_at:new Date(Date.parse(e.created_at))},i.newMessages.push(t),i.grouppedNewMessages=i.groupMessages(i.newMessages)):i.addMessageToCurrentConversation(e)})["catch"](function(e){return 422===e.status&&"body"===e.data.code?i.message.body="":422===e.status&&"length_limit"===e.data.code?(i.messageForm.$setValidity("custom",!1),i.messageForm.error_message=e.data.message):i.canMessage=!1}):void 0}}(this)),i.reportAbuse=function(){return function(){return r.$broadcast("artstationAbuseReport:new",{reportable_type:"Conversation",reportable_id:i.currentConversation.id}),i.dropdownShown=!1}}(this),i.blockUser=function(){return function(){return r.$broadcast("artstationBlockUser:new",{blocked_user_id:i.currentConversation.recepient.id,username:i.currentConversation.recepient.full_name})}}(this),i.$on("messages:currentConversationNewMessage",function(e,t){return i.addMessageToCurrentConversation(t)}),i.$watch("currentConversation.currentMessageId",function(){return function(e){return e?(i.query=i.search.serverQ,o(),c(i.currentConversation.id,1,!1,i.currentConversation.currentMessageId)):i.currentConversation.groupedMessages=[]}}(this)),i.nextMessageId=function(){return function(){var e,t;return e=i.currentConversation.conversation,e&&e.message_ids&&e.message_ids.length?(t=e.message_ids.indexOf(i.currentConversation.currentMessageId),t<e.message_ids.length-1&&t++,i.currentConversation.currentMessageId=e.message_ids[t]):void 0}}(this),i.prevMessageId=function(){return function(){var e,t;return e=i.currentConversation.conversation,e&&e.message_ids&&e.message_ids.length?(t=e.message_ids.indexOf(i.currentConversation.currentMessageId),t>0&&t--,i.currentConversation.currentMessageId=e.message_ids[t]):void 0}}(this),i.completeSearch=function(){return function(){return o(),i.search.isActive=!1,delete i.currentConversation.conversation.message_ids,i.currentConversation.currentMessageId=null,c(i.currentConversation.id,1,!0)}}(this),i.loadPrevSearchPage=function(){return function(){return i.search.messagePrevPage++,i.loadingPrev=!0,c(i.currentConversation.id,i.search.messagePrevPage,!1,i.currentConversation.currentMessageId,"prev")}}(this),i.loadNextSearchPage=function(){return function(){return i.search.messageNextPage++,i.loadingNext=!0,c(i.currentConversation.id,i.search.messageNextPage,!0,i.currentConversation.currentMessageId,"next")}}(this)}])}.call(this),function(){window.app.controller("ConversationsController",["ConversationsRepository","ConversationsSearchRepository","$scope","$timeout","$location","$rootScope",function(e,t,i,n,s,a){var r,o,l,c,d;return i.page=1,i.conversations=[],i.lastPageReached=!1,i.loading=!0,i.perPage=20,i.user_id=window.user_id,i.conversationsFilter={conversationType:null,archived:!1},window.document.title="ArtStation - Messages",d=function(){return function(e){return e?(i.currentConversation.id=e.id,e.unread=!1,i.currentConversation.selected=!0,i.currentConversation.conversation=e,e.message_ids&&e.message_ids.length&&(i.currentConversation.currentMessageId=e.message_ids[0]),s.path("/messages/conversations/"+e.id,!1)):(i.currentConversation={id:null,pathConversationId:null,user:{},selected:!1},s.path("/messages",!1)),!0}}(this),i.changeConversationTypeFilter=function(e){return e!==i.conversationsFilter.conversationType?(i.page=1,i.conversations=[],i.conversationsFilter.conversationType=e,i.loadConversations(i.page)):void 0},i.changeArchivedFilter=function(e){return i.search.isActive=!1,e!==i.conversationsFilter.archived?(i.conversationsFilter.archived=e,i.page=1,i.conversations=[],i.loadConversations(i.page)):void 0},r=function(){return $(window).width()<768},i.loadConversations=function(t){return i.loading=!0,e.readAll(i.conversationsFilter,t,i.perPage).then(function(e){var t,n,s,a,o,l;for(i.loading=!1,s=function(e){return _.find(i.conversations,function(t){return t.id===e.id})},l=_.filter(e.data,function(e){return!e.inactive&&!s(e)}),a=0,o=l.length;o>a;a++)n=l[a],n.message.created_at=new Date(Date.parse(n.message.created_at));return i.conversations=i.conversations.concat(l),e.data.length<i.perPage&&(i.lastPageReached=!0),!r()&&!i.currentConversation.pathConversationId&&!i.currentConversation.id&&i.conversations.length>0?d(i.conversations[0]):i.currentConversation.id&&!i.currentConversation.conversation&&(t=_.find(i.conversations,function(){return function(e){return e.id===i.currentConversation.id}}(this)))?i.currentConversation.conversation=t:void 0})},i.LoadMoreConversations=function(){return i.page++,i.loadConversations(i.page)},i.reloadConversations=function(){var t,n;return n=i.page,t=i.currentConversation.id===_.last(i.conversations)?(n+1)*i.perPage:n*i.perPage,e.readAll(i.conversationsFilter,1,t).then(function(e){var t,n,s,a;for(a=_.filter(e.data,function(e){return!e.inactive}),n=0,s=a.length;s>n;n++)t=a[n],t.message.created_at=new Date(Date.parse(t.message.created_at));return 0===i.conversations.length||i.conversations[0].id!==a[0].id?i.conversations=a:void 0})},i.selectConversation=function(e,t){return t.preventDefault(),0===$(t.target).parents(".messages-chat-date-actions").length?(t.stopPropagation(),d(e)):void 0},i.messageCreatedRealTime=function(t){var n,s,r,o;return s=t.conversation_id,i.currentConversation.id===s&&(a.$broadcast("messages:currentConversationNewMessage",t),e.markAsRead(i.currentConversation.id)),n=_.find(i.conversations,function(e){return e.id===s}),n?(i.currentConversation.id!==s&&t.user.id!==i.user_id&&(new UnreadConversationsCounter,n.unread=!0),n.message=t,r=_.indexOf(i.conversations,n),r>0?(o=0,i.conversations.splice(o,0,i.conversations.splice(r,1)[0])):void 0):i.reloadConversations()},i.loadConversations(i.page),i.changeConversationType=function(){return function(t,n){var s;return s=_.find(i.conversations,function(e){return e.id===t}),s?e.change_type(t,n).then(function(){return s.conversation_type=n,i.conversationsFilter.conversationType&&i.conversationsFilter.conversationType!==n?l(s):void 0}):!1}}(this),l=function(){return function(e,t){var n;return null==t&&(t=!0),n=_.indexOf(i.conversations,e),t&&!r()&&i.currentConversation.id===e.id&&d(n>0?i.conversations[n-1]:i.conversations.length>1?i.conversations[1]:null),i.conversations.splice(n,1)}}(this),i.archiveConversation=function(){return function(t){var n;return n=_.find(i.conversations,function(e){return e.id===t}),n?e.archive(t).then(function(){return n.archived=!0,l(n)}):!1}}(this),i.$on("chat:conversation:unarchive",function(e,t){return i.unarchiveConversation(t)}),i.unarchiveConversation=function(){return function(t){return e.unarchive(t).then(function(){var e;return e=_.find(i.conversations,function(e){return e.id===t}),e||i.currentConversation.id!==t||(e=i.currentConversation.conversation),e?(e.archived=!1,l(e,!1)):void 0})}}(this),i.destroyConversation=function(){return function(t){var n;return n=_.find(i.conversations,function(e){return e.id===t}),n?e.destroy(t).then(function(){return l(n)}):!1}}(this),i.$on("user.blocked",function(){return function(e,t){var n;return n=t.id,i.conversations=_.filter(i.conversations,function(e){return e.recepient.id!==n}),i.currentConversation.id&&i.currentConversation.conversation.recepient.id===n?i.currentConversation.id=null:void 0}}(this)),i.$on("websockets:new_message",function(e,t){return i.messageCreatedRealTime(t)}),i.activateSearch=function(){return i.search.isActive?!0:(i.search.isActive=!0,o("",1),!0)},i.closeSearch=function(){return function(){return i.search.isActive=!1,i.currentConversation.id=null}}(this),o=function(){return function(e,n){var s;return i.search.error=null,i.search.page=n?n:1,i.search.loading=!0,s=i.search.searchType===i.search.searchTypes.contacts?t.searchByContact:t.searchByMessage,s(i.search.page,i.search.perPage,e).then(function(t){var n;return i.search.serverQ=t.q,i.search.resultsLoaded=!0,n=_.filter(t.data,function(e){return!e.inactive}),i.search.conversations=i.search.conversations.concat(n),i.search.conversations=_.uniq(i.search.conversations,function(e){return e.id}),1===i.search.page&&(i.search.resultCount=t.total_count),i.search.lastPageReached=t.data.length<i.search.perPage||i.search.conversations.length===t.total_count,i.search.scheduledQ&&i.search.scheduledQ!==e&&o(i.search.scheduledQ,1),i.search.loading=!1})["catch"](function(e){return i.search.loading=!1,400===e.status&&"q"===e.data.code?i.search.error="should be less than 50 characters":void 0})}}(this),i.LoadMoreSearchResults=function(){return i.search.page++,o(i.search.scheduledQ,i.search.page)},c=function(){return function(){var e,t;return t=i.search,e=t.q.trim(),e!==t.scheduledQ&&(e.length&&t.searchType===t.searchTypes.messages||t.searchType===t.searchTypes.contacts)?(t.scheduledQ=e,i.currentConversation.id=null,t.loading?void 0:o(e,1)):(i.search.scheduledQ="",i.search.resultCount=0)}}(this),i.setScheduleQ=_.debounce(c,100),i.changeSearchType=function(){return function(e){var t;return t=i.search,e!==t.searchType?(t.searchType=e,t.scheduledQ.length||(t.resultCount=0),t.scheduledQ.length&&t.searchType===t.searchTypes.messages||t.searchType===t.searchTypes.contacts?o(i.search.scheduledQ):void 0):void 0}}(this),i.conversationPath=function(e){return"/messages/conversations/"+e.id},i.goToMessages=function(){return s.path("/messages",!0),window.location.reload()},i.$on("$locationChangeSuccess",function(){return"/"===s.path()?n(function(){return function(){return window.location.reload()}}(this)):void 0})}])}.call(this),function(){app.factory("ConversationsResource",["$resource",function(e){return e("/api/v2/messaging/conversations.json",{},{readAll:{method:"GET"},search:{url:"/api/v2/messaging/conversations/search.json",method:"GET"},read:{url:"/api/v2/messaging/conversations/:id/messages.json",method:"GET"},change_type:{url:"/api/v2/messaging/conversations/:id/change_type.json",method:"POST",params:{id:"@id"}},archive:{url:"/api/v2/messaging/conversations/:id/archive.json",method:"POST",params:{id:"@id"}},unarchive:{url:"/api/v2/messaging/conversations/:id/unarchive.json",method:"POST",params:{id:"@id"}},destroy:{url:"/api/v2/messaging/conversations/:id.json",method:"DELETE"},markAsRead:{url:"/api/v2/messaging/conversations/:id/mark_as_read.json",method:"PATCH",params:{id:"@id"}}})}])}.call(this),function(){window.app.factory("ConversationsRepository",["ConversationsResource","$q",function(e){var t;return new(t=function(){function t(){}return t.prototype.readAll=function(t,i,n){var s;return s={page:i,per_page:n},t.archived?s.archived=!0:t.conversationType&&(s.conversation_type=t.conversationType),e.readAll(s).$promise},t.prototype.read=function(t,i,n,s,a){var r;return r={page:i,id:t,per_page:a},n&&(r.message_id=n,r.direction=s||"next"),e.read(r).$promise},t.prototype.change_type=function(t,i){var n;return n={id:t,conversation_type:i},e.change_type(n).$promise},t.prototype.archive=function(t){return e.archive({id:t}).$promise},t.prototype.unarchive=function(t){return e.unarchive({id:t}).$promise},t.prototype.destroy=function(t){return e.destroy({id:t}).$promise},t.prototype.markAsRead=function(t){return e.markAsRead({id:t}).$promise},t}())}])}.call(this),function(){window.app.factory("ConversationsSearchRepository",["ConversationsResource","MessagesResource","$q",function(e,t){var i;return new(i=function(){function i(){}return i.prototype.searchByContact=function(t,i,n){var s;return s={page:t,per_page:i,q:n},e.search(s).$promise},i.prototype.searchByMessage=function(e,i,n){var s;return s={page:e,per_page:i,q:n},t.search(s).$promise},i}())}])}.call(this),function(){app.directive("submitByCmdEnter",[function(){return{restrict:"A",link:function(e,t){return t.on("keydown",function(){return function(e){return 13===e.keyCode&&(e.metaKey||e.ctrlKey)?t.trigger("submit"):void 0}}(this))}}}]),app.directive("conversation",["ConversationsRepository","$timeout",function(e,t){return{templateUrl:"messages/directives/conversation.html",restrict:"E",controller:"ConversationController",scope:{currentConversation:"=",search:"="},link:function(e,i){var n,s,a,r,o,l,c;return n=$("body,html"),l=$(window),s=$(document),o=i.find("textarea"),r=i.find(".messages-send"),a=i.find(".messages-list"),c=null,autosize(o[0]),o.on("autosize:resized",function(){return function(){var e,t;return t=r.outerHeight(),a.css("padding-bottom",r.outerHeight()),e=window.pageYOffset,c||(c=t),c>t?window.scrollTo(0,e+(t-c)+t):window.scrollTo(0,e+(t-c)),c=t}}(this)),e.$watch("currentConversation.id",function(){return function(){var e,t;return e=i.find(".messages-actions ul"),e.is(":visible")?(t=i.find(".messages-actions button"),t.click()):void 0}}(this)),e.$watch("currentConversation.messages.length",function(){return function(e,t){return e&&t&&e>t?autosize.update(o[0]):void 0}}(this)),e.scrollToBottom=function(){return function(){return t(function(){return n.scrollTop(s.height())})}}(this),e.currentScrollPosition=0,$(document).on("scroll",n,function(){return function(){var s,a;return e.currentScrollPosition=$(window).scrollTop(),e.lastPageReached?void 0:e.loading===!1&&0===l.scrollTop()&&(s=$(i.find(".message-container")[0]),a=e.loadNextPage())?a.then(function(){return t(function(){return n.scrollTop(s.offset().top-s.height())})}):void 0}}(this)),e.$on("$destroy",function(){return function(){return $(document).off("scroll",n)}}(this)),e.$on("$locationChangeStart",function(){return function(e,t,i){return!t.match("messages/conversations")&&i.match("messages/conversations")?window.scrollTo(0,0):void 0}}(this))}}}])}.call(this),function(){app.directive("conversations",["ConversationsRepository","$routeParams","$timeout",function(e,t,i){return{templateUrl:"messages/directives/conversations.html",restrict:"E",controller:"ConversationsController",scope:{currentConversation:"=",search:"="},link:function(e,t){var n,s,a,r,o,l,c,d,u;return a=$("#main-nav"),n=$("body"),o=t.find(".messages-sidebar"),r=t.find(".messages-header"),l=t.find(".messages-tabs"),s=t.find(".messages-chats"),c=t.find(".messages-search-input input"),d=$(window).width(),i(function(){return $(".modal-backdrop").remove(),$("body").removeClass("modal-open")}),i(function(){return function(){var i;return i=t.find(".messages-chats-empty img"),i.length?i.on("load",function(){return e.setElementChatHeight()}):void 0}}(this)),e.setElementChatHeight=function(){var e;return e=a.outerHeight(),o.css("top",e),n.scrollTop(n[0].scrollHeight)},i(function(){return function(){return e.setElementChatHeight()}}(this)),u=function(){return function(){return i(function(){return t.find(".message-body-preview").dotdotdot({ellipsis:"..."})})}}(this),$(window).resize(function(){return function(){return u()}}(this)),e.$watch("currentConversation.selected",function(){return function(){return i(function(){return e.setElementChatHeight()})}}(this)),e.$watch("conversations.length",function(){return function(t,i){return i!==t?(e.setElementChatHeight(),u()):void 0}}(this)),e.$watch("search.conversations.length",function(){return function(i,n){return n!==i&&n>i?(e.setElementChatHeight(),t.find(".search-results .messages-chats").perfectScrollbar("update"),t.find(".messages-chats").scrollTop(0)):void 0}}(this)),e.$watch("search.isActive",function(){return function(e){return e===!0?t.find(".search-results .messages-chats").perfectScrollbar():t.find(".conversation-list .messages-chats").perfectScrollbar()}}(this)),e.$watch("search.scheduledQ",function(){return function(e){return e?t.find(".messages-chats").scrollTop(0):void 0}}(this)),e.onSearchKeydown=function(){return function(t){return 27===t.keyCode?(t.stopPropagation(),t.preventDefault(),e.closeSearch(),i(function(){return c.blur()})):void 0}}(this)}}}])}.call(this),function(){window.app.factory("Submitting",["$q",function(e){return function(t){return function(i){var n;if(!this.submitting)return this.submitting=!0,n=this,e.when(t(i))["finally"](function(){return n.submitting=!1})}}}])}.call(this),function(){var e;e=function(){function e(){}return e.prototype.processVideoUrl=function(e,t){var i,n,s,a,r;if("object"==typeof e?(i=$(e),s="https://"+i.val().replace(/(http|https):\/\//,""),i.val(s)):s=e,a=s.match(/(?:www.){0,1}((?:(?:vimeo|youtube).com)|(?:youtu).be)/i),a&&(n=a[1]),n)switch(n){case"vimeo.com":r="https://vimeo.com/api/oembed.json";break;case"youtube.com":case"youtu.be":r="https://noembed.com/embed";break;default:alert("We only support video from Vimeo & YouTube")}else alert("We only support video from Vimeo & YouTube");return r?$.ajax({url:r,type:"GET",dataType:"jsonp",data:{url:s},success:function(){return function(e){return t(e)}}(this)}):void 0},e.prototype.process3DModelUrl=function(e,t){var i,n,s,a;return"object"==typeof e?(i=$(e),n="https://"+i.val().replace(/(http|https):\/\//,""),i.val(n)):n=e,s=n.match(/(?:www.){0,1}(sketchfab.com)|(skfb.ly)/i),s?a="https://sketchfab.com/oembed":alert("We support 3D models only from Sketchfab"),a?$.getJSON(a,{url:n,maxwidth:540,dataType:"jsonp"}).success(function(){return function(e){return t(e)}}(this)).error(function(){return function(e){return alert("Sorry, we can not use this model for embedding"),t(e)}}(this)):void 0},e.prototype.validateAndSubmitUploadedFiles=function(e,t,i){var n,s;return n=!1,s={},$.each(t.files,function(e,i){var s,a;return i&&(s=/\.(mview)$/i.test(i.name),s?i.size>window.upload_config.maxMarmosetFileSize&&(a=(window.upload_config.maxMarmosetFileSize/1048576).toFixed(0),n="Please upload a smaller mview file, max size is "+a+"MB.",window.user_pro_member||(n+=" Upgrade to PRO to upload larger Marmoset Viewer files!")):(/\.(jpg|jpeg|png|gif|mview)$/i.test(i.name)||(n="Unsupported file type. Please upload either images in .png, .jpg or .gif format or a Marmoset Viewer .mview file"),i.size>window.upload_config.maxImageSize&&(a=(window.upload_config.maxImageSize/1048576).toFixed(0),n="Please upload a smaller image, max size is "+a+"MB."))),n||!i?t.files.splice(e,1):void 0}),n&&alert(n),t.files.length&&(t.submit(),s.position=i+t.files.length),s},e.prototype.validateAndSubmitUploadedImages=function(e,t,i){var n,s;return n=!1,s={},$.each(t.files,function(){return function(e,i){var s;return i&&(/\.(jpg|jpeg|png)$/i.test(i.name)||(n="Unsupported file type. Please upload either images in .png, .jpg format"),i.size>window.upload_config.maxImageSize&&(s=(window.upload_config.maxImageSize/1048576).toFixed(0),n="Please upload a smaller image, max size is "+s+"MB.")),n||!i?t.files.splice(e,1):void 0}}(this)),n&&alert(n),t.files.length&&(t.submit(),s.position=i+t.files.length),s},e.prototype.validateAndSubmitUploadedPanos=function(e,t,i){var n,s;return n=!1,s={},$.each(t.files,function(){return function(e,i){var s;return i&&(/\.(jpg|jpeg)$/i.test(i.name)||(n="Unsupported file type. Please upload panorama in .jpg format"),i.size>window.upload_config.maxPanoFileSize&&(s=(window.upload_config.maxPanoFileSize/1048576).toFixed(0),n="Please upload a smaller image, max size is "+s+"MB.")),n||!i?t.files.splice(e,1):void 0}}(this)),n&&alert(n),t.files.length&&(t.submit(),s.position=i+t.files.length),s},e.prototype.validateAndSubmitUploadedPdfFiles=function(e,t){var i;return i=!1,$.each(t.files,function(){return function(e,n){var s;return n&&(/\.(pdf)$/i.test(n.name)||(i="Unsupported file type. Please upload files in .pdf format"),n.size>window.upload_config.maxPdfFileSize&&(s=(window.upload_config.maxPdfFileSize/1048576).toFixed(0),i="Please upload a smaller PDF, max size is "+s+"MB.")),i||!n?t.files.splice(e,1):void 0}}(this)),i&&alert(i),t.files.length?t.submit():void 0},e.prototype.handleServerError=function(e,t){var i,n;return n=e.jqXHR.responseJSON,i=n&&n.errors&&n.errors[t],i?Flash.error(i):503===e.jqXHR.status||504===e.jqXHR.status?Flash.error("Image upload timed out. Please try uploading image with smaller dimension."):void 0},e}(),window.AssetsUploaderHelper=e}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(){this.add3DModel=t(this.add3DModel,this),this.addVideo=t(this.addVideo,this),this.errors3DModel=t(this.errors3DModel,this),this.errorsVideo=t(this.errorsVideo,this),this.ready()}return e.prototype.ready=function(){return this.$uploader=$("#project-assets-uploader"),this.$coverUploader=$("#project-cover-uploader"),this.$list=$("#upload-list"),this.$dropzone=$("#dropzone"),this.position=this.$uploader.data("position"),this.isCustomCover=!1,this.bindSortingHandler(),this.bindDestroyEvents(),this.bindCropEvents(),this.bindTitleEditEvents(),this.bindAssetsUploader(),this.bindCoverUploader(),this.bindCoverRemove(),this.bindAddVideoEvents(),this.bindAdd3DModelEvents(),this.bindAddPanoEvents(),this.bindDragAndDropFiles(),this.bindDragAndDropCover(),this.updateCoverState(),this.resizeAssetPanels(),$(window).resize(this.resizeAssetPanels),this.bindProjectTitleChanges(),this.assetsUploaderHelper=new AssetsUploaderHelper},e.prototype.bindProjectTitleChanges=function(){return $("#my_project_title").keyup(function(e){var t;return t=$(e.target).val(),t=window.defaultSanitizer.stripTags(t),""===t&&(t="Untitled"),$("#project-title").html(t)})},e.prototype.addOne=function(e){var t,i,n;return e.id?(n=JST["templates/backend/asset_"+e.asset_type],t=$(n({asset:e})),_.isNumber(e.position)&&t.data("position",e.position),"cover"===e.asset_type&&$("#upload-list").children('[data-type="cover"]').empty().remove(),_.isNumber(e.position)?(i=null,this.$list.children().each(function(){return i?Math.abs(e.position-$(this).data("position"))<Math.abs(e.position-i.data("position"))?i=$(this):void 0:i=$(this)}),i?i.data("position")<=e.position?i.after(t):i.data("position")>e.position?i.before(t):this.$list.append(t):this.$list.append(t)):this.$list.append(t),this.setProjectFields(),this.resizeAssetPanels(),this.updateCoverState()):void Flash.error("Asset is not valid")},e.prototype.setProjectFields=function(){var e;return e=[],this.$list.find(".artwork-col").each(function(){return e.push($(this).data("id"))}),$("#my_project_asset_ids").val(e.join(","))},e.prototype.bindSortingHandler=function(){return this.$list.sortable({disable:!0,helper:"clone",placeholder:"sortable-placeholder",items:".artwork-col",scroll:!1,start:function(e,t){var i;return t.placeholder.html('<div class="artwork-placeholder"></div>'),i=t.item.closest("#upload-list").find(".artwork-col").not(t.item).find(".artwork:first").innerHeight(),t.placeholder.children(":first").height(i)},update:function(e){return function(){return e.sortArtwork()}}(this)})},e.prototype.sortArtwork=function(){var e;return e={},this.$list.find(".artwork-col").each(function(t,i){return e[$(i).data("id")]=t,$(i).data("position",t)}),$.ajax({url:"/attachments/reorder",type:"PATCH",data:{order:e},success:function(e){return function(){return e.updateCoverState()}}(this)})},e.prototype.bindTitleEditEvents=function(){return this.$list.on("change","input[data-artwork-title]",function(){var e,t,i;return e=$(this).parents(".artwork"),t=e.data("id"),i=$(this).val(),$.ajax({url:"/attachments/"+t+".json",dataType:"json",type:"PATCH",data:{asset:{title:i}}})})},e.prototype.bindDestroyEvents=function(){return this.$list.on("click",".remove",function(e){return function(t){var i,n;return confirm("Are you sure you want to remove this asset? It cannot be undone!")&&(t.preventDefault(),i=$(t.target).parents(".artwork-col"),n=i.data("id"),$.ajax({url:"/attachments/"+n+".json",dataType:"json",type:"delete",success:function(){return i.remove(),e.updateCoverState()}})),!1}}(this))},e.prototype.bindAssetsUploader=function(){var e;return e=window.images_host?"//"+window.images_host:"",this.$uploader.fileupload({autoUpload:!0,dataType:"json",url:e+"/attachments.json",singleFileUploads:!1,limitMultiFileUploads:5,dropZone:this.$dropzone,xhrFields:{withCredentials:!0},formData:function(e){return function(){return[{name:"authenticity_token",value:$('meta[name="csrf-token"]').attr("content")},{name:"asset[position]",value:e.position}]}}(this),add:function(e){return function(t,i){var n;return n=e.assetsUploaderHelper.validateAndSubmitUploadedFiles(t,i,e.position),n.position?e.position=n.position:void 0}}(this),done:function(e){return function(t,i){return $.each(i.result,function(t,i){return e.addOne(i)
}),e.sortArtwork()}}(this),start:function(){return $("#upload-progress").slideDown()},progressall:function(e){return function(t,i){var n,s,a;return n=$("#upload-progress").find(".progress-bar"),a=parseInt(i.loaded/i.total*100,10),100>a&&(e.assetUploaderProgress=.5*a,n.css("width",e.assetUploaderProgress+"%").attr("aria-valuenow",e.assetUploaderProgress)),100===a?(s=i.total>3e3?i.total/3e3:1,e.assetUploaderProgress=50,e.assetUploaderTimer=setInterval(function(){return e.assetUploaderProgress+=2,e.assetUploaderProgress<=100?n.css("width",e.assetUploaderProgress+"%").attr("aria-valuenow",e.assetUploaderProgress):void 0},s)):void 0}}(this),stop:function(e){return function(){return e.assetUploaderTimer&&clearInterval(e.assetUploaderTimer),$("#upload-progress").slideUp()}}(this),fail:function(e){return function(t,i){return e.assetsUploaderHelper.handleServerError(i,"image")}}(this)})},e.prototype.bindCoverUploader=function(){var e;return e=window.images_host?"//"+window.images_host:"",this.$coverUploader.fileupload({autoUpload:!0,dataType:"json",url:e+"/attachments.json",singleFileUploads:!0,dropZone:$("#preview-image-container"),xhrFields:{withCredentials:!0},formData:function(){return function(){return[{name:"authenticity_token",value:$('meta[name="csrf-token"]').attr("content")}]}}(this),add:function(e){return function(t,i){return e.assetsUploaderHelper.validateAndSubmitUploadedImages(t,i)}}(this),done:function(e){return function(t,i){$.each(i.result,function(t,i){return e.addOne(i),e.isCustomCover=!0}),e.sortArtwork(),$("#preview-image-container").find(".loading").hide()}}(this),start:function(){$("#preview-image-container").find(".loading").show()},stop:function(){return function(){return $("#preview-image-container").find(".loading").hide()}}(this),fail:function(e){return function(t,i){return e.assetsUploaderHelper.handleServerError(i,"image"),$("#preview-image-container").find(".loading").hide()}}(this)})},e.prototype.bindCoverRemove=function(){return this.$coverUploader.find(".remove-image-button").on("ajax:before",function(e){return function(){return e.$list.children('[data-type="cover"]').empty().remove(),$("#my_project_id").val()?void 0:(e.updateCoverState(),!1)}}(this)),this.$coverUploader.find(".remove-image-button").on("ajax:success",function(e){return function(){return e.updateCoverState()}}(this))},e.prototype.updateCoverState=function(){var e,t,i,n,s,a,r,o;return o=this.$list.children(".artwork-col").length>0,r=this.$list.children('[data-type="cover"]').length>0,i=$("#thumbnail-preview-panel"),t=$("#preview-image-container > img"),e=this.$list.children('[data-type="cover"]'),e.length>0||(e=this.$list.children(".artwork-col").first()),o?(n=e.data("id"),s=e.data("image-url"),a=e.data("thumb-url"),i.data("image-url",s).data("asset-id",n),t.attr("src",a),$("#crop-button").removeClass("hidden")):(t.attr("src",i.data("placeholder-url")),$("#crop-button").addClass("hidden")),r?this.$coverUploader.find(".remove-image-button").removeClass("hidden"):this.$coverUploader.find(".remove-image-button").addClass("hidden"),this.setProjectFields()},e.prototype.bindAdd3DModelEvents=function(){var e,t,i,n;return $("#project-add-3dmodel-btn").on("click",function(e){return function(){return e.open3DModelModal()}}(this)),this.modal_3dmodel=$("#add-3dmodel-modal"),t=this.modal_3dmodel.find("form"),t.find("#model_3d-url").on("paste",function(e){return function(t){var i;return i=e,setTimeout(function(){return i.assetsUploaderHelper.process3DModelUrl(t.target,function(){return function(e){return e.error?i.modal_3dmodel.find("#model_3d").hide():(i.modal_3dmodel.find("#model_3d-preview").html(e.html).fitVids({customSelector:"iframe[src^='https://sketchfab.com']"}),i.modal_3dmodel.find("#model_3d-title").val(e.title),i.modal_3dmodel.find("#model_3d").show())}}(this))})}}(this)),n=this,e=t.find("#add-3d-model-btn"),i=e.val(),e.click(function(s){return e.attr("disabled","disabled"),e.val(e.data("disable-with")||"Please wait.."),s.preventDefault(),$.ajax({url:t.attr("action"),type:"POST",dataType:"json",data:t.serialize(),complete:function(){return e.removeAttr("disabled"),e.val(i)},success:n.add3DModel,error:n.errors3DModel})})},e.prototype.bindAddVideoEvents=function(){var e,t,i,n;return $("#project-add-video-btn").on("click",function(e){return function(){return e.openVideoModal()}}(this)),this.modal=$("#add-video-modal"),t=this.modal.find("form"),t.find("#video-url").on("paste",function(e){return function(t){var i;return i=e,setTimeout(function(){return i.assetsUploaderHelper.processVideoUrl(t.target,function(){return function(e){return e.error?alert("Sorry, we cannot use this video for embedding"):(i.modal.find("#video-preview").html(e.html).fitVids(),i.modal.find("#video-title").val(e.title),i.modal.find("#video").show())}}(this))})}}(this)),n=this,e=t.find("#add-video-btn"),i=e.val(),e.click(function(s){return e.attr("disabled","disabled"),e.val(e.data("disable-with")||"Please wait.."),s.preventDefault(),$.ajax({url:t.attr("action"),type:"POST",dataType:"json",data:t.serialize(),complete:function(){return e.removeAttr("disabled"),e.val(i)},success:n.addVideo,error:n.errorsVideo})})},e.prototype.bindAddPanoEvents=function(){var e,t,i;return $("#project-add-pano-btn").click(function(){return $("#add-pano-modal").modal({backdrop:"static",keyboard:!1})}),t=$("#pano-uploader"),e=t.find(".drop-files"),i=window.images_host?"//"+window.images_host:"",t.fileupload({autoUpload:!0,dataType:"json",url:i+"/attachments.json",singleFileUploads:!0,dropZone:e,xhrFields:{withCredentials:!0},formData:function(e){return function(){return[{name:"authenticity_token",value:$('meta[name="csrf-token"]').attr("content")},{name:"asset[position]",value:e.position}]}}(this),add:function(e){return function(t,i){var n;return n=e.assetsUploaderHelper.validateAndSubmitUploadedPanos(t,i,e.position),n.position?e.position=n.position:void 0}}(this),done:function(e){return function(t,i){return $.each(i.result,function(t,i){return e.addOne(i)}),e.sortArtwork(),e.closePanoModal()}}(this),start:function(){return this.assetUploaderProgress=0,$("#pano-upload-progress").slideDown()},progressall:function(e){return function(t,i){var n,s,a;return n=$("#pano-upload-progress").find(".progress-bar"),a=parseInt(i.loaded/i.total*100,10),100>a&&(e.assetUploaderProgress=.5*a,n.css("width",e.assetUploaderProgress+"%").attr("aria-valuenow",e.assetUploaderProgress)),100===a?(s=i.total>3e3?i.total/3e3:1,e.assetUploaderProgress=50,e.assetUploaderTimer=setInterval(function(){return e.assetUploaderProgress+=2,e.assetUploaderProgress<=100?n.css("width",e.assetUploaderProgress+"%").attr("aria-valuenow",e.assetUploaderProgress):void 0},s)):void 0}}(this),stop:function(e){return function(){return e.assetUploaderTimer&&clearInterval(e.assetUploaderTimer),$("#pano-upload-progress").slideUp()}}(this),fail:function(e){return function(t,i){return e.assetsUploaderHelper.handleServerError(i,"image")}}(this)}),e.bind("dragover",function(){return $(this).addClass("active")}),e.bind("dragleave",function(){return $(this).removeClass("active")}),e.bind("drop",function(){return $(this).removeClass("active")})},e.prototype.closePanoModal=function(){return $("#add-pano-modal").modal("hide")},e.prototype.openVideoModal=function(){var e;return this.modal.find("#video-url").val(""),this.modal.find("#video-preview").html(""),this.modal.find("#video-title").val(""),this.modal.find("#video").hide(),e=$(".artwork").length,this.modal.find("#video-asset-position").val(e)},e.prototype.open3DModelModal=function(){var e;return this.modal_3dmodel.find("#model_3d-url").val(""),this.modal_3dmodel.find("#model_3d-preview").html(""),this.modal_3dmodel.find("#model_3d-title").val(""),this.modal_3dmodel.find("#model_3d").hide(),e=$(".artwork").length,this.modal_3dmodel.find("#model_3d-asset-position").val(e)},e.prototype.errorsVideo=function(e){return alert(e.responseJSON.errors.oembed[0]),this.modal.find("#video-title").val(""),this.modal.find("#video-preview").html(""),this.modal.find("#video").hide(),$.rails.enableFormElements(this.modal.find("form"))},e.prototype.errors3DModel=function(e){return alert(e.responseJSON.errors.oembed[0]),this.modal_3dmodel.find("#model_3d-preview").html(""),this.modal_3dmodel.find("#model_3d-title").val(""),this.modal_3dmodel.find("#model_3d").hide(),$.rails.enableFormElements(this.modal_3dmodel.find("form"))},e.prototype.addVideo=function(e){return this.addOne(e),this.modal.modal("hide"),!1},e.prototype.add3DModel=function(e){return this.addOne(e),this.modal_3dmodel.modal("hide"),!1},e.prototype.bindCropEvents=function(){return $("#crop-button").click(function(e){var t,i,n,s,a,r,o,l;return e.preventDefault(),i=$("#crop-image-modal"),n=i.find("form"),s=i.find("img.cropper"),a=$("#thumbnail-preview-panel"),l=a.data("image-url"),r=a.data("asset-id"),s.attr("src",l),i.modal("show"),i.on("shown.bs.modal",function(){return s.cropper({dragMode:"none",movable:!1,rotatable:!1,scalable:!1,zoomable:!1,zoomOnTouch:!1,zoomOnWheel:!1,checkCrossOrigin:!1,aspectRatio:1,minContainerHeight:100,minContainerWidth:100,viewMode:1})}),i.on("hide.bs.modal",function(){return s.cropper("destroy")}),t=n.find("#crop-image-btn"),o=t.val(),t.on("click",function(e){var a;return e.preventDefault(),a=s.cropper("getData"),$("#asset_crop_x").val(a.x),$("#asset_crop_y").val(a.y),$("#asset_crop_w").val(a.width),$("#asset_crop_h").val(a.height),$.ajax({url:"/attachments/"+r+"/crop.json",type:"PATCH",dataType:"json",data:n.serialize(),success:function(e){var n;return n=$("#preview-image-container > img"),n.attr("src",e.thumb_url),$("#upload-list").children("[data-id="+r+"]").data("thumb-url",e.thumb_url),i.modal("hide"),t.val(o),t.prop("disabled",!1)},error:function(){return t.on("click",buttonOnClick),t.val(o),t.prop("disabled",!1)}}),t.off("click"),t.prop("disabled",!0),t.val(t.data("disable-with")||"Please wait..")})})},e.prototype.resizeAssetPanels=function(){return $(".asset-image-container").each(function(){var e,t,i,n,s;return s=$(this).width(),t=s,$(this).css("height",t),e=$(this).children("img").data("aspect"),e>1?(i=s/e,n=(t-i)/2,$(this).children("img").css("margin-top",n)):void 0})},e.prototype.bindDragAndDropFiles=function(){return this.$dropzone.bind("dragover",function(){return $(this).addClass("active")}),this.$dropzone.bind("dragleave",function(){return $(this).removeClass("active")}),this.$dropzone.bind("drop",function(){return $(this).removeClass("active")})},e.prototype.bindDragAndDropCover=function(){return $("#preview-image-container").bind("dragover",function(){return $(this).addClass("active")}),$("#preview-image-container").bind("dragleave",function(){return $(this).removeClass("active")}),$("#preview-image-container").bind("drop",function(){return $(this).removeClass("active")})},e}(),window.ProjectAssetsUploader=e}.call(this),function(){moment.locale(window.locale)}.call(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,n){var s,a,r,o=t.nodeName.toLowerCase();return"area"===o?(s=t.parentNode,a=s.name,t.href&&a&&"map"===s.nodeName.toLowerCase()?(r=e("img[usemap='#"+a+"']")[0],!!r&&i(r)):!1):(/^(input|select|textarea|button|object)$/.test(o)?!t.disabled:"a"===o?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),n="absolute"===i,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return n&&"static"===t.css("position")?!1:s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var n=e.attr(i,"tabindex"),s=isNaN(n);return(s||n>=0)&&t(i,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function n(t,i,n,a){return e.each(s,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var s="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?r["inner"+i].call(this):this.each(function(){e(this).css(a,n(this,t)+"px")})},e.fn["outer"+i]=function(t,s){return"number"!=typeof t?r["outer"+i].call(this,t):this.each(function(){e(this).css(a,n(this,t,!0,s)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,n,s=e(this[0]);s.length&&s[0]!==document;){if(i=s.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(s.css("zIndex"),10),!isNaN(n)&&0!==n))return n;s=s.parent()}return 0}}),e.ui.plugin={add:function(t,i,n){var s,a=e.ui[t].prototype;for(s in n)a.plugins[s]=a.plugins[s]||[],a.plugins[s].push([i,n[s]])},call:function(e,t,i,n){var s,a=e.plugins[t];if(a&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(s=0;s<a.length;s++)e.options[a[s][0]]&&a[s][1].apply(e.element,i)}}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t=0,i=Array.prototype.slice;return e.cleanData=function(t){return function(i){var n,s,a;for(a=0;null!=(s=i[a]);a++)try{n=e._data(s,"events"),n&&n.remove&&e(s).triggerHandler("remove")}catch(r){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var s,a,r,o,l={},c=t.split(".")[0];return t=t.split(".")[1],s=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[c]=e[c]||{},a=e[c][t],r=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new r(e,t)},e.extend(r,a,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),o=new i,o.options=e.widget.extend({},o.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},s=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=s,t=n.apply(this,arguments),this._super=i,this._superApply=a,t}}()):void(l[t]=n)}),r.prototype=e.widget.extend(o,{widgetEventPrefix:a?o.widgetEventPrefix||t:t},l,{constructor:r,namespace:c,widgetName:t,widgetFullName:s}),a?(e.each(a._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete a._childConstructors):i._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(t){for(var n,s,a=i.call(arguments,1),r=0,o=a.length;o>r;r++)for(n in a[r])s=a[r][n],a[r].hasOwnProperty(n)&&void 0!==s&&(t[n]=e.isPlainObject(s)?e.isPlainObject(t[n])?e.widget.extend({},t[n],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,n){var s=n.prototype.widgetFullName||t;e.fn[t]=function(a){var r="string"==typeof a,o=i.call(arguments,1),l=this;return r?this.each(function(){var i,n=e.data(this,s);return"instance"===a?(l=n,!1):n?e.isFunction(n[a])&&"_"!==a.charAt(0)?(i=n[a].apply(n,o),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'")}):(o.length&&(a=e.widget.extend.apply(null,[a].concat(o))),this.each(function(){var t=e.data(this,s);t?(t.option(a||{}),t._init&&t._init()):e.data(this,s,new n(a,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,s,a,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},n=t.split("."),t=n.shift(),n.length){for(s=r[t]=e.widget.extend({},this.options[t]),a=0;a<n.length-1;a++)s[n[a]]=s[n[a]]||{},s=s[n[a]];if(t=n.pop(),1===arguments.length)return void 0===s[t]?null:s[t];s[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=i}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var s,a=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=s=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),e.each(n,function(n,r){function o(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?a[r]:r).apply(a,arguments):void 0}"string"!=typeof r&&(o.guid=r.guid=r.guid||o.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+a.eventNamespace,d=l[2];d?s.delegate(d,c,o):i.bind(c,o)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var s,a,r=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(s in a)s in i||(i[s]=a[s]);return this.element.trigger(i,n),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,a){"string"==typeof s&&(s={effect:s});var r,o=s?s===!0||"number"==typeof s?i:s.effect||i:t;s=s||{},"number"==typeof s&&(s={duration:s}),r=!e.isEmptyObject(s),s.complete=a,s.delay&&n.delay(s.delay),r&&e.effects&&e.effects.effect[o]?n[t](s):o!==t&&n[o]?n[o](s.duration,s.easing,a):n.queue(function(i){e(this)[t](),a&&a.call(n[0]),i()})}}),e.widget}),function(e){"function"==typeof define&&define.amd?define(["jquery","./widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1===i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return s&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),t=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(n){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper),s=n?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&s[0]===this.element[0]&&this._setPositionRelative(),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options,a=this.document[0];return this.relativeContainer=null,s.containment?"window"===s.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===s.containment?void(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):s.containment.constructor===Array?void(this.containment=s.containment):("parent"===s.containment&&(s.containment=this.helper[0].parentNode),i=e(s.containment),n=i[0],void(n&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)
},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,s,a,r=this.options,o=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return o&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),r.grid&&(s=r.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,c=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-r.grid[1]:s+r.grid[1]:s,a=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-r.grid[0]:a+r.grid[0]:a),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:o?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:o?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,n){var s=e.extend({},i,{item:n.element});n.sortables=[],e(n.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,s))})},stop:function(t,i,n){var s=e.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,e.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,s))})},drag:function(t,i,n){e.each(n.sortables,function(){var s=!1,a=this;a.positionAbs=n.positionAbs,a.helperProportions=n.helperProportions,a.offset.click=n.offset.click,a._intersectsWith(a.containerCache)&&(s=!0,e.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(s=!1),s})),s?(a.isOver||(a.isOver=1,n._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=n.offset.click.top,a.offset.click.left=n.offset.click.left,a.offset.parent.left-=n.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=n.offset.parent.top-a.offset.parent.top,n._trigger("toSortable",t),n.dropped=a.element,e.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,a.fromOutside=n),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(t),i.position=n._generatePosition(t,!0),n._trigger("fromSortable",t),n.dropped=!1,e.each(n.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,n){var s=e("body"),a=n.options;s.css("cursor")&&(a._cursor=s.css("cursor")),s.css("cursor",a.cursor)},stop:function(t,i,n){var s=n.options;s._cursor&&e("body").css("cursor",s._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,n){var s=e(i.helper),a=n.options;s.css("opacity")&&(a._opacity=s.css("opacity")),s.css("opacity",a.opacity)},stop:function(t,i,n){var s=n.options;s._opacity&&e(i.helper).css("opacity",s._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,n){var s=n.options,a=!1,r=n.scrollParentNotHidden[0],o=n.document[0];r!==o&&"HTML"!==r.tagName?(s.axis&&"x"===s.axis||(n.overflowOffset.top+r.offsetHeight-t.pageY<s.scrollSensitivity?r.scrollTop=a=r.scrollTop+s.scrollSpeed:t.pageY-n.overflowOffset.top<s.scrollSensitivity&&(r.scrollTop=a=r.scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(n.overflowOffset.left+r.offsetWidth-t.pageX<s.scrollSensitivity?r.scrollLeft=a=r.scrollLeft+s.scrollSpeed:t.pageX-n.overflowOffset.left<s.scrollSensitivity&&(r.scrollLeft=a=r.scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(t.pageY-e(o).scrollTop()<s.scrollSensitivity?a=e(o).scrollTop(e(o).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(o).scrollTop())<s.scrollSensitivity&&(a=e(o).scrollTop(e(o).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(t.pageX-e(o).scrollLeft()<s.scrollSensitivity?a=e(o).scrollLeft(e(o).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(o).scrollLeft())<s.scrollSensitivity&&(a=e(o).scrollLeft(e(o).scrollLeft()+s.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,n){var s=n.options;n.snapElements=[],e(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each(function(){var t=e(this),i=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,n){var s,a,r,o,l,c,d,u,m,p,g=n.options,f=g.snapTolerance,h=i.offset.left,v=h+n.helperProportions.width,b=i.offset.top,_=b+n.helperProportions.height;for(m=n.snapElements.length-1;m>=0;m--)l=n.snapElements[m].left-n.margins.left,c=l+n.snapElements[m].width,d=n.snapElements[m].top-n.margins.top,u=d+n.snapElements[m].height,l-f>v||h>c+f||d-f>_||b>u+f||!e.contains(n.snapElements[m].item.ownerDocument,n.snapElements[m].item)?(n.snapElements[m].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[m].item})),n.snapElements[m].snapping=!1):("inner"!==g.snapMode&&(s=Math.abs(d-_)<=f,a=Math.abs(u-b)<=f,r=Math.abs(l-v)<=f,o=Math.abs(c-h)<=f,s&&(i.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top),a&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),p=s||a||r||o,"outer"!==g.snapMode&&(s=Math.abs(d-b)<=f,a=Math.abs(u-_)<=f,r=Math.abs(l-h)<=f,o=Math.abs(c-v)<=f,s&&(i.position.top=n._convertPositionTo("relative",{top:d,left:0}).top),a&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[m].snapping&&(s||a||r||o||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[m].item})),n.snapElements[m].snapping=s||a||r||o||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,n){var s,a=n.options,r=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});r.length&&(s=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each(function(t){e(this).css("zIndex",s+t)}),this.css("zIndex",s+r.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,n){var s=e(i.helper),a=n.options;s.css("zIndex")&&(a._zIndex=s.css("zIndex")),s.css("zIndex",a.zIndex)},stop:function(t,i,n){var s=n.options;s._zIndex&&e(i.helper).css("zIndex",s._zIndex)}}),e.ui.draggable}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./mouse","./draggable"],e):e(jQuery)}(function(e){return e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var n=e.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,s=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(s=!0,!1):void 0}),s?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,n,s){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,r=(t.positionAbs||t.position.absolute).top+t.margins.top,o=a+t.helperProportions.width,l=r+t.helperProportions.height,c=i.offset.left,d=i.offset.top,u=c+i.proportions().width,m=d+i.proportions().height;switch(n){case"fit":return a>=c&&u>=o&&r>=d&&m>=l;case"intersect":return c<a+t.helperProportions.width/2&&o-t.helperProportions.width/2<u&&d<r+t.helperProportions.height/2&&l-t.helperProportions.height/2<m;case"pointer":return e(s.pageY,d,i.proportions().height)&&e(s.pageX,c,i.proportions().width);case"touch":return(r>=d&&m>=r||l>=d&&m>=l||d>r&&l>m)&&(a>=c&&u>=a||o>=c&&u>=o||c>a&&o>u);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n,s,a=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,o=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<a.length;n++)if(!(a[n].options.disabled||t&&!a[n].accept.call(a[n].element[0],t.currentItem||t.element))){for(s=0;s<o.length;s++)if(o[s]===a[n].element[0]){a[n].proportions().height=0;continue e}a[n].visible="none"!==a[n].element.css("display"),a[n].visible&&("mousedown"===r&&a[n]._activate.call(a[n],i),a[n].offset=a[n].element.offset(),a[n].proportions({width:a[n].element[0].offsetWidth,height:a[n].element[0].offsetHeight}))}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,s,a,r=e.ui.intersect(t,this,this.options.tolerance,i),o=!r&&this.isover?"isout":r&&!this.isover?"isover":null;o&&(this.options.greedy&&(s=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===s}),a.length&&(n=e(a[0]).droppable("instance"),n.greedyChild="isover"===o)),n&&"isover"===o&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,i),n&&"isout"===o&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable});